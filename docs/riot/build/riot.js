webpackJsonp([1],{203:function(e,t,n){(function(e){var i,r,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,l){"object"==s(t)&&"object"==s(e)?e.exports=l(n(9),n(6)):(r=[n(9),n(6)],i=l,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o))}("undefined"!=typeof self&&self,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=50)}({0:function(t,n){t.exports=e},10:function(e,n){e.exports=t},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}),n(54)},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optsMixin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"opts";return{init:function(){this.on("update",this.updateOpts),this._originalOpts=Object.keys(this.opts),this.updateOpts()},updateOpts:function(){if(this.opts)for(var t in this.opts[e])~this._originalOpts.indexOf(t)||(this.opts[t]=this.opts[e][t])}}}},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transitionMixin=function(e){return{init:function(){var t=this;if(this.opts.transition){var n=this.opts.transition.name,i=this.unmount,r=function(){var i=(e||function(){return t.root})();i&&(i.classList.add(n),i.classList.add(n+"-mount"),setTimeout(function(){i.classList.remove(n+"-mount")},10))},o=!1,s=function(){if(!o){o=!0;var r=(e||function(){return t.root})();if(!r)return i.call(t);r.addEventListener("transitionend",function(){i.call(t)}),r.classList.add(n+"-unmount")}};this.one("mount",r),Object.defineProperty(this,"unmount",{value:s})}}}}},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenerMixin=function(e){var t=e.eventType,n=void 0===t?"click":t,i=e.callback,r=e.regulate,o=void 0!==r&&r;return{init:function(){var e=!1,t=function(t){i&&(o?(e||window.requestAnimationFrame(function(){return i(t,function(){return e=!1})}),e=!0):i(t))};this.one("mount",function(){document.addEventListener(n,t)}),this.one("unmount",function(){document.removeEventListener(n,t)})}}}},54:function(e,t,n){"use strict";n(55),n(56),n(57)},55:function(e,t,n){n(10).tag2("treeview",'<div class="{rootNode.mixCss(⁗TreeView⁗)}"> <input type="search" class="{rootNode.mixCss(⁗search⁗)}" if="{inputs.get().search}" placeholder="{inputs.get().labels[⁗search.placeholder⁗]}" oninput="{onSearch}"> <treeviewnode opts="{inputs.get()}" selection="{opts.selection}" model="{inputs.get().sort ? inputs.get().model.sort(inputs.get().sort) : inputs.get().model}" filteredmodel="{filtered}" onselection="{rootNode.onSelect}" dragndrop="{rootNode.wrapDragNDrop()}" ancestors="{[]}" searched="{search.trim()}" depth="{0}"> </TreeViewNode> </div>',"","",function(e){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=this,r=n(0),o=n(6);this.mixin((0,o.optsMixin)()),this.mixin((0,o.listenerMixin)({eventType:"keyup",callback:function(e){return i.rootNode.onKey(e)}})),this.mixin((0,o.listenerMixin)({eventType:"keydown",callback:function(e){return i.rootNode.onKey(e)}})),this.filtered=null,this.search="",this.onSearch=function(e){var t=e.currentTarget.value;i.search=t,i.filtered=i.rootNode.filterTree(t)},this.inputs={get:function(){return t({},r.defaults,i.opts,{onSelect:i.opts.onselection})}},this.outputs={onSelect:this.inputs.get().onselection,onDrag:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.drag,onOver:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.over,onEnter:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.enter,onLeave:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.leave,onDrop:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.drop,onCancel:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.cancel},this.state={get:function(){return t({},i)},set:function(e){for(var t in e)t in i&&(i[t]=e[t])}},this.rootNode=new r.RootNode(this.inputs,this.outputs,this.state,this.update)})},56:function(e,t,n){n(10).tag2("treeviewnode",'<ul if="{!opts.folded && !opts.loading}" data-is="with-transition" transition="{opts.transition}" class="{node.ulCss()}" ondragover="{!opts.depth ? rootEvents.onDragOver : null}" ondragenter="{!opts.depth ? rootEvents.onDragEnter : null}" ondragleave="{!opts.depth ? rootEvents.onDragLeave : null}" ondrop="{!opts.depth ? rootEvents.onDrop : null}"> <li each="{item in getModel()}" class="{node.liCss(item)}" draggable="{node.getDragEvents(item).draggable}" ondragstart="{node.getDragEvents(item).onDragStart}" ondragover="{node.getDragEvents(item).onDragOver}" ondragenter="{node.getDragEvents(item).onDragEnter}" ondragleave="{node.getDragEvents(item).onDragLeave}" ondragend="{node.getDragEvents(item).onDragEnd}" ondrop="{node.getDragEvents(item).onDrop}"> <span class="{parent.node.mixCss(⁗item⁗)}" onclick="{parent.node.onClick(item)}"> <span if="{renderOpener(item, ⁗left⁗)}" class="{node.mixCss(⁗opener⁗)}" onclick="{node.onOpener(item, parent.opts.openerOpts.callback)}"></span> <virtual if="{!parent.opts.displaytag}"> {parent.opts.display(item, parent.opts)} </virtual> <virtual if="{parent.opts.displaytag}" data-is="{parent.opts.displaytag(item, parent.opts)}" item="{item}" inputs="{inputs.get()}"></virtual> <span if="{renderOpener(item, ⁗right⁗)}" class="{node.mixCss(⁗opener⁗)}" onclick="{node.onOpener(item, parent.opts.openerOpts.callback)}"></span> </span> <treeviewnode if="{node.hasChildren(item) || node.isAsync(item)}" opts="{parent.opts}" selection="{parent.opts.selection}" model="{getChildModel(item)}" filteredmodel="{getChildFiltered(item)}" ancestors="{getAncestors(item)}" depth="{parent.opts.depth + 1}" folded="{node.isFolded(item)}" loading="{node.isAsync(item) && !node.isFolded(item)}"> </TreeViewNode> </li> </ul> <span if="{opts.loading}"></span>',"","",function(e){"use strict";var t=this,i=n(0),r=n(6);this.mixin((0,r.optsMixin)()),this.unfolded=[],this.getModel=function(){return t.opts.searched?t.opts.model.filter(function(e){return t.opts.filteredmodel.has(e)}):t.opts.model},this.getChildModel=function(e){var n=e[t.opts.category];return t.node.isAsync(e)&&!t.node.isFolded(e)&&t.node.pending.indexOf(e)<0&&t.node.unwrapPromise(e),t.node.isAsync(e)||(n=t.opts.sort?n.sort(t.opts.sort):n),n},this.getChildFiltered=function(e){return t.opts.searched?t.opts.filteredmodel.get(e):null},this.getAncestors=function(e){return[].concat(t.opts.ancestors,[e])},this.renderOpener=function(e,n){return(t.node.hasChildren(e)||t.node.isAsync(e))&&t.opts.openerOpts.position===n};var o=function(){t.opts.onSelect=t.opts.onselection,t.opts.disabled=t.opts.disable};this.on("update",o),o(),this.inputs={get:function(){return t.opts}},this.state={get:function(){return t},set:function(e){for(var n in e)n in t&&(t[n]=e[n])}},this.node=new i.TreeNode(this.inputs,null,this.state,this.update),this.rootEvents=this.node.getDragEvents()})},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(6);t.default=r.default.tag("with-transition",!1,function(e){var t=this;this.mixin((0,o.transitionMixin)());var n=function(){for(var e in t.parent)t.parent.hasOwnProperty(e)&&(t[e]=t.parent[e])};n(),this.on("update",n)})},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(51);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var r=n(52);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(53);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})}})})}).call(t,n(77)(e))},204:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(492);var r=n(493),o=i(r),s=n(496),a=i(s),l=n(507),c=i(l);t.default=[o.default,a.default,c.default]},489:function(e,t,n){"use strict";var i=n(6),r=function(e){return e&&e.__esModule?e:{default:e}}(i);n(66),n(203),n(490),n(204),window.onload=function(){r.default.mount("*")}},490:function(e,t,n){"use strict";n(491),n(524),n(525),n(526)},491:function(e,t,n){n(6).tag2("app",'    <div class="App">\n            <planner plan="{plan}" maxdepth="{1}" sticky="{true}"></planner>\n        </div>\n    </div>\n',"","",function(e){"use strict";n(67);var t=n(204),i=function(e){return e&&e.__esModule?e:{default:e}}(t);this.plan=i.default})},492:function(e,t,n){var i=n(6);i.tag2("planner",'    <div class="Planner">\n        <div class="Planner opener" ref="opener">\n            <i class="{⁗fa⁗: true,                 ⁗fa-bars⁗: !opened,                 ⁗fa-times⁗: opened}"></i>\n        </div>\n        <aside ref="sidePanel" class="{⁗Planner⁗: true, ⁗side-panel⁗: true, opened: opened}">\n            <div><h1>Table of contents</h1></div>\n            <treeview model="{opts.plan}" css="{{ TreeView: ⁗PlannerTree⁗ }}" category="subs" selection="{selection}" onselection="{updateSelection}" strategies="{{ selection: [⁗ancestors⁗], click: [⁗select⁗], fold: [ foldDepth(), ⁗not-selected⁗, ⁗no-child-selection⁗ ]}}" openeropts="{{ position: ⁗none⁗ }}" displaytag="{display}">\n            </TreeView>\n        </aside>\n        <div ref="content" class="Planner content">\n            <div each="{p in opts.plan}">\n                <planner-content plan="{p}"></planner-content>\n            </div>\n        </div>\n    </div>\n',"","",function(e){"use strict";var t=this,i=n(203);n(68),this.mixin((0,i.listenerMixin)({callback:function(e){return t.onDocumentClick(e)}})),this.mixin((0,i.listenerMixin)({eventType:"scroll",callback:function(){return t.onDocumentScroll.apply(t,arguments)},regulate:!0})),this.mixin((0,i.listenerMixin)({eventType:"scroll",callback:function(){return t.onStickyScroll.apply(t,arguments)},regulate:!0})),this.selection=[],this.opened=!1,this.updateSelection=function(e){t.selection=e,t.update()},this.display=function(e){return"display-planner-content"},this.foldDepth=function(){var e=t.opts.maxdepth;return function(){return this.inputs.get().depth>=e}},this.findPosition=function(){var e=[];return function t(n){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0;r<n.length;r++){var o=n[r],s=document.getElementById(i.length>0?i.join("#")+"#"+o.title:o.title);if(s&&s.parentElement&&s.parentElement.getBoundingClientRect().top<=50&&s.parentElement.getBoundingClientRect().bottom>10){e.push(o),o.subs&&t(o.subs,[].concat(i,[o.title]));break}}}(t.opts.plan),e},this.one("mount",function(){t.selection=t.findPosition(),t.update()}),this.onDocumentClick=function(e){e.target instanceof HTMLElement&&(t.refs.opener&&t.refs.opener.contains(e.target)?t.opened=!t.opened:t.opened&&t.refs.sidePanel&&!t.refs.sidePanel.contains(e.target)&&(t.opened=!1),t.update())},this.onDocumentScroll=function(e,n){var i=t.findPosition();"#"+i.map(function(e){return e.title}).join("#")!==(window.location.hash||"#")&&(t.selection=i,t.update(),window.history&&window.history.replaceState({},document.title,"#"+i.map(function(e){return e.title}).join("#"))),setTimeout(function(){return n()},100)},this.onStickyScroll=function(e,n){t.opts.sticky&&(t.refs.content.getBoundingClientRect().top>0?(t.refs.sidePanel.style.position="absolute",t.refs.sidePanel.style.top="",n()):(t.refs.sidePanel.style.position="fixed",t.refs.sidePanel.style.top="0px",n()))}}),i.tag2("planner-content",'    <div class="{depth === 1 ? ⁗chapter⁗ : ⁗planner-section⁗}">\n        <h1 if="{depth === 1}" id="{id()}" class="Planner heading">\n            <span>{plan.title}</span>\n            <span class="icons">\n                <a href="{⁗#⁗ + id()}"><i class="fa fa-link"></i></a>\n                <a if="{plan.editLink}" href="{plan.editLink}" target="_blank" rel=" noopener noreferrer">\n                    <i class="fa fa-pencil"></i>\n                </a>\n            </span>\n        </h1>\n        <h2 if="{depth === 2}" id="{id()}" class="Planner heading">\n            <span>{plan.title}</span>\n            <span class="icons">\n                <a href="{⁗#⁗ + id()}"><i class="fa fa-link"></i></a>\n                <a if="{plan.editLink}" href="{plan.editLink}" target="_blank" rel=" noopener noreferrer">\n                    <i class="fa fa-pencil"></i>\n                </a>\n            </span>\n        </h2>\n        <h3 if="{depth === 3}" id="{id()}" class="Planner heading">\n            <span>{plan.title}</span>\n            <span class="icons">\n                <a href="{⁗#⁗ + id()}"><i class="fa fa-link"></i></a>\n                <a if="{plan.editLink}" href="{plan.editLink}" target="_blank" rel=" noopener noreferrer">\n                    <i class="fa fa-pencil"></i>\n                </a>\n            </span>\n        </h3>\n        <h4 if="{depth === 4}" id="{id()}" class="Planner heading">\n            <span>{plan.title}</span>\n            <span class="icons">\n                <a href="{⁗#⁗ + id()}"><i class="fa fa-link"></i></a>\n                <a if="{plan.editLink}" href="{plan.editLink}" target="_blank" rel=" noopener noreferrer">\n                    <i class="fa fa-pencil"></i>\n                </a>\n            </span>\n        </h4>\n        <h5 if="{depth === 5}" id="{id()}" class="Planner heading">\n            <span>{plan.title}</span>\n            <span class="icons">\n                <a href="{⁗#⁗ + id()}"><i class="fa fa-link"></i></a>\n                <a if="{plan.editLink}" href="{plan.editLink}" target="_blank" rel=" noopener noreferrer">\n                    <i class="fa fa-pencil"></i>\n                </a>\n            </span>\n        </h5>\n        <h6 if="{depth === 6}" id="{id()}" class="Planner heading">\n            <span>{plan.title}</span>\n            <span class="icons">\n                <a href="{⁗#⁗ + id()}"><i class="fa fa-link"></i></a>\n                <a if="{plan.editLink}" href="{plan.editLink}" target="_blank" rel=" noopener noreferrer">\n                    <i class="fa fa-pencil"></i>\n                </a>\n            </span>\n        </h6>\n        <p if="{depth > 6}" id="{id()}" class="Planner heading">\n            <span>{plan.title}</span>\n            <span class="icons">\n                <a href="{⁗#⁗ + id()}"><i class="fa fa-link"></i></a>\n                <a if="{plan.editLink}" href="{plan.editLink}" target="_blank" rel=" noopener noreferrer">\n                    <i class="fa fa-pencil"></i>\n                </a>\n            </span>\n        </p>\n        <div data-is="{plan.content}"></div>\n        <div if="{plan.subs}">\n            <div each="{s in plan.subs}">\n                <planner-content plan="{s}" prefix="{prefix ? prefix+\'#\'+plan.title : plan.title}" depth="{depth + 1}"></planner-content>\n            </div>\n        </div>\n    </div>\n',"","",function(e){"use strict";var t=this;this.plan=this.opts.plan,this.depth=this.opts.depth||1,this.prefix=this.opts.prefix||"",this.id=function(){return t.prefix?t.prefix+"#"+t.plan.title:t.plan.title}}),i.tag2("display-planner-content",'    <a href="{href()}">{opts.item.title}</a>\n',"","",function(e){"use strict";var t=this;this.href=function(){return t.opts.inputs.ancestors.map(function(e){return"#"+e.title}).join("")+"#"+t.opts.item.title}})},493:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(494),n(495),t.default={title:"Introduction",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/introduction/index.js",content:"introduction"}},494:function(e,t,n){n(6).tag2("introduction",'    <p>\n        This page covers the <em class="highlight"><a href="http://riotjs.com/" target="_blank" rel="noopener noreferrer">Riot.js</a></em> implementation of the <em><a href="..">Bosket library</a></em>.<br>\n        Versatile and flexible, Bosket eases the creation and design of tree view components.<br><br>\n        As a matter of fact <em><a href="https://github.com/elbywan/bosket/tree/master/docs/riot/plan" target="_blank" rel="noopener noreferrer">this whole documentation</a></em> is built around Bosket using <em><a href="https://github.com/elbywan/bosket/blob/master/docs/riot/plan/Planner.tag" target="_blank" rel="noopener noreferrer">a custom component</a></em> which automatically creates the table of contents and the anchors.<br>\n        <br>\n        Multiple use case examples (including the source code and the css stylesheet) are provided alongside the documentation.\n    </p>\n    <h4 class="center-text">API views implemented with Bosket</h4>\n    <introductiondemos></introductiondemos>\n',"","",function(e){})},495:function(e,t,n){n(6).tag2("introductiondemos",'    <div class="IntroductionDemos">\n       <div class="center-text">\n           <span class="button-row">\n               <button each="{d in demos}" onclick="{setDemo(d)}" class="{selected: d === demo}">\n                   {d}\n               </button>\n           </span>\n       </div>\n       <componentdemo files="{getFiles(demo)}">\n            <virtual data-is="{parent.demo.toLowerCase()}"></virtual>\n       </ComponentDemo>\n   </div>\n',"","",function(e){"use strict";var t=this;n(70),this.demos=["HackerNews","Pokeapi","ChuckNorris"],this.demo=this.demos[0],this.setDemo=function(e){return function(n){return t.demo=e}},this.getFiles=function(e){return["./components/Demos/"+e+"/"+e+".tag","../common/styles/"+e+".css","./components/Demos/"+e+"/models.js"]}})},496:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(497);var r=n(498),o=i(r),s=n(500),a=i(s),l=n(503),c=i(l),p=n(505),d=i(p);t.default={title:"Usage",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/index.js",content:"usage",subs:[o.default,d.default,a.default,c.default]}},497:function(e,t,n){n(6).tag2("usage",'    <div>\n        <p>It is assumed that you followed the installation <em><a href="../#Setup">guidelines</a></em>.</p>\n    </div>\n',"","",function(e){})},498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(499),t.default={title:"Import",editLink:"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/import/index.js",content:"import"}},499:function(e,t,n){n(6).tag2("import",'    <p>Bosket/riot is bundled in <em><a href="http://bob.yexley.net/umd-javascript-that-runs-anywhere/" target="_blank" ref="noopener noreferrer">UMD</a></em> format.</p>\n\n    <syntax-highlight offset="{8}">\n        /* How to register Bosket tags : */\n\n        // ESM imports\n        import "@bosket/riot"\n\n        // Commonjs\n        require("@bosket/riot")\n    </syntax-highlight>\n\n    <p>Or just include a link to the <em>@bosket/riot/bundle/riot.umd.min.js</em> file inside a script tag.</p>\n\n    <syntax-highlight language="html" content="{htmlCode}"></syntax-highlight>\n',"","",function(e){"use strict";this.htmlCode='\n            <script src=".../path/to/riot.js"><\/script>\n            <script src=".../path/to/riot.umd.min.js"><\/script>'})},500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(501),n(502),t.default={title:"Data model",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/data%20model/index.js",content:"datamodel"}},501:function(e,t,n){n(6).tag2("datamodel",'    <span>\n        <p>To populate the component you need to provide a suitable data model.</p>\n        <syntax-highlight offset="{12}">\n            // A model is simply an array of objects.\n\n            const model = [\\{\n                a: 1,\n                b: 2,\n                /* ... */\n                // If the object has \'children\', it must contain a property value\n                // being an array of objects that respects the same contract.\n                // \'children\' is just a placeholer name, you can use and specify any\n                // label as a prop of the component.\n                children: [\\{\n                    /* ... */,\n                    // If you would like the children to be loaded asynchronously when\n                    // the node is unfolded, you may use a function returning a Promise.\n                    children: () => \\{\n                        return new Promise(resolve =>\n                            setTimeout(() =>\n                                // resolves into the children model\n                                resolve([\\{ a: 1, b: 2 \\}]), 1000))\n                    \\}\n                \\}],\n            \\},\n            /* ... */\n            ]\n        </syntax-highlight>\n\n        <p>The logic is pretty simple as you can see below, a model and its tree representation as a Bosket view :</p>\n\n        <syntax-highlight offset="{12}">\n            [\n                \\{ label: "Click me, I\'m a node with two children.", children: [\n                    \\{ label: "I am a childless leaf." \\},\n                    \\{ label: "I am a also a childless leaf." \\}\n                ]\\},\n                \\{ label: "I\'m a leaf, I do not have children." \\},\n                \\{ label: "I am an asynchronous node, click me and wait one second.", children: () =>\n                    new Promise(resolve =>\n                        setTimeout(() =>\n                            resolve([\\{ label: "It took exactly one second to fetch me the first time, I am cached afterwards." \\}]), 1000))\n                \\}\n            ]\n        </syntax-highlight>\n\n        <div style="border: 2px solid black; cursor: pointer;">\n           <data-model-tree></data-model-tree>\n        </div>\n    </span>\n',"","",function(e){})},502:function(e,t,n){n(6).tag2("data-model-tree",'    <treeview model="{sampleModel}" category="children" selection="{selection}" onselection="{updateSelection}" display="{display}">\n    </TreeView>\n',"","",function(e){"use strict";var t=this;this.sampleModel=[{label:"Click me, I'm a node with two children.",children:[{label:"I am a childless leaf."},{label:"I am a also a childless leaf."}]},{label:"I'm a leaf, I do not have children."},{label:"I am an asynchronous node, click me and wait one second.",children:function(){return new Promise(function(e){return setTimeout(function(){return e([{label:"It took exactly one second to fetch me the first time, I am cached afterwards."}])},1e3)})}}],this.updateSelection=function(e){t.selection=e,t.update()},this.selection=[],this.display=function(e){return e.label}})},503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(504),t.default={title:"Style",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/style/index.js",content:"usage-style"}},504:function(e,t,n){n(6).tag2("usage-style",'    <div>\n        <p>\n            <em>Once the component is included and rendered in your code, you will need to style it using css, otherwise it will look like a good old fashioned html unordered list.</em><br>\n            <br>\n            Have a look at <em><a href="#TreeView#Css#Empty stylesheet">the empty stylesheet</a></em> with classes and elements already filled.<br>\n            Also, feel free to peek at the included <em><a href="#TreeView#Demo">demos css source code</a></em>.\n        </p>\n\n        <syntax-highlight language="html">{parent.htmlCode}</syntax-highlight>\n\n        <p>\n            The css class names can be overrided by changing the <em><a href="#TreeView#Optional properties#css">css property</a></em>.\n            <br>\n            You should also check the full <em><a href="#TreeView#Css#Layout">html layout</a></em>.\n        </p>\n    </div>\n',"","",function(e){"use strict";this.htmlCode='\n            <head>\n                <link rel="stylesheet" type="text/css" href="[your bosket stylesheet].css">\n            </head>\n        '})},505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(506),t.default={title:"Online snippets",editLink:"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/online-snippets/index.js",content:"online-snippets"}},506:function(e,t,n){n(6).tag2("online-snippets",'    <iframe if="{!hidden}" width="100%" height="300" title="jsfiddle-react" src="//jsfiddle.net/elbywan/w17o67vw/embedded/js,html,result/dark/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>\n    <div if="{hidden}" class="iframe-hide" onclick="{unHide}"><span>Click to load snippet</span></div>\n',"","",function(e){"use strict";var t=this;this.hidden=!0,this.unHide=function(){t.hidden=!1}})},507:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(508),o=i(r),s=n(510),a=i(s),l=n(512),c=i(l),p=n(520),d=i(p),u=n(522),h=i(u);t.default={title:"TreeView",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/index.js",subs:[o.default,a.default,d.default,h.default,c.default]}},508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(509),t.default={title:"Basic Usage",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/basic%20usage/index.js",content:"basic-usage"}},509:function(e,t,n){n(6).tag2("basic-usage",'    <div>\n        <p>\n            Just drop the TreeView tag in your templates after <em><a href="#Usage#Import">registering it</a></em>.<br>\n            <br>\n            Appearance can be tweaked using <em><a href="#TreeView#Css">css</a></em>.\n        </p>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code="\n        <TreeView\n\n            // Required //\n\n            model=         /* [the data model](#TreeView#Required properties#model) */\n            category=      /* [name of the property containing the children](#TreeView#Required properties#category) */\n            selection=     /* [the selection array, updated when the user (de)selects items](#TreeView#Required properties#selection) */\n            onselection=   /* [selection callback](#TreeView#Required properties#onselection) */\n\n            // Optional //\n\n            display=       /* [customize output for each element in the tree](#TreeView#Optional properties#display) */\n            displaytag=    /* [wrap output inside a tag of your choice](#TreeView#Optional properties#displaytag) */\n            strategies=    /* [behaviour on selection, click or fold](#TreeView#Optional properties#strategies) */\n            sort=          /* [sort items](#TreeView#Optional properties#sort) */\n            disable=       /* [disable certain items](#TreeView#Optional properties#disabled) */\n            search=        /* [enables the search bar](#TreeView#Optional properties#search) */\n            async=         /* [how to perform asynchronous loading](#TreeView#Optional properties#async) */\n            dragndrop=     /* [drag'n'drop configuration](#TreeView#Optional properties#dragndrop) */\n            openeropts=    /* [opener 'arrow' options](#TreeView#Optional properties#openeropts) */\n            labels=        /* [override default labels](#TreeView#Optional properties#labels) */\n            css=           /* [override default css classes](#TreeView#Optional properties#css) */\n            transition=    /* [transitions on mount / unmount](#TreeView#Optional properties#transition) */\n        />\n        "})},510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(511),t.default={title:"Demo",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/demo/index.js",content:"treeview-demo-section"}},511:function(e,t,n){n(6).tag2("treeview-demo-section",'    <div>\n        <h4>\n            <a download="BosketTreeView.css" href="./components/Demos/TreeView/TreeViewDemo.css" class="anchor-button basic-button">\n                <i class="fa fa-download"></i>Download stylesheet\n            </a>\n        </h4>\n        <treeviewsection></treeviewsection>\n    </div>\n',"","",function(e){})},512:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(513);var r=n(514),o=i(r),s=n(517),a=i(s);t.default={title:"Css",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/index.js",content:"treeview-css",subs:[o.default,a.default]}},513:function(e,t,n){n(6).tag2("treeview-css","    <div>\n        <p>\n            A TreeView is basically made of multiple nested unordered lists.\n            The component applies css classes to the lists and their items throughout its lifecycle.\n        </p>\n    </div>\n","","",function(e){})},514:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(515),t.default={title:"Layout",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/layout/index.js",content:"treeview-layout"}},515:function(e,t,n){n(6).tag2("treeview-layout",'    <div>\n        <p>\n            Below is the <em>full HTML layout</em> of a TreeView, with the <em><a href="#TreeView#Optional properties#css">default classes</a></em>.<br>\n        </p>\n        <syntax-highlight language="html">{parent.htmlLayout}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";var t=n(516),i=function(e){return e&&e.__esModule?e:{default:e}}(t);this.htmlLayout=i.default})},516:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='\n\x3c!-- Presets override this class with the preset component name. --\x3e\n<div class="TreeView">\n\n    \x3c!-- If [search](#TreeView#Optional properties#search) is defined, hidden otherwise.--\x3e\n    <input type="search" class="search" />\n\n    \x3c!-- \'depth-0\'\' is the root list, each nested list has the depth incremented by 1 --\x3e\n    \x3c!-- If [transition](#TreeView#Optional properties#transition) is set, the transition css classes will be set on this element. --\x3e\n    <ul class="depth-0">\n        <li>\n            <span class="item">\n                \x3c!-- Return of the [display](#TreeView#Optional properties#display) or [displaytag](#TreeView#Optional properties#displaytag) function.--\x3e\n            </span>\n        </li>\n\n        \x3c!-- If the item is selected. --\x3e\n        <li class="selected">\n            <span class="item"></span>\n        </li>\n\n        \x3c!-- A category is a node having children. This node is folded, its children are hidden. --\x3e\n        <li class="folded category">\n            <span class="item">\n                \x3c!-- If [openeropts](#TreeView#Optional properties#openeropts) position is set, hidden otherwise. --\x3e\n                <span class="opener"></span>\n            </span>\n        </li>\n\n        \x3c!-- This category is not folded. --\x3e\n        <li class="category">\n            <span class="item"><span class="opener"></span></span>\n\n            \x3c!-- Children. --\x3e\n            <ul class="depth-1">\n\n                \x3c!-- Asynchronous, folded node. See [async](#TreeView#Optional properties#async). --\x3e\n                <li class="category folded async">\n                    <span class="item"><span class="opener"></span></span>\n                </li>\n\n                \x3c!-- This async is currently fetching its children, waiting for the Promise to resolve. See [async](#TreeView#Optional properties#async). --\x3e\n                <li class="category loading">\n                    <span class="item"><span class="opener"></span></span>\n                </li>\n\n                \x3c!-- Disabled item, cannot be selected. See [disabled](#TreeView#Optional properties#disabled). --\x3e\n                <li class="disabled">\n                    <span class="item"><span class="opener"></span></span>\n                </li>\n\n                \x3c!-- An item is being dragged over. See [dragndrop](#TreeView#Optional properties#dragndrop). --\x3e\n                <li class="dragover">\n                    <span class="item"><span class="opener"></span></span>\n                </li>\n\n                \x3c!-- An invalid drop target. See [dragndrop](#TreeView#Optional properties#dragndrop). --\x3e\n                <li class="nodrop">\n                    <span class="item"><span class="opener"></span></span>\n                </li>\n            </ul>\n        </li>\n    </ul>\n</div>'},517:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(518),t.default={title:"Empty stylesheet",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/empty-stylesheet/index.js",content:"treeview-empty-stylesheet"}},518:function(e,t,n){n(6).tag2("treeview-empty-stylesheet",'    <div>\n        <h4>\n            <a ref="anchor" download="bosket_empty_stylesheet.css" class="anchor-button basic-button">\n                <i class="fa fa-download"></i>\n                Download stylesheet\n            </a>\n        </h4>\n\n        <syntax-highlight language="css">{parent.emptyStylesheet}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";var t=this,i=n(519),r=function(e){return e&&e.__esModule?e:{default:e}}(i);this.emptyStylesheet=r.default,this.one("mount",function(){t.refs.anchor.href=window.URL.createObjectURL(new Blob([r.default],{type:"text/css"}))})})},519:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\n/* Elements */\n.TreeView ul {}\n.TreeView ul > li {}\n.TreeView ul > li > span.item {}\n.TreeView > input[type=\"search\"] {}\n\n/* Root list */\n.TreeView ul.depth-0 {}\n\n/* Not disabled */\n.TreeView ul li:not(.disabled) {}\n.TreeView ul li:not(.disabled) > span.item {}\n\n/* Selected */\n.TreeView ul li.selected {}\n.TreeView ul li.selected > span.item {}\n\n/* Categories : Nodes with children */\n.TreeView ul li.category {}\n.TreeView ul li.category > span.item {}\n/* Folded */\n.TreeView ul li.category.folded {}\n.TreeView ul li.category.folded > span.item {}\n/* Unfolded */\n.TreeView ul li.category:not(.folded) {}\n.TreeView ul li.category:not(.folded) > span.item {}\n/* Opener */\n.TreeView ul li.category > span.item > .opener {}\n.TreeView ul li.category > span.item > .opener::after {}\n/* Folded async */\n.TreeView li.category.async {}\n.TreeView li.category.async > span.item {}\n/* Loading async */\n.TreeView li.category.loading {}\n.TreeView li.category.loading > span.item {}\n\n/* Animations on tag mount / unmount */\n.TreeViewTransition {}\n.TreeViewTransition-mount {}\n.TreeViewTransition-unmount {}\n\n/* Drag'n'drop */\n.TreeView ul.dragover {}\n.TreeView li.dragover {}\n.TreeView li.dragover > span.item {}\n.TreeView li.nodrop {}\n.TreeView li.nodrop > span.item {}"},520:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(521),t.default={title:"Required properties",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js",subs:[{title:"model",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js",content:"model-prop"},{title:"category",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js",content:"category-prop"},{title:"selection",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js",content:"selection-prop"},{title:"onselection",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js",content:"onselection-prop"}]}},521:function(e,t,n){var i=n(6);i.tag2("model-prop",'    <div class="marged">\n        <pre class="itemType">Object[]</pre>\n        <p>\n            An array of objects which is used to populate the component.<br>\n            The format is detailed in the <em><a href="#Usage#Data model">data model</a></em> section.\n        </p>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code='\n            <TreeView /* ... */ model={ model } />\n            <script>\n                this.model = [\n                    { label: "One" },\n                    { label: "Two" },\n                    { label: "Three", list: [\n                        { label: "Four" },\n                        { label: "Five" }\n                    ] }\n                ]\n            <\/script>'}),i.tag2("category-prop",'    <div class="marged">\n        <pre class="itemType">string</pre>\n        <p>\n            The name of the property containing the children.<br>\n            In the example above, it would be "list".\n        </p>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code='<TreeView /* ... */ category="list" />'}),i.tag2("selection-prop",'    <div class="marged">\n        <pre class="itemType">Object[]</pre>\n        <p>\n            An array which references the selected objects.\n        </p>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code="\n            <TreeView /* ... */ selection={ selection } />\n            <script>\n                this.selection = []\n            <\/script>"}),i.tag2("onselection-prop",'    <div class="marged">\n        <pre class="itemType">(newSelection: Object[], item: Object, ancestors: Object[], neighbours: Object[]) => void</pre>\n        <p>\n            A callback which is fired when the selection is updated (for instance when the user clicks on an item).<br>\n            This method should update the <em><a href="#TreeView#Required properties#selection">selection array</a></em>.\n        </p>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code="\n            <TreeView /* ... */ selection={ selection } onselection={ onselection } />\n            <script>\n                this.selection = []\n                this.onselection = _ => this.update({ selection : _ })\n            <\/script>\n        "})},522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(523),t.default={title:"Optional properties",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",subs:[{title:"display",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"display-prop"},{title:"displaytag",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"displaytag-prop"},{title:"strategies",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"strategies-prop"},{title:"sort",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"sort-prop"},{title:"disable",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"disable-prop"},{title:"search",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"search-prop"},{title:"async",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"async-prop"},{title:"dragndrop",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"dragndrop-prop"},{title:"openeropts",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"openeropts-prop"},{title:"labels",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"labels-prop"},{title:"css",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"css-prop"},{title:"transition",editLink:"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js",content:"transition-prop"}]}},523:function(e,t,n){var i=n(6);i.tag2("display-prop",'    <div class="marged">\n        <pre class="itemType">(item: Object, inputs: Object) => string</pre>\n        <p>\n            A custom rendering function. Called for every item, its return value is displayed in the view.<br>\n            The "inputs" argument is an object containing the input properties of the component which is rendering the item.\n        </p>\n        <div class="emphasis">\n            Defaults to the&nbsp;\n            <em><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString" target="_blank" rel="noopener noreferrer">toString</a></em>&nbsp;\n            function.\n\n            <syntax-highlight>item => item.toString()</syntax-highlight>\n        </div>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code="\n            <TreeView /* ... */ display={ display } />\n            <script>\n                // The display function is run for every item in the model.\n                // Here, we choose to display the 'label' property in lower case.\n                this.display = item => item.display.toLowerCase()\n            <\/script>"}),i.tag2("displaytag-prop",'    <div class="marged">\n        <pre class="itemType">(item: Object, inputs: Object) => string</pre>\n        <p>\n            <em>The display and displaytag properties are mutually exclusive.</em><br>\n            <br>\n            Allows more customization than the display property, by wrapping items inside a custom tag.<br>\n        </p>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code='\n        <TreeView /* ... */ displaytag={ displaytag } />\n\n        <script>\n            // A custom defined tag used to wrap items in an anchor tag\n            // opts.item is a reference to the displayed item\n            riot.tag("customtag", "<a href={ opts.item.link }>{ opts.item.label }</a>")\n            this.displaytag = () => "customtag"\n        <\/script>'}),i.tag2("strategies-prop",'    <div class="marged">\n        <pre class="itemType">{strategies}</pre>\n        <p>\n            <em>Strategies determine the action(s) to perform on click, fold or selection.</em><br><br>\n            The <em>strategies prop</em> is an object containing 3 properties (click, fold, selection). Each property value is an array of strategies.<br>\n            A <em>strategy</em> is either a string (containing a predefined strategy name), or a function (executed in the tree context).<br><br>\n            In case of multiple strategies, they are chained.\n        </p>\n\n        <syntax-highlight language="typescript">{parent.type}</syntax-highlight>\n\n        <div class="emphasis">\n            Defaults to :\n            <syntax-highlight>{parent.default}</syntax-highlight>\n        </div>\n\n        <syntax-highlight>{parent.code}</syntax-highlight>\n\n        <p>Check the <em><a href="https://github.com/elbywan/bosket/blob/master/src/core/strategies.js" target="_blank" rel="noopener noreferrer">strategies.js file</a></em> for the list of available strategies and descriptions.</p>\n    </div>\n',"","",function(e){"use strict";var t=function(e,t){return e.raw=t,e}(["\n            {\n                selection: (string | selectionStrategy)[],\n                click: (string | clickStrategy)[],\n                fold: (string | foldStrategy)[]\n            }\n        "],["\n            {\n                selection: (string | selectionStrategy)[],\n                click: (string | clickStrategy)[],\n                fold: (string | foldStrategy)[]\n            }\n        "]),i=n(16);this.strategies=(0,i.indent)(t),this.type="\n            type selectionStrategy<Item extends Object> = (item: Item, selection: Array<Item>, neighbours: Array<Item>, ancestors: Array<Item>) => Array<Item>\n            type clickStrategy<Item extends Object> = (item: Item, event: MouseEvent, ancestors: Array<Item>, neighbours: Array<Item>) => void\n            type foldStrategy<Item extends Object> = (item: Item, folded: boolean) => boolean",this.default='\n            {\n                // One item selected at a time\n                selection: ["single"],\n                // Select item on click\n                click: ["select"],\n                // Folds an item when itself or its children are not selected\n                fold: [ "not-selected", "no-child-selection" ]\n            }',this.code='\n            <TreeView /* ... */ strategies={ strategies } />\n\n            <script>\n                this.strategies = {\n                    // Select only the items beginning with the letter a\n                    selection: [ "multiple", (item, selection) => selection.filter(elt => elt.label.charAt(0) === \'a\' ) ]\n                    click: [ "select", unfold-on-selection" ],\n                    fold: [ "opener-control", "no-child-selection" ]\n                }\n            <\/script> // eslint-disable-line\n        '}),i.tag2("sort-prop",'    <div class="marged">\n        <pre class="itemType">(item1, item2) => boolean</pre>\n        <p>A custom sorting function.</p>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code="\n            <TreeView /* ... */ sort={ sort } />\n            <script>\n                this.sort = (a, b) => a.label.localeCompare(b.label)\n            <\/script>"}),i.tag2("disable-prop",'    <div class="marged">\n        <pre class="itemType">(item: Object) => boolean</pre>\n        <p>Disables elements based on the result of the provided function, which prevents selection and apply the css \'disabled\' class.</p>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code="\n            <TreeView /* ... */ disable={ disable } />\n            <script>\n                this.disable = item => !item.children\n            <\/script>"}),i.tag2("search-prop",'    <div class="marged">\n        <pre class="itemType">(query: string) => (item: Object) => boolean</pre>\n        <p>If provided, enables the built-in search bar and is called when the user types a search query.</p>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code='\n            <TreeView /* ... */ search={ search } />\n            <script>\n                this.search = input => item => item.label.match(new RegExp(`.*${ input }.*`, "gi"))\n            <\/script>'}),i.tag2("async-prop",'    <div class="marged">\n        <pre class="itemType">(mixed => Promise&lt;Object[]&gt;) => Promise&lt;Object[]&gt;</pre>\n        <p>A function used to unwrap <em><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise" target="_blank" rel="noopener noreferrer">Promises</a></em> in case of asynchronous children.</p>\n\n        <div class="emphasis">\n            Defaults to simple method call :\n            <syntax-highlight>_ => _()</syntax-highlight>\n        </div>\n\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code='\n            <TreeView /* ... */ async={ async } model={ model } />\n\n            <script>\n                this.model = [{\n                    label: "Asynchronous children",\n                    children: timer =>\n                         new Promise(resolve =>\n                            setTimeout(() =>\n                                resolve([{ label: "timer is provided by the async property" }]), timer))\n                }]\n                this.async = _ => _(Math.random() * 1000 + 500)\n            <\/script>'}),i.tag2("dragndrop-prop",'    <div class="marged">\n        <pre class="itemType">Object (details below)</pre>\n        <p>The drag\'n\'drop configuration object.</p>\n\n        <div class="emphasis">\n            Defaults to :\n            <syntax-highlight>{parent.default}</syntax-highlight>\n        </div>\n\n\n        <p>Tip: for mobile drag\'n\'drop, use a <em><a target="_blank" rel="noopener noreferrer" href="https://github.com/Bernardo-Castilho/dragdroptouch">polyfill</a></em>.</p>\n\n        <syntax-highlight>{parent.code}</syntax-highlight>\n\n        <p>Example of a draggable tree associated with a droppable tree :</p>\n\n        <dragtree></dragtree>\n        <droptree></droptree>\n\n        <syntax-highlight>{parent.dragdroptrees}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.default="\n            dragndrop: {\n                draggable: false, // make items draggable\n                droppable: false, // make the tree droppable\n                drag:      null,  // action to perform on drag\n                over:      null,  // hook on dragover\n                enter:     null,  // hook on dragenter\n                leave:     null,  // hook on dragleave\n                drop:      null,  // action to perform on drop\n                cancel:    null,  // action to perform on cancellation\n                guard:     null   // prevents dragover and drop\n            }\n        ",this.code="\n            /* [Drag'n'drop presets](https://github.com/elbywan/bosket/blob/master/src/core/dragndrop.js) */\n\n            <TreeView /* ... */ dragndrop={ dragndrop }/>\n\n            <script>\n                this.dragndrop = {\n                    // To drag or drop on specific items\n                    // you can use a function : (item) => true/false\n                    draggable: true,\n                    droppable: true,\n\n                    // target       -> the model item targeted by the event\n                    // event        -> the dragndrop event\n                    // inputs       -> props of the component where the event is triggered\n\n                    drag: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    over: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    enter: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    leave: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    drop: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    cancel: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    guard: (target, event, inputs) => {\n                        /* ... */\n                    }\n                }\n            <\/script>\n        ",this.dragdroptrees='\n            <DragTree>\n                <div class="tree-sample">\n                    <TreeView opts={ conf } />\n                </div>\n                <script>\n                    import { dragndrop } from "@bosket/core"\n                    this.dragModel = [\n                        { name: "< Drag these items >" },\n                        { name: 1, children: [{ name: 11 }, { name: 12 }, { name: 13 }]},\n                        { name: 2, children: [{ name: 21 }, { name: 22 }]},\n                        { name: 3 },\n                        { name: 4 }\n                    ]\n                    this.conf = {\n                        model: this.dragModel,\n                        category: "children",\n                        selection: [],\n                        onselection: _ => this.update({ selection: _ }),\n                        display: i => i.name,\n                        strategies: { fold: [() => false]},\n                        // Pluck preset\n                        dragndrop: { ...dragndrop.pluck(() => this.conf.model, m => { this.conf.model = m; this.update() }) }\n                    }\n                <\/script>\n            </DragTree>\n\n            <DropTree>\n                <div class="tree-sample">\n                    <TreeView opts={ conf } />\n                </div>\n                <script>\n                    import { dragndrop } from "@bosket/core"\n                    this.conf = {\n                        model: [{ name: "< Drop items here >", children: []}],\n                        category: "children",\n                        selection: [],\n                        onselection: _ => this.update({ selection: _ }),\n                        display: i => i.name,\n                        strategies: { fold: [() => false]},\n                        // Paste preset + only drop on items with children\n                        dragndrop: {\n                            ...dragndrop.paste(() => this.conf.model, m => { this.conf.model = m; this.update() }),\n                            droppable: item => item && item.children\n                        }\n                    }\n                <\/script>\n            </DropTree>\n        '}),i.tag2("dragtree",'    <div class="tree-sample">\n        <treeview opts="{conf}"></treeview>\n    </div>\n',"","",function(e){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=this,r=n(9);this.dragModel=[{name:"< Drag these items >"},{name:1,children:[{name:11},{name:12},{name:13}]},{name:2,children:[{name:21},{name:22}]},{name:3},{name:4}],this.conf={model:this.dragModel,category:"children",selection:[],onselection:function(e){return i.update({selection:e})},display:function(e){return e.name},strategies:{fold:[function(){return!1}]},dragndrop:t({},r.dragndrop.pluck(function(){return i.conf.model},function(e){i.conf.model=e,i.update()}))}}),i.tag2("droptree",'    <div class="tree-sample">\n        <treeview opts="{conf}"></treeview>\n    </div>\n',"","",function(e){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=this,r=n(9);this.conf={model:[{name:"< Drop items here >",children:[]}],category:"children",selection:[],onselection:function(e){return i.update({selection:e})},display:function(e){return e.name},strategies:{fold:[function(){return!1}]},dragndrop:t({},r.dragndrop.paste(function(){return i.conf.model},function(e){i.conf.model=e,i.update()}),{droppable:function(e){return e&&e.children}})}}),i.tag2("openeropts-prop",'    <div class="marged">\n        <pre class="itemType">{\'{ position: ⁗none⁗ | ⁗left⁗ | ⁗right⁗ }, callback: (item, folded) => void }\'}</pre>\n        <p>\n            A collection of options used to configure the opener, which is usually the little arrow or arrow-like icon used to unfold a node..<br>\n            <br>\n            <strong>position</strong> : Positions the opener.<br>\n            <strong>callback</strong> : Perform a callback when an opener is activated.\n        </p>\n        <div class="emphasis">Defaults to "right"</div>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code="\n            <TreeView /* ... */ openeropts={ openeropts } />\n\n            <script>\n                this.openeropts = {\n                    position: \"left\",\n                    callback: (item, folded) => {\n                        console.log(`${item} is now ${folded ? 'folded' : 'unfolded'}`)\n                    }\n                }\n            <\/script>\n        "}),i.tag2("labels-prop",'    <div class="marged">\n        <pre class="itemType">Object</pre>\n        <p>Labels override.</p>\n        <div class="emphasis">\n            Defaults to :\n            <syntax-highlight>{parent.default}</syntax-highlight>\n        </div>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.default='\n            labels: {\n                "search.placeholder": "Search ..."\n            }\n        ',this.code='\n            <TreeView /* ... */ labels={ labels } />\n\n            <script>\n                this.labels = {\n                    "search.placeholder": "I am the text displayed in the search bar as a placeholder."\n                }\n            <\/script>\n        '}),i.tag2("css-prop",'    <div class="marged">\n        <pre class="itemType">Object</pre>\n        <p>Css classnames override.</p>\n        <div class="emphasis">\n            Defaults to :\n            <syntax-highlight>{parent.default}</syntax-highlight>\n        </div>\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.default='\n            css: {\n                TreeView:           "TreeView",\n                opener:             "opener",\n                depth:              "depth",\n                selected:           "selected",\n                category:           "category",\n                folded:             "folded",\n                disabled:           "disabled",\n                async:              "async",\n                loading:            "loading",\n                nodrop:             "nodrop",\n                dragover:           "dragover",\n                search:             "search",\n                item:               "item"\n            }\n        ',this.code='\n            <TreeView /* ... */ css={ css } />\n\n            <script>\n                this.css = { TreeView: "CustomTree", loading: "customLoading" }\n            <\/script>\n        '}),i.tag2("transition-prop",'    <div class="marged">\n        <pre class="itemType">Object</pre>\n        <p>\n            Allows transitions by <em><a href="https://github.com/elbywan/bosket/blob/master/src/riot/mixins/transition.js">applying css classes on mount/unmount</a></em>.<br>\n        </p>\n\n        <syntax-highlight>{parent.code}</syntax-highlight>\n    </div>\n',"","",function(e){"use strict";this.code='\n            <TreeView /* ... */ transition={ transition } />\n\n            <style>\n                .TransitionName {\n                    transition: opacity .3s;\n                }\n                .TransitionName-mount, .TransitionName-unmount {\n                    opacity: 0;\n                }\n            </style>\n            <script>\n                /*\n                    During the whole life of the tree, the "TransitionName" css class\n                        is set on the element.\n                    On mount the  "TransitionName-mount" css class is applied,\n                        then removed next tick.\n                    On unmount the  "TransitionName-unmount" css class is applied,\n                        and the node destruction is delayed until the transition completes.\n                 */\n                this.transition = {\n                     name: "TransitionName"\n                }\n            <\/script>\n        '})},524:function(e,t,n){n(6).tag2("syntax-highlight",'    <pre class="{⁗language-⁗ + language}"><code class="{⁗language-⁗ + language}" ref="ref"><yield></yield></code></pre>\n',"","",function(e){"use strict";var t=this,i=n(16);this.language=this.opts.language||"javascript";var r=this.opts.offset?function(e){for(var t="",n=0;n<e;n++)t+=" ";return t}(this.opts.offset):"";this.one("mount",function(){t.refs.ref.textContent=(0,i.indent)(r+(t.opts.content||t.refs.ref.textContent)),window.Prism.highlightElement(t.refs.ref)})})},525:function(e,t,n){n(6).tag2("componentdemo",'    <div class="ComponentDemo section">\n        <h3 if="{componentname}">{componentname}</h3>\n        <p if="{description}">{description}</p>\n        <div class="{ComponentDemo: true, ⁗flex-container⁗: true, expanded: expand}">\n            <div class="{ComponentDemo: true, ⁗demo-area⁗: true, expand: expand === ⁗demo⁗}">\n\n                <div class="ComponentDemo expander" onclick="{doExpand(⁗demo⁗)}">\n                    <i class="{fa: true,                         ⁗fa-compress⁗:  expand === ⁗demo⁗,                         ⁗fa-expand⁗:    expand !== ⁗demo⁗}"></i>\n                </div>\n\n                <div class="ComponentDemo padded">\n                    <yield></yield>\n                </div>\n            </div>\n            <div class="{ComponentDemo: true, code: true, expand: expand === ⁗code⁗}">\n\n                <div class="ComponentDemo expander" onclick="{doExpand(⁗code⁗)}">\n                    <i class="{fa: true,                         ⁗fa-compress⁗:  expand === ⁗code⁗,                         ⁗fa-expand⁗:    expand !== ⁗code⁗}"></i>\n                </div>\n\n                <div class="tabs">\n                    <div each="{file in files}" onclick="{setTab(file)}" class="{selected: parent.tab === file}">\n                        {getFileName(file)}\n                    </div>\n                </div>\n\n                <pre class="{⁗language-⁗ + getPrismExtension(tab)}"><code class="{⁗language-⁗ + getPrismExtension(tab)}" ref="tabContents"></code></pre>\n            </div>\n        </div>\n    </div>\n',"","",function(e){"use strict";var t=this;n(71);var i=n(16);Object.assign(this,this.opts),this.files||(this.files=[]),this.expand="demo",this.doExpand=function(e){return function(n){return t.expand=t.expand===e?"":e}},this._tab=null,this.setTab=function(e){return function(n){return t.tab=e}},Object.defineProperty(this,"tab",{configurable:!0,get:function(){return t._tab||(t.files.length>0?t.files[0]:null)},set:function(e){t._tab=e,(0,i.loadFile)(e,function(n){t.refs.tabContents.innerHTML=window.Prism.highlight(n,window.Prism.languages[t.getPrismExtension(e)])})}}),this.tab=this.files.length>0?this.files[0]:null,this.getFileName=function(e){return e.split("/").splice(-1)},this.getPrismExtension=function(e){var t=e.split("."),n="javascript";return"css"===t[t.length-1]?n="css":"ts"===t[t.length-1]&&(n="typescript"),n}})},526:function(e,t,n){"use strict";n(527),n(531),n(534),n(537)},527:function(e,t,n){"use strict";n(528),n(530)},528:function(e,t,n){n(6).tag2("treeviewdemo",'\n    <treeview opts="{options}" selection="{opts.selection}" onselection="{opts.onselection}"></treeview>\n',"","",function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var i=this,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(10),s=n(9),a=n(6),l=t(a),c=n(81),p=t(c);n(529),this.dragImage=new Image,this.dragImage.src="../assets/drag-image.png",l.default.tag("wrappedlabel","<a>{ opts.item.label }</a>"),this.options={model:p.default,category:"items",displaytag:function(e){return"wrappedlabel"},sort:function(e,t){return e.label.localeCompare(t.label)},search:function(e){return function(t){return(0,o.string)(t.label).contains(e)}},strategies:{click:["select"],selection:["modifiers"],fold:["opener-control"]},css:{TreeView:"TreeViewDemo"},dragndrop:r({},s.dragndrop.selection(function(){return i.options.model},function(e){i.options.model=e,i.update()}),{drag:function(e,t){t.dataTransfer.setDragImage(i.dragImage,0,0),t.dataTransfer.setData("application/json",JSON.stringify(i.options.selection))},droppable:function(e){return!e||e.items&&e.items instanceof Array}}),transition:{name:"TreeViewDemoTransition"}}})},529:function(e,t){},530:function(e,t,n){n(6).tag2("treeviewsection",'    <div>\n        <p>\n            <span>Demonstrates a basic usage of the TreeView component </span>\n            <span>and how to override and use most of its </span>\n            <em><a href="#TreeView#Required properties">component props</a></em>, and&nbsp;\n            <em><a href="#TreeView#Css">css styles</a></em>.\n        </p>\n        <span>Featuring :</span>\n        <ul>\n            <li>Drag and drop, with a custom drag image.</li>\n            <li>Asynchronous children loading</li>\n            <li>Multiselection using keyboard modifiers (shift / ctrl or cmd)</li>\n            <li>Transitions on fold / unfold</li>\n            <li>Alphabetical sort</li>\n            <li>Search bar</li>\n        </ul>\n    </div>\n    <componentdemo componentname="Nested items" files="{files}">\n        <div class="TreeViewWindow">\n            <div style="display: inline-block; text-align: left">\n                <treeviewdemo selection="{parent.selection}" onselection="{parent.onselection}"></TreeViewDemo>\n            </div>\n\n            <p>\n                <span if="{parent.selection.length === 0}">No elements are</span>\n                <span if="{parent.selection.length === 1}">One element is</span>\n                <span if="{parent.selection.length > 1}">{parent.selection.length} elements are</span>\n                selected.\n            </p>\n\n            <div class="select-blocks">\n                <button each="{item in parent.selection}" onclick="{parent.parent.deselect(item)}">\n                    {item.label}\n                </button>\n            </div>\n        </div>\n    </ComponentDemo>\n',"","",function(e){"use strict";var t=this;n(82),this.files=["./components/Demos/TreeView/TreeViewDemo.tag","./components/Demos/TreeView/TreeViewDemo.css","../common/models/TreeViewModel.js"],this.selection=[],this.onselection=function(e){return t.update({selection:e})},this.deselect=function(e){return function(n){return t.selection=t.selection.filter(function(t){return t!==e})}}})},531:function(e,t,n){"use strict";n(532)},532:function(e,t,n){var i=n(6);i.tag2("chucknorriscategory",'    <span class="value">{item.value}\n        <i class="{⁗fa fa-refresh⁗ + (item.children.length === 0 ? ⁗ loading⁗ : ⁗⁗)}" onclick="{onClick}">\n        </i>\n    </span>\n',"","",function(e){"use strict";var t=this;this.item=this.opts.item,this.onClick=function(e){t.item.children=[],t.item.loadJoke().then(function(e){t.item.children=e,t.parent.update()})}}),i.tag2("chucknorrisjoke",'    <div class="value">\n        <a href="{item.url}" target="_blank" rel="noopener noreferrer">{item.value}</a>\n    </div>\n',"","",function(e){"use strict";this.item=this.opts.item}),i.tag2("chucknorris",'    <div>\n       <div style="text-align: center; margin: 10px;">\n           <div>\n               <a href="https://api.chucknorris.io/" target="_blank" rel="noopener noreferrer">\n                   <img src="https://assets.chucknorris.host/img/chucknorris_logo_coloured_small.png" alt="Chuck Norris api logo" style="width: 100px; filter: drop-shadow(0 0 2px #444);">\n               </a>\n           </div>\n           <h5>A curated list of Chuck Norris jokes.</h5>\n           <div>\n               <button onclick="{init}" class="ChuckNorrisButton">Reset</button>\n           </div>\n            <i if="{categories.length === 0}" class="ChuckNorrisSpinner fa fa-spinner fa-3x"></i>\n       </div>\n       <treeview if="{categories.length > 0}" model="{categories}" category="children" selection="{selection}" onselection="{onselection}" displaytag="{display}" strategies="{conf.strategies}" css="{conf.css}"></treeview>\n    </div>\n',"","",function(e){"use strict";var t=this;n(72);var i=n(533);this.categories=[],this.selection=[],this.onselection=function(e){return t.update({selection:e})},this.conf={strategies:{fold:["opener-control"],click:["unfold-on-selection"]},css:{TreeView:"ChuckNorrisDemo"}},this.init=function(){fetch("https://api.chucknorris.io/jokes/categories").then(function(e){return e.json()}).then(function(e){t.categories=e.map(function(e){return new i.Category(e)}),t.update()})},this.one("mount",this.init),this.display=function(e){return e.display()}})},533:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=(t.Category=function e(t){var n=this;i(this,e),this.loadJoke=function(){return fetch("https://api.chucknorris.io/jokes/random?category="+n.value).then(function(e){return e.json()}).then(function(e){return[new r(e)]})},this.display=function(){return"chucknorriscategory"},this.value=t,this.children=this.loadJoke},t.Joke=function e(t){i(this,e),this.display=function(){return"chucknorrisjoke"},Object.assign(this,t)})},534:function(e,t,n){"use strict";n(535)},535:function(e,t,n){var i=n(6);i.tag2("hackernewsfetchmore",'    <div class="fetchMore" onclick="{more}">\n        <a>Load more comments</a>\n    </div>\n',"","",function(e){"use strict";var t=this;this.more=function(e){t.opts.item.fetchKids().then(t.parent.parent.update)}}),i.tag2("hackernewstopstories",'    <span class="story">\n        <span class="commentCount"><span if="{item.descendants}">({item.descendants}) </span>({item.score} points) - by <a href="{⁗https://news.ycombinator.com/user?id=⁗ + item.by}" target="_blank" rel="noopener noreferrer">{item.by}</a></span>\n        <a href="{item.url}" target="_blank" rel="noopener noreferrer">\n            {item.title}\n        </a>\n    </span>\n',"","",function(e){"use strict";this.item=this.opts.item}),i.tag2("hackernewscomment",'    <div class="comment">\n        <div class="infobar">\n            <span class="commentCount" if="{item.kids && item.kids.length > 0}">({item.kids.length})</span>\n            <a href="{⁗https://news.ycombinator.com/user?id=⁗ + item.by}" target="_blank" rel="noopener noreferrer">{item.by}</a> {item.date}\n        </div>\n        <div class="text" if="{item.deleted}"><em>Deleted.</em></div>\n        <div class="text" if="{!item.deleted}" ref="content"></div>\n    </div>\n',"","",function(e){"use strict";var t=this;this.item=this.opts.item;var n=function(){return t.refs.content.innerHTML=t.item.text};this.on("update",n),this.one("mount",n)}),i.tag2("hackernews",'    <div>\n        <div style="text-align: center; margin: 10px;">\n            <div>\n                <a href="https://news.ycombinator.com" target="_blank" rel="noopener noreferrer">\n                    <img src="http://www.ycombinator.com/images/ycombinator-logo-fb889e2e.png" alt="HackerNews logo" style="width: 50px; filter: drop-shadow(0 0 2px #444);">\n                </a>\n            </div>\n            <h5>The top 10 stories from HackerNews.</h5>\n            <div>\n                <button onclick="{init}" class="HackerNewsButton">Reset</button>\n            </div>\n            <i if="{stories.length === 0}" class="HackerNewsSpinner fa fa-spinner fa-3x"></i>\n        </div>\n        <treeview if="{stories.length > 0}" model="{stories}" category="children" selection="{selection}" onselection="{onselection}" displaytag="{display}" strategies="{conf.strategies}" css="{conf.css}"></TreeView>\n    </div>\n',"","",function(e){"use strict";var t=this;n(73);var i=n(536);this.stories=[],this.selection=[],this.onselection=function(e){return t.update({selection:e})},this.conf={strategies:{fold:["opener-control"]},css:{TreeView:"HackerNewsDemo"}},this.display=function(e){return e.display()},this.init=function(){fetch("https://hacker-news.firebaseio.com/v0/beststories.json").then(function(e){return e.json()}).then(function(e){return(0,i.fetchLast)(e,function(e){return"https://hacker-news.firebaseio.com/v0/item/"+e+".json"})}).then(function(e){t.stories=e.map(function(e){return new i.TopStory(e)}),t.update()})},this.one("mount",this.init)})},536:function(e,t,n){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Comment=t.TopStory=t.fetchLast=void 0;var s=n(74),a=function(e){return e&&e.__esModule?e:{default:e}}(s),l=t.fetchLast=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Promise.all(e.slice(i,i+n).map(function(e){return fetch(t(e)).then(function(e){return e.json()})}))},c=function(){function e(t){var n=this;o(this,e),this.offset=0,this.fetchLimit=5,Object.assign(this,t),this.kids&&(this.children=function(){return n.fetchKids()})}return e.prototype.fetchKids=function(){var e=this;return this.children instanceof Array&&-1===this.children[this.children.length-1].id&&(this.children=this.children.slice(0,this.children.length-1)),l(this.kids,function(e){return"https://hacker-news.firebaseio.com/v0/item/"+e+".json"},this.fetchLimit,this.offset).then(function(t){var n=t.map(function(e){return new p(e)});return e.offset+=e.fetchLimit,e.offset<e.kids.length&&n.push({id:-1,fetchKids:function(){return e.fetchKids().then(function(t){e.children instanceof Array&&(e.children=[].concat(e.children,t))})},display:function(){return"hackernewsfetchmore"}}),n})},e}(),p=(t.TopStory=function(e){function t(){var n,r,s;o(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.display=function(){return"hackernewstopstories"},s=n,i(r,s)}return r(t,e),t}(c),t.Comment=function(e){function t(n){o(this,t);var r=i(this,e.call(this,n));return r.display=function(){return"hackernewscomment"},r.text=(0,a.default)(r.text),r.date=new Date(1e3*r.time).toLocaleDateString(),r}return r(t,e),t}(c))},537:function(e,t,n){"use strict";n(538)},538:function(e,t,n){var i=n(6);i.tag2("pokeapisubcategory",'    <span class="subcategory">{opts.item.name}</span>\n',"","",function(e){}),i.tag2("pokeapiitem",'    <div class="{subsection : opts.item.__subsection}">\n        <img if="{opts.item.__image}" riot-src="{opts.item.__image}" alt="sprite">\n        <div class="property-row" each="{prop in filterProps()}">\n            <label>{prop}</label><span>{⁗⁗ + parent.opts.item[prop]}</span>\n        </div>\n    </div>\n',"","",function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=this;this.filterProps=function(){return Object.getOwnPropertyNames(n.opts.item).filter(function(e){return!(e.startsWith("__")||"object"===t(n[e])||"function"==typeof n[e])})}}),i.tag2("pokemondisplay","    <virtual>{opts.item.name} </virtual>\n","","",function(e){}),i.tag2("pokeapi",'    <div style="position: relative;">\n        <div style="text-align: center; margin: 10px;">\n            <div>\n                <a href="https://pokeapi.co/" target="_blank" rel="noopener noreferrer">\n                    <img src="https://avatars3.githubusercontent.com/u/19692032?v=4&s=200" alt="Pokéapi logo" style="width: 50px; filter: drop-shadow(0 0 2px #444);">\n                </a>\n            </div>\n            <h5>Pokémon API crawler</h5>\n            <div>\n                <button onclick="{init}" class="PokeapiButton">Reset</button>\n            </div>\n        </div>\n        <treeview model="{data}" category="__children" selection="{selection}" onselection="{onselection}" displaytag="{display}" strategies="{conf.strategies}" css="{conf.css}" disable="{conf.disable}" search="{conf.search}"></treeview>\n        <div class="{PokeapiLoadMore: true, ⁗center-text⁗: true, loading: loading}" riot-style="{⁗display:⁗ + loadUrl ? ⁗block⁗ : ⁗none⁗}" onclick="{loadMorePokemons}">\n            <i class="fa fa-spinner fa-2x" if="{loading}"></i>\n            <span if="{!loading}">Show more pokémons</span>\n        </div>\n    </div>\n',"","",function(e){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=this;n(80);var r=n(539);this.conf={strategies:{fold:["opener-control",function(e){return!e.__subsection}],click:["toggle-fold"]},css:{TreeView:"PokeapiDemo"},disable:function(e){return e.__children&&e.__children instanceof Array&&0===e.__children.length},search:function(e){return function(t){return t.name&&t.name.startsWith(e)}}},this.data=[],this.selection=[],this.onselection=function(e){return i.update({selection:e})},this.loading=!1,this.loadUrl="https://pokeapi.co/api/v2/pokemon",this.display=function(e){return e.display()},this.init=function(){i.loadUrl="https://pokeapi.co/api/v2/pokemon",i.loadPokemons().then(function(e){i.update({data:e})})},this.one("mount",this.init),this.loadPokemons=function(){if(i.loadUrl)return i.loading=!0,(0,r.cachedFetch)(i.loadUrl).then(function(e){return i.loadUrl=e.next,i.loading=!1,e.results.map(function(e){return t({},e,{display:function(){return"pokemondisplay"},__children:function(){return(0,r.cachedFetch)(e.url).then(function(e){return[new r.Item(e)]})}})})}).catch(function(e){return i.loading=!1})},this.loadMorePokemons=function(){i.loading||i.loadPokemons().then(function(e){i.update({data:[].concat(i.data,e)})})}})},539:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=t.Item=function(){function e(t){i(this,e),Object.assign(this,p(t))}return e.prototype.display=function(){return this.name&&this.url?"pokeapisubcategory":"pokeapiitem"},e}(),a=new Map,l=t.cachedFetch=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a.has(e)?Promise.resolve(a.get(e)):fetch.apply(void 0,[e].concat(n)).then(function(e){return e.json()}).then(function(t){return a.set(e,t),t})},c=function(e,t){return"sprites"===e&&t.front_default},p=function(e){var t=o({},e);if(t.url){var n=t.url;return t.__children=function(){return l(n).then(function(e){return[new s(e)]})},t}t.__subsection=!0;for(var i in t)if(!i.startsWith("__"))if(t[i]instanceof Array)t.__children||(t.__children=[]),t.__children.push({name:""+i,display:function(){return"pokeapisubcategory"},__children:t[i].map(function(e){return new s(e)})}),delete t[i];else if(t[i]&&"object"===r(t[i])){t.__children||(t.__children=[]),t[i].url&&t[i].name?function(){var e=t[i].name,n=t[i].url;t.__children.push({name:e,display:function(){return"pokeapisubcategory"},__children:function(){return l(n).then(function(e){return[new s(e)]})}})}():t.__children.push({name:""+i,display:function(){return"pokeapisubcategory"},__children:[new s(t[i])]});var a=c(i,t[i]);a&&(t.__image=a),delete t[i]}return t}},6:function(e,t,n){/* Riot v3.9.1, @license MIT */
!function(e,n){n(t)}(0,function(e){"use strict";function t(e,t){return(t||document).querySelector(e)}function n(e){return"svg"===e?document.createElementNS(Qe,e):document.createElement(e)}function i(e,t,n){var i=Ye.exec(t);i&&i[1]?e.setAttributeNS(Ze,i[1],n):e.setAttribute(t,n)}function r(e,t){return Object.getOwnPropertyDescriptor(e,t)}function o(e){return typeof e===We}function s(e,t){var n=r(e,t);return o(e[t])||n&&n.writable}function a(e){for(var t,n=1,i=arguments,r=i.length;n<r;n++)if(t=i[n])for(var o in t)s(e,o)&&(e[o]=t[o]);return e}function l(e){return Object.create(e)}function c(e,t){return[].slice.call((t||document).querySelectorAll(e))}function p(){return document.createTextNode("")}function d(e,t){e.style.display=t?"":"none",e.hidden=!t}function u(e,t){return e.getAttribute(t)}function h(e,t){e.removeAttribute(t)}function f(e,t,n){if(n){var i=e.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+Qe+'">'+t+"</svg>","application/xml").documentElement,!0);e.appendChild(i)}else e.innerHTML=t}function m(e,t){if(e)for(var n;n=it.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function g(){return document.createDocumentFragment()}function v(e,t,n){e.insertBefore(t,n.parentNode&&n)}function y(e){return Object.keys(e).reduce(function(t,n){return t+" "+n+": "+e[n]+";"},"")}function b(e,t,n){if(e){var i,r=t(e,n);if(!1===r)return;for(e=e.firstChild;e;)i=e.nextSibling,b(e,t,r),e=i}}function w(e){return o(e)||null===e}function x(e){return w(e)||""===e}function k(e){return typeof e===Ge}function _(e){return e&&typeof e===Je}function T(e){var t=e.ownerSVGElement;return!!t||null===t}function j(e){return Array.isArray(e)||e instanceof Array}function O(e){return ot.test(e)}function V(e){return typeof e===Ke}function P(e,t){return-1!==e.indexOf(t)}function C(e,t){for(var n=e?e.length:0,i=0;i<n;i++)t(e[i],i);return e}function L(e,t){return e.slice(0,t.length)===t}function M(e,t,n,i){return Object.defineProperty(e,t,a({value:n,enumerable:!1,writable:!1,configurable:!0},i)),e}function A(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function S(e){console&&console.warn&&console.warn(e)}function N(e,t,n,i,r){var s=e[t],a=j(s),l=!o(r);if(!s||s!==n)if(!s&&i)e[t]=[n];else if(s)if(a){var c=s.indexOf(n);if(c===r)return;-1!==c&&s.splice(c,1),l?s.splice(r,0,n):s.push(n)}else e[t]=[s,n];else e[t]=n}function D(e){return e.tagName&&Se[u(e,Re)||u(e,Re)||e.tagName.toLowerCase()]}function E(e,t){var n=D(e),i=!t&&u(e,Re);return i&&!ht.hasExpr(i)?i:n?n.name:e.tagName.toLowerCase()}function I(){return this.parent?a(l(this),this.parent):this}function R(e,n,i){var r="o"===i[0],o=r?"select>":"table>";if(e.innerHTML="<"+o+n.trim()+"</"+o,o=e.firstChild,r)o.selectedIndex=-1;else{var s=Tt[i];s&&1===o.childElementCount&&(o=t(s,o))}return o}function B(e,t){if(!wt.test(e))return e;var n={};return t=t&&t.replace(kt,function(e,t,i){return n[t]=n[t]||i,""}).trim(),e.replace(_t,function(e,t,i){return n[t]||i||""}).replace(xt,function(e,n){return t||n||""})}function H(e,t,i){var r=e&&e.match(/^\s*<([-\w]+)/),o=r&&r[1].toLowerCase(),s=n(i?Vt:Ot);return e=B(e,t),jt.test(o)?s=R(s,e,o):f(s,e,i),s}function U(e){for(var t=e;t.__.isAnonymous&&t.parent;)t=t.parent;return t}function F(e,t,n){var i=this.__.parent,r=this.__.item;if(!r)for(;i&&!r;)r=i.__.item,i=i.__.parent;if(s(n,"currentTarget")&&(n.currentTarget=e),s(n,"target")&&(n.target=n.srcElement),s(n,"which")&&(n.which=n.charCode||n.keyCode),n.item=r,t.call(this,n),mt.autoUpdate&&!n.preventUpdate){var o=U(this);o.isMounted&&o.update()}}function $(e,t,n,i){var r,o=F.bind(i,n,t);n[e]=null,r=e.replace(nt,""),P(i.__.listeners,n)||i.__.listeners.push(n),n[ze]||(n[ze]={}),n[ze][e]&&n.removeEventListener(r,n[ze][e]),n[ze][e]=o,n.addEventListener(r,o,!1)}function q(e,t,n,i){var r=Pe(e,t,n),o=t.tagName||E(t.root,!0),s=U(i);return M(r,"parent",s),r.__.parent=i,N(s.tags,o,r),s!==i&&N(i.tags,o,r),r}function z(e,t,n,i){if(j(e[t])){var r=e[t].indexOf(n);-1!==r&&e[t].splice(r,1),e[t].length?1!==e[t].length||i||(e[t]=e[t][0]):delete e[t]}else e[t]===n&&delete e[t]}function K(e,t){var n,i,r=this,o=p(),s=p(),a=g();for(this.root.insertBefore(o,this.root.firstChild),this.root.appendChild(s),this.__.head=i=o,this.__.tail=s;i;)n=i.nextSibling,a.appendChild(i),r.__.virts.push(i),i=n;t?e.insertBefore(a,t.__.head):e.appendChild(a)}function J(e,t){var n=g();K.call(e,n),t.parentNode.replaceChild(n,t)}function W(e,t,n){var r,o=e.tag||e.dom._tag,s=o?o.__:{},a=s.head,l="VIRTUAL"===e.dom.tagName;if(o&&e.tagName===n)return void o.update();o&&(l&&(r=p(),a.parentNode.insertBefore(r,a)),o.unmount(!0)),V(n)&&(e.impl=Se[n],e.impl&&(e.tag=o=q(e.impl,{root:e.dom,parent:t,tagName:n},e.dom.innerHTML,t),C(e.attrs,function(e){return i(o.root,e.name,e.value)}),e.tagName=n,o.mount(),l&&J(o,r||o.root),t.__.onUnmount=function(){var e=o.opts.dataIs;z(o.parent.tags,e,o),z(o.__.parent.tags,e,o),o.unmount()}))}function G(e){return e?(e=e.replace(Ee,""),rt[e]&&(e=rt[e]),e):null}function Z(e){if(!this.root||!u(this.root,"virtualized")){var t,n=e.dom,r=G(e.attr),o=P([Fe,$e],r),s=e.root&&"VIRTUAL"===e.root.tagName,a=this.__,l=a.isAnonymous,c=n&&(e.parent||n.parentNode),p="style"===r,f="class"===r;if(e._riot_id)return void(e.__.wasCreated?e.update():(e.mount(),s&&J(e,e.root)));if(e.update)return e.update();var m=o&&!l?I.call(this):this;t=ht(e.expr,m);var g=!x(t),v=_(t);if(v&&(f?t=ht(JSON.stringify(t),this):p&&(t=y(t))),!e.attr||e.wasParsedOnce&&g&&!1!==t||h(n,u(n,e.attr)?e.attr:r),e.bool&&(t=!!t&&r),e.isRtag)return W(e,this,t);if((!e.wasParsedOnce||e.value!==t)&&(e.value=t,e.wasParsedOnce=!0,!v||f||p||o)){if(g||(t=""),!r)return t+="",void(c&&(e.parent=c,"TEXTAREA"===c.tagName?(c.value=t,st||(n.nodeValue=t)):n.nodeValue=t));k(t)?$(r,t,n,this):o?d(n,r===$e?!t:t):(e.bool&&(n[r]=t),"value"===r&&n.value!==t?n.value=t:g&&!1!==t&&i(n,r,t),p&&n.hidden&&d(n,!1))}}}function Q(e){C(e,Z.bind(this))}function Y(e,t,n,i,r){if(!e||!n){var o=e?I.call(this):t||this;C(r,function(e){e.expr&&Z.call(o,e.expr),i[A(e.name).replace(Ee,"")]=e.expr?e.expr.value:e.value})}}function X(e,t,n){var i=e.__,r={},o=e.isMounted&&!i.skipAnonymous;return i.isAnonymous&&i.parent&&a(e,i.parent),a(e,t),Y.apply(e,[i.isLoop,i.parent,i.isAnonymous,r,i.instAttrs]),o&&e.isMounted&&k(e.shouldUpdate)&&!e.shouldUpdate(t,r)?e:(a(e.opts,r),o&&e.trigger("update",t),Q.call(e,n),o&&e.trigger("updated"),e)}function ee(e){if(!e){var t=Object.keys(Se);return t+ee(t)}return e.filter(function(e){return!/[^-\w]/.test(e)}).reduce(function(e,t){var n=t.trim().toLowerCase();return e+",["+Re+'="'+n+'"]'},"")}function te(e,t){var n=this,i=n.name,r=n.tmpl,o=n.css,s=n.attrs,a=n.onCreate;return Se[i]||(ne(i,r,o,s,a),Se[i].class=this.constructor),Ce(e,i,t,this),o&&pt.inject(),this}function ne(e,t,n,i,r){return k(i)&&(r=i,/^[\w-]+\s?=/.test(n)?(i=n,n=""):i=""),n&&(k(n)?r=n:pt.add(n)),e=e.toLowerCase(),Se[e]={name:e,tmpl:t,attrs:i,fn:r},e}function ie(e,t,n,i,r){return n&&pt.add(n,e),Se[e]={name:e,tmpl:t,attrs:i,fn:r},e}function re(e,t,n){function r(e){if(e.tagName){var o,s=u(e,Re);t&&s!==t&&(s=t,i(e,Re,t)),o=Ce(e,s||e.tagName.toLowerCase(),n),o&&a.push(o)}else e.length&&C(e,r)}var o,s,a=[];if(pt.inject(),_(t)&&(n=t,t=0),V(e)?(e="*"===e?s=ee():e+ee(e.split(/, */)),o=e?c(e):[]):o=e,"*"===t){if(t=s||ee(),o.tagName)o=c(t,o);else{var l=[];C(o,function(e){return l.push(c(t,e))}),o=l}t=0}return r(o),a}function oe(e,t,n){if(_(e))return void oe("__"+Lt+++"__",e,!0);var i=n?Ct:Pt;if(!t){if(o(i[e]))throw new Error("Unregistered mixin: "+e);return i[e]}i[e]=k(t)?a(t.prototype,i[e]||{})&&t:a(i[e]||{},t)}function se(){return C(Ae,function(e){return e.update()})}function ae(e){Se[e]=null}function le(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return C(t,function(t){var n,i,o=[],s=["init","__proto__"];t=V(t)?oe(t):t,n=k(t)?new t:t;var a=Object.getPrototypeOf(n);do{o=o.concat(Object.getOwnPropertyNames(i||n))}while(i=Object.getPrototypeOf(i||n));C(o,function(t){if(!P(s,t)){var i=r(n,t)||r(a,t),o=i&&(i.get||i.set);!e.hasOwnProperty(t)&&o?Object.defineProperty(e,t,i):e[t]=k(n[t])?n[t].bind(e):n[t]}}),n.init&&n.init.bind(e)(e.opts)}),e}function ce(e,t){var n,i=this.parent;i&&(n=i.tags[e],j(n)?n.splice(t,0,n.splice(n.indexOf(this),1)[0]):N(i.tags,e,this))}function pe(e,t){for(var n,i=this,r=this.__.head,o=g();r;)if(n=r.nextSibling,o.appendChild(r),(r=n)===i.__.tail){o.appendChild(r),e.insertBefore(o,t.__.head);break}}function de(e,t,n,i){var r=i?l(i):{};return r[e.key]=t,e.pos&&(r[e.pos]=n),r}function ue(e,t){for(var n=t.length,i=e.length;n>i;)n--,he.apply(t[n],[t,n])}function he(e,t){e.splice(t,1),this.unmount(),z(this.parent,this,this.__.tagName,!0)}function fe(e){var t=this;C(Object.keys(this.tags),function(n){ce.apply(t.tags[n],[n,e])})}function me(e,t,n){n?pe.apply(this,[e,t]):v(e,this.root,t.root)}function ge(e,t,n){n?K.apply(this,[e,t]):v(e,this.root,t.root)}function ve(e,t){t?K.call(this,e):e.appendChild(this.root)}function ye(e,t,n,i){return e?i?ht(e,n):t[e]:t}function be(e,t,n){var i,r=typeof u(e,Ue)!==Ke||h(e,Ue),o=u(e,qe),s=!!o&&ht.hasExpr(o),c=E(e),d=Se[c],f=e.parentNode,m=p(),v=D(e),y=u(e,Be),b=[],w=e.innerHTML,x=!Se[c],k="VIRTUAL"===e.tagName,_=[];return h(e,He),h(e,qe),n=ht.loopKeys(n),n.isLoop=!0,y&&h(e,Be),f.insertBefore(m,e),f.removeChild(e),n.update=function(){n.value=ht(n.val,t);var p=n.value,u=g(),h=!j(p)&&!V(p),f=m.parentNode,T=[];f&&(h?(i=p||!1,p=i?Object.keys(p).map(function(e){return de(n,p[e],e)}):[]):i=!1,y&&(p=p.filter(function(e,i){return n.key&&!h?!!ht(y,de(n,e,i,t)):!!ht(y,a(l(t),e))})),C(p,function(l,h){var m=!i&&n.key?de(n,l,h):l,g=ye(o,l,m,s),y=r&&typeof l===Je&&!i,j=_.indexOf(g),O=-1===j,V=!O&&y?j:h,C=b[V],L=h>=_.length,M=y&&O||!y&&!C;M?(C=Pe(d,{parent:t,isLoop:!0,isAnonymous:x,tagName:c,root:e.cloneNode(x),item:m,index:h},w),C.mount(),L?ve.apply(C,[u||f,k]):ge.apply(C,[f,b[h],k]),L||_.splice(h,0,m),b.splice(h,0,C),v&&N(t.tags,c,C,!0)):V!==h&&y&&((o||P(p,_[V]))&&(me.apply(C,[f,b[h],k]),b.splice(h,0,b.splice(V,1)[0]),_.splice(h,0,_.splice(V,1)[0])),n.pos&&(C[n.pos]=h),!v&&C.tags&&fe.call(C,h)),a(C.__,{item:m,index:h,parent:t}),T[h]=g,M||C.update(m)}),ue(p,b),_=T.slice(),f.insertBefore(u,m))},n.unmount=function(){C(b,function(e){e.unmount()})},n}function we(e,t,n,i){return l(At).init(e,t,n,i)}function xe(e){C(e,function(e){e.unmount?e.unmount(!0):e.tagName?e.tag.unmount(!0):e.unmount&&e.unmount()})}function ke(e,t,n){return l(St).init(e,t,n)}function _e(e,t){var n=this,r=[];return b(e,function(o){var s,a,l=o.nodeType;if((t||o!==e)&&(3===l&&"STYLE"!==o.parentNode.tagName&&ht.hasExpr(o.nodeValue)&&r.push({dom:o,expr:o.nodeValue}),1===l)){var c="VIRTUAL"===o.tagName;if(s=u(o,He))return c&&i(o,"loopVirtual",!0),r.push(be(o,n,s)),!1;if(s=u(o,Be))return r.push(ke(o,n,s)),!1;if((s=u(o,Re))&&ht.hasExpr(s))return r.push({isRtag:!0,expr:s,dom:o,attrs:[].slice.call(o.attributes)}),!1;if(a=D(o),c&&(u(o,"virtualized")&&o.parentElement.removeChild(o),a||u(o,"virtualized")||u(o,"loopVirtual")||(a={tmpl:o.outerHTML})),a&&(o!==e||t)){var p=u(o,Re);if(!c||p)return p&&c&&S("Virtual tags shouldn't be used together with the \""+Re+'" attribute - https://github.com/riot/riot/issues/2511'),r.push(q(a,{root:o,parent:n},o.innerHTML,n)),!1;i(o,"virtualized",!0);var d=Pe({tmpl:o.outerHTML},{root:o,parent:n},o.innerHTML);r.push(d)}Te.apply(n,[o,o.attributes,function(e,t){t&&r.push(t)}])}}),r}function Te(e,t,n){var i=this;C(t,function(t){if(!t)return!1;var r,o=t.name,s=O(o);P(Ie,o)&&e.tagName.toLowerCase()!==Ne?r=we(e,i,o,t.value):ht.hasExpr(t.value)&&(r={dom:e,expr:t.value,attr:o,bool:s}),n(t,r)})}function je(e){var t=this.__,n=t.isAnonymous;M(this,"isMounted",e),n||(e?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function Oe(e,t,n,r){var o=e.__,s=o.root;s._tag=e,Te.apply(o.parent,[s,s.attributes,function(t,n){!o.isAnonymous&&At.isPrototypeOf(n)&&(n.tag=e),t.expr=n,o.instAttrs.push(t)}]),m(o.impl.attrs,function(e,t){o.implAttrs.push({name:e,value:t})}),Te.apply(e,[s,o.implAttrs,function(e,t){t?n.push(t):i(s,e.name,e.value)}]),Y.apply(e,[o.isLoop,o.parent,o.isAnonymous,r,o.instAttrs]);var a=oe(De);if(a&&!o.skipAnonymous)for(var l in a)a.hasOwnProperty(l)&&e.mixin(a[l]);if(o.impl.fn&&o.impl.fn.call(e,r),o.skipAnonymous||e.trigger("before-mount"),C(_e.apply(e,[t,o.isAnonymous]),function(e){return n.push(e)}),e.update(o.item),!o.isAnonymous&&!o.isInline)for(;t.firstChild;)s.appendChild(t.firstChild);if(M(e,"root",s),!o.skipAnonymous&&e.parent){var c=U(e.parent);c.one(c.isMounted?"updated":"mount",function(){je.call(e,!0)})}else je.call(e,!0);return e.__.wasCreated=!0,e}function Ve(e,t,n){var i=e.__,r=i.root,o=Ae.indexOf(e),s=r.parentNode;if(i.skipAnonymous||e.trigger("before-unmount"),m(i.impl.attrs,function(e){L(e,Ee)&&(e=e.slice(Ee.length)),h(r,e)}),e.__.listeners.forEach(function(e){Object.keys(e[ze]).forEach(function(t){e.removeEventListener(t,e[ze][t])})}),-1!==o&&Ae.splice(o,1),i.parent&&!i.isAnonymous){var a=U(i.parent);i.isVirtual?Object.keys(e.tags).forEach(function(t){return z(a.tags,t,e.tags[t])}):z(a.tags,i.tagName,e)}return e.__.virts&&C(e.__.virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),xe(n),C(i.instAttrs,function(e){return e.expr&&e.expr.unmount&&e.expr.unmount()}),t?f(r,""):s&&s.removeChild(r),i.onUnmount&&i.onUnmount(),e.isMounted||je.call(e,!0),je.call(e,!1),delete r._tag,e}function Pe(e,t,n){void 0===e&&(e={}),void 0===t&&(t={});var i,r=t.context||{},o=a({},t.opts),s=t.parent,l=t.isLoop,c=!!t.isAnonymous,p=mt.skipAnonymousTags&&c,d=t.item,u=t.index,h=[],f=[],m=[],g=t.root,v=t.tagName||E(g),y="virtual"===v,b=!y&&!e.tmpl;return p||ft(r),e.name&&g._tag&&g._tag.unmount(!0),M(r,"isMounted",!1),M(r,"__",{impl:e,root:g,skipAnonymous:p,implAttrs:f,isAnonymous:c,instAttrs:h,innerHTML:n,tagName:v,index:u,isLoop:l,isInline:b,item:d,parent:s,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),M(r,"_riot_id",yt()),M(r,"root",g),a(r,{opts:o},d),M(r,"parent",s||null),M(r,"tags",{}),M(r,"refs",{}),b||l&&c?i=g:(y||(g.innerHTML=""),i=H(e.tmpl,n,T(g))),M(r,"update",function(e){return X(r,e,m)}),M(r,"mixin",function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return le.apply(void 0,[r].concat(e))}),M(r,"mount",function(){return Oe(r,i,m,o)}),M(r,"unmount",function(e){return Ve(r,e,m)}),r}function Ce(e,t,n,i){var r,o=Se[t],s=Se[t].class,c=i||(s?l(s.prototype):{}),p=e._innerHTML=e._innerHTML||e.innerHTML,d=a({root:e,opts:n,context:c},{parent:n?n.parent:null});return o&&e&&(r=Pe(o,d,p)),r&&r.mount&&(r.mount(!0),P(Ae,r)||Ae.push(r)),r}var Le,Me,Ae=[],Se={},Ne="yield",De="__global_mixin",Ee="riot-",Ie=["ref","data-ref"],Re="data-is",Be="if",He="each",Ue="no-reorder",Fe="show",$e="hide",qe="key",ze="__riot-events__",Ke="string",Je="object",We="undefined",Ge="function",Ze="http://www.w3.org/1999/xlink",Qe="http://www.w3.org/2000/svg",Ye=/^xlink:(\w+)/,Xe=typeof window===We?void 0:window,et=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,tt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,nt=/^on/,it=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,rt={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},ot=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,st=0|(Xe&&Xe.document||{}).documentMode,at={},lt=[],ct=!1;Xe&&(Le=function(){var e=n("style"),r=t("style[type=riot]");return i(e,"type","text/css"),r?(r.id&&(e.id=r.id),r.parentNode.replaceChild(e,r)):document.head.appendChild(e),e}(),Me=Le.styleSheet);var pt={styleNode:Le,add:function(e,t){t?at[t]=e:lt.push(e),ct=!0},inject:function(){if(Xe&&ct){ct=!1;var e=Object.keys(at).map(function(e){return at[e]}).concat(lt).join("\n");Me?Me.cssText=e:Le.innerHTML=e}}},dt=function(){function e(e,t){for(;--t>=0&&/\s/.test(e[t]););return t}function t(t,a){var l=/.*/g,c=l.lastIndex=a++,p=l.exec(t)[0].match(o);if(p){var d=c+p[0].length;c=e(t,c);var u=t[c];if(c<0||~n.indexOf(u))return d;if("."===u)"."===t[c-1]&&(a=d);else if("+"===u||"-"===u)(t[--c]!==u||(c=e(t,c))<0||!s.test(t[c]))&&(a=d);else if(~r.indexOf(u)){for(var h=c+1;--c>=0&&s.test(t[c]););~i.indexOf(t.slice(c+1,h))&&(a=d)}}return a}var n="[{(,;:?=|&!^~>%*/",i=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],r=i.reduce(function(e,t){return e+t.slice(-1)},""),o=/^\/(?=[^*>\/])[^[\/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\\/]*)*?\/[gimuy]*/,s=/[$\w]/;return t}(),ut=function(e){function t(e){return e}function n(e,t){return t||(t=w),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?c:"")}function i(e){if(e===v)return y;var t=e.split(" ");if(2!==t.length||h.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(f,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:y[4],t),t[5]=n(e.length>3?/\\({|})/g:y[5],t),t[6]=n(y[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+m,c),t[8]=e,t}function r(e){return e instanceof RegExp?a(e):w[e]}function o(e){(e||(e=v))!==w[8]&&(w=i(e),a=e===v?t:n,w[9]=a(y[9])),b=e}function s(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:o,get:function(){return b},enumerable:!0}),l=e,o(t)}var a,l,c="g",p=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,d=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,u=d.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,h=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),f=/(?=[[\]()*+?.^$|])/g,m=d.source+"|"+/(\/)(?![*\/])/.source,g={"(":RegExp("([()])|"+m,c),"[":RegExp("([[\\]])|"+m,c),"{":RegExp("([{}])|"+m,c)},v="{ }",y=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+m,c),v,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],b=void 0,w=[];return r.split=function(e,t,n){function i(e){f&&(e=f+e,f=""),t||s?d.push(e&&e.replace(n[5],"$1")):d.push(e)}function r(n,i,r){return r&&(i=dt(e,n)),t&&i>n+2&&(c="⁗"+h.length+"~",h.push(e.slice(n,i)),f+=e.slice(a,n)+c,a=i),i}n||(n=w);var o,s,a,l,c,p,d=[],u=n[6],h=[],f="";for(s=a=u.lastIndex=0;o=u.exec(e);){if(p=u.lastIndex,l=o.index,s){if(o[2]){var m=o[2],v=g[m],y=1;for(v.lastIndex=p;o=v.exec(e);)if(o[1]){if(o[1]===m)++y;else if(!--y)break}else v.lastIndex=r(o.index,v.lastIndex,o[2]);u.lastIndex=y?e.length:v.lastIndex;continue}if(!o[3]){u.lastIndex=r(l,p,o[4]);continue}}o[1]||(i(e.slice(a,l)),a=u.lastIndex,u=n[6+(s^=1)],u.lastIndex=a)}return e&&a<e.length&&i(e.slice(a)),d.qblocks=h,d},r.hasExpr=function(e){return w[4].test(e)},r.loopKeys=function(e){var t=e.match(w[9]);return t?{key:t[1],pos:t[2],val:w[0]+t[3].trim()+w[1]}:{val:e.trim()}},r.array=function(e){return e?i(e):w},Object.defineProperty(r,"settings",{set:s,get:function(){return l}}),r.settings="undefined"!=typeof riot&&riot.settings||{},r.set=o,r.skipRegex=dt,r.R_STRINGS=d,r.R_MLCOMMS=p,r.S_QBLOCKS=u,r.S_QBLOCK2=m,r}(),ht=function(){function e(e,i){return e?(s[e]||(s[e]=n(e))).call(i,t.bind({data:i,tmpl:e})):e}function t(t,n){t.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id},e.errorHandler?e.errorHandler(t):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(t.message),console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}function n(e){var t=i(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function i(e){var t,n=ut.split(e.replace(a,'"'),1),i=n.qblocks;if(n.length>2||n[0]){var o,s,c=[];for(o=s=0;o<n.length;++o)(t=n[o])&&(t=1&o?r(t,1,i):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(c[s++]=t);t=s<2?c[0]:"["+c.join(",")+'].join("")'}else t=r(n[1],0,i);return i.length&&(t=t.replace(l,function(e,t){return i[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function r(e,t,n){if(e=e.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,r=[],s=0;e&&(i=e.match(c))&&!i.index;){var a,l,d=/,|([[{(])|$/g;for(e=RegExp.rightContext,a=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];l=(i=d.exec(e))[1];)!function(t,n){var i,r=1,o=p[t];for(o.lastIndex=n.lastIndex;i=o.exec(e);)if(i[0]===t)++r;else if(!--r)break;n.lastIndex=r?e.length:o.lastIndex}(l,d);l=e.slice(0,i.index),e=RegExp.rightContext,r[s++]=o(l,1,a)}e=s?s>1?"["+r.join(",")+'].join(" ").trim()':r[0]:o(e,t)}return e}function o(e,t,n){var i;return e=e.replace(u,function(e,t,n,r,o){return n&&(r=i?0:r+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+d+n,r&&(i="."===(o=o[r])||"("===o||"["===o)):r&&(i=!h.test(o.slice(r)))),e}),i&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(i?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(i?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var s={};e.hasExpr=ut.hasExpr,e.loopKeys=ut.loopKeys,e.clearCache=function(){s={}},e.errorHandler=null;var a=/\u2057/g,l=/\u2057(\d+)~/g,c=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,p={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},d='"in this?this:'+("object"!=typeof window?"global":"window")+").",u=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,h=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.version=ut.version="v3.0.8",e}(),ft=function(e){e=e||{};var t={},n=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(n,i){return"function"==typeof i&&(t[n]=t[n]||[]).push(i),e},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,i){if("*"!=n||i)if(i)for(var r,o=t[n],s=0;r=o&&o[s];++s)r==i&&o.splice(s--,1);else delete t[n];else t={};return e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){function i(){e.off(t,i),n.apply(e,arguments)}return e.on(t,i)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(i){var r,o,s,a=arguments,l=arguments.length-1,c=new Array(l);for(s=0;s<l;s++)c[s]=a[s+1];for(r=n.call(t[i]||[],0),s=0;o=r[s];++s)o.apply(e,c);return t["*"]&&"*"!=i&&e.trigger.apply(e,["*",i].concat(c)),e},enumerable:!1,writable:!1,configurable:!1}}),e},mt=a(l(ut.settings),{skipAnonymousTags:!0,autoUpdate:!0}),gt=Object.freeze({$$:c,$:t,createDOMPlaceholder:p,mkEl:n,setAttr:i,toggleVisibility:d,getAttr:u,remAttr:h,setInnerHTML:f,walkAttrs:m,createFrag:g,safeInsert:v,styleObjectToString:y,walkNodes:b}),vt=Object.freeze({isBlank:x,isFunction:k,isObject:_,isSvg:T,isWritable:s,isArray:j,isBoolAttr:O,isNil:w,isString:V,isUndefined:o}),yt=function(){var e=-1;return function(){return++e}}(),bt=Object.freeze({contains:P,each:C,getPropDescriptor:r,startsWith:L,uid:yt,defineProperty:M,objectCreate:l,extend:a,toCamel:A,warn:S}),wt=/<yield\b/i,xt=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,kt=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,_t=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Tt={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},jt=st&&st<10?et:tt,Ot="div",Vt="svg",Pt={},Ct=Pt[De]={},Lt=0,Mt=Object.freeze({Tag:te,tag:ne,tag2:ie,mount:re,mixin:oe,update:se,unregister:ae,version:"v3.9.1"}),At={init:function(e,t,n,i){return this.dom=e,this.attr=n,this.rawValue=i,this.parent=t,this.hasExp=ht.hasExpr(i),this},update:function(){var e=this.value,t=this.parent&&U(this.parent),n=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?ht(this.rawValue,this.parent):this.rawValue,!x(e)&&t&&z(t.refs,e,n),!x(this.value)&&V(this.value)?(t&&N(t.refs,this.value,n,null,this.parent.__.index),this.value!==e&&i(this.dom,this.attr,this.value)):h(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=n)},unmount:function(){var e=this.tag||this.dom,t=this.parent&&U(this.parent);!x(this.value)&&t&&z(t.refs,this.value,e)}},St={init:function(e,t,n){h(e,Be),a(this,{tag:t,expr:n,stub:p(),pristine:e});var i=e.parentNode;return i.insertBefore(this.stub,e),i.removeChild(e),this},update:function(){this.value=ht(this.expr,this.tag),this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=_e.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(xe(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),this.value&&Q.call(this.tag,this.expressions)},unmount:function(){xe(this.expressions||[])}},Nt=Object.freeze({arrayishAdd:N,getTagName:E,inheritParentProps:I,mountTo:Ce,selectTags:ee,arrayishRemove:z,getTag:D,initChildTag:q,moveChildTag:ce,makeReplaceVirtual:J,getImmediateCustomParentTag:U,makeVirtual:K,moveVirtual:pe,unmountAll:xe,createIfDirective:ke,createRefDirective:we}),Dt=mt,Et={tmpl:ht,brackets:ut,styleManager:pt,vdom:Ae,styleNode:pt.styleNode,dom:gt,check:vt,misc:bt,tags:Nt},It=te,Rt=ne,Bt=ie,Ht=re,Ut=oe,Ft=se,$t=ae,qt=ft,zt=a({},Mt,{observable:ft,settings:Dt,util:Et});e.settings=Dt,e.util=Et,e.Tag=It,e.tag=Rt,e.tag2=Bt,e.mount=Ht,e.mixin=Ut,e.update=Ft,e.unregister=$t,e.version="v3.9.1",e.observable=qt,e.default=zt,Object.defineProperty(e,"__esModule",{value:!0})})}},[489]);
//# sourceMappingURL=riot.js.map