webpackJsonp([3],{585:function(t,e,n){"use strict";var r=n(94),i=function(t){return t&&t.__esModule?t:{default:t}}(r);n(586),n(588),window.onload=function(){i.default.mount("*")}},586:function(t,e,n){(function(t){var r,i,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,u){if("object"==s(e)&&"object"==s(t))t.exports=u(n(94));else{i=[n(94)],r=u,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}}(0,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);n.d(e,"array",function(){return r.a});var i=n(11);n.d(e,"tree",function(){return i.a});var o=n(12);n.d(e,"string",function(){return o.a});var s=n(13);n.d(e,"deepMix",function(){return s.a});var a=n(14);n.d(e,"css",function(){return a.a});var u=n(15);n.d(e,"printer",function(){return u.a});var c=n(16);n.d(e,"object",function(){return c.a})},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(19);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=n(20);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return{last:function(){return t.length>0?t[t.length-1]:null},in:function(e,n){return t.filter(function(t){return e.indexOf(t)>=0&&(!n||n(t))})},notIn:function(e,n){return t.filter(function(t){return e.indexOf(t)<0&&(!n||n(t))})},is:function(e,n){var r=e.isIn,i=void 0===r?[]:r,o=e.notIn,s=void 0===o?[]:o;return t.filter(function(t){return i.reduce(function(e,n){return n.indexOf(t)>=0&&e},!0)&&s.reduce(function(e,n){return n.indexOf(t)<0&&e},!0)&&(!n||n(t))})},contains:function(e){return t.indexOf(e)>=0},allIn:function(e){return t.every(function(t){return e.indexOf(t)>=0})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17);n.d(e,"TreeNode",function(){return r.b}),n.d(e,"RootNode",function(){return r.a});var i=n(6);n.d(e,"selectionStrategies",function(){return i.c}),n.d(e,"clickStrategies",function(){return i.a}),n.d(e,"foldStrategies",function(){return i.b});var o=n(7);n.d(e,"defaults",function(){return o.a});var s=n(5);n.d(e,"dragndrop",function(){return s.a}),n.d(e,"utils",function(){return s.c}),n.d(e,"nodeEvents",function(){return s.b}),n.d(e,"wrapEvents",function(){return s.d})},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return f});var i=n(0),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s={selection:function(t,e){return{draggable:!0,droppable:!0,drag:function(t,e,n){e.dataTransfer&&e.dataTransfer.setData("application/json",JSON.stringify(n.selection))},guard:function(t,e,n){return!(e&&e.dataTransfer&&e.dataTransfer.types.indexOf("application/json")<0)&&(function(){return t&&Object(i.array)(n.selection).contains(t)}()||function(){return n.ancestors&&n.ancestors.reduce(function(t,e){return t||Object(i.array)(n.selection).contains(e)},!1)}())},drop:function(n,o,s){var a=Object(i.tree)(t(),s.category).filter(function(t){return s.selection.indexOf(t)<0}),u=n?n[s.category]&&n[s.category]instanceof Array?n:Object(i.array)(s.ancestors).last():null;u?u[s.category]=[].concat(r(u[s.category]),r(s.selection)):a=[].concat(r(a),r(s.selection)),e(a)}}},pluck:function(t,e){return{draggable:!0,backup:[],drag:function(n,r,o){a=JSON.stringify(t()),r.dataTransfer&&r.dataTransfer.setData("application/json",JSON.stringify(n)),setTimeout(function(){return e(Object(i.tree)(t(),o.category).filter(function(t){return t!==n}))},20)},cancel:function(){e(JSON.parse(a))}}},paste:function(t,e){return{droppable:!0,drop:function(n,o,s){if(o.dataTransfer&&o.dataTransfer.types.indexOf("application/json")>-1){var a=JSON.parse(o.dataTransfer.getData("application/json")),u=[].concat(r(t())),c=n?n[s.category]&&n[s.category]instanceof Array?n:Object(i.array)(s.ancestors).last():null;c?c[s.category]=[].concat(r(c[s.category]),[a]):u=[].concat(r(u),[a]),e(u)}}}}},a="[]",u={filesystem:function(t){var e=t.dataTransfer?t.dataTransfer.items:null;if(e&&e.length>0&&"file"===e[0].kind){for(var n=[],r=0;r<e.length;r++){var i=e[r].webkitGetAsEntry()||e[r].getAsFile();i&&n.push(i)}return n}return null}},c=!1,l={onDragStart:function(t){return function(e){e.stopPropagation(),this.inputs.get().dragndrop.onDrag(t,e,this.inputs.get())}},onDragOver:function(t){return function(e){e.preventDefault(),e.stopPropagation(),c||(c=!0,this.inputs.get().dragndrop.guard&&this.inputs.get().dragndrop.guard(t,e,this.inputs.get())?(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),i.css.addClass(e.currentTarget,this.mixCss("nodrop"))):i.css.addClass(e.currentTarget,this.mixCss("dragover")),requestAnimationFrame(function(){c=!1}))}},onDragEnter:function(t){return function(e){if(e.preventDefault(),e.stopPropagation(),t&&(this.hasChildren(t)||this.isAsync(t))&&i.css.hasClass(e.target,this.mixCss("opener"))){var n=this.state.get().unfolded.filter(function(e){return e!==t});n.push(t),this.state.set({unfolded:n})}}},onDragLeave:function(t){t.stopPropagation(),i.css.removeClass(t.currentTarget,this.mixCss("dragover")),i.css.removeClass(t.currentTarget,this.mixCss("nodrop"))},onDrop:function(t){return function(e){e.stopPropagation(),i.css.removeClass(e.currentTarget,this.mixCss("dragover")),i.css.removeClass(e.currentTarget,this.mixCss("nodrop")),this.inputs.get().dragndrop.onDrop(t,e,this.inputs.get())}},onDragEnd:function(t){return function(e){e.stopPropagation(),e.dataTransfer&&"none"===e.dataTransfer.dropEffect&&this.inputs.get().dragndrop.onCancel(t,e,this.inputs.get())}}},f=function(){var t=this;return o({},this.inputs.get().dragndrop,{onDrag:function(e,n,r){Object(i.array)(t.inputs.get().selection).contains(e)||t.onSelect(e,r.ancestors,r.neighbours),t.outputs.onDrag&&t.outputs.onDrag(e,n,r)},onDrop:function(e,n,r){n.preventDefault(),t.outputs.onDrop&&t.outputs.onDrop(e,n,r)},onCancel:function(e,n,r){n.preventDefault(),n.dataTransfer&&"none"===n.dataTransfer.dropEffect&&t.outputs.onCancel&&t.outputs.onCancel(e,n,r)}})}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n.d(e,"c",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l});var i=n(0),o=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(t,e,n,r){return Object(i.array)(e).contains(t)?[]:[t]},a=function(t,e,n,r){var o=!1,s=e.filter(function(e){return o||(o=e===t),e!==t&&r.indexOf(e)<0});return!o&&t[this.inputs.get().category]&&t[this.inputs.get().category]instanceof Array&&Object(i.tree)(t[this.inputs.get().category],this.inputs.get().category).visit(function(t){s=Object(i.array)(s).notIn(t)}),o||s.push(t),s},u={single:s,multiple:a,modifiers:function(t,e,n,u){var c=this;if(this.modifiers.control||this.modifiers.meta)return this.lastSelection=t,delete this.lastIndex,delete this.lastPivot,a.bind(this)(t,e,n,u);if(this.modifiers.shift){if(!this.lastSelection)return e;var l=n.indexOf(this.lastSelection);if(l<0)return e;var f=e.slice(),d=n.indexOf(t);if(l>=0){var p;if(this.lastPivot){var h=n.indexOf(this.lastPivot),g=l>h?[h,l]:[l,h],v=o(g,2),m=v[0],y=v[1],b=n.slice(m,y+1);f=Object(i.array)(f).notIn(b)}this.lastPivot=t;var x=l>d?[d,l]:[l,d],w=o(x,2),O=w[0],_=w[1],j=this.inputs.get().disabled?n.slice(O,_+1).filter(function(t){return!c.inputs.get().disabled(t)}):n.slice(O,_+1);f=Object(i.array)(f).notIn(j),(p=f).push.apply(p,r(j))}return f}return this.lastSelection=t,delete this.lastIndex,delete this.lastPivot,s.bind(this)(t,e.length>1?[]:e,n,u)},ancestors:function(t){function e(e,n,r,i){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n,o){return 0===e.length?[t]:Object(i.array)(e).contains(t)?[].concat(r(o)):[].concat(r(o),[t])})},c={"unfold-on-selection":function(t){if(!this.isSelected(t)){var e=this.state.get().unfolded.filter(function(e){return e!==t});e.push(t),this.state.set({unfolded:e})}},"toggle-fold":function(t){var e=this.state.get().unfolded.filter(function(e){return e!==t});e.length===this.state.get().unfolded.length&&e.push(t),this.state.set({unfolded:e})}},l={"opener-control":function(t){return!Object(i.array)(this.state.get().unfolded).contains(t)},"not-selected":function(t){return!this.isSelected(t)},"no-child-selection":function(t){var e=this;return!function t(n){return e.isSelected(n)||n[e.inputs.get().category]&&n[e.inputs.get().category]instanceof Array&&n[e.inputs.get().category].some(t)}(t)},"max-depth":function(){return!(!this.inputs.get().maxDepth||isNaN(parseInt(this.inputs.get().maxDepth,10)))&&this.inputs.get().depth>=parseInt(this.inputs.get().maxDepth,10)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={labels:{"search.placeholder":"Search ..."},css:{TreeView:"TreeView",opener:"opener",depth:"depth",selected:"selected",category:"category",folded:"folded",disabled:"disabled",async:"async",loading:"loading",nodrop:"nodrop",dragover:"dragover",search:"search",item:"item"},strategies:{selection:["single"],click:[],fold:["not-selected","no-child-selection"]},display:function(t){return t.toString()},async:function(t){return t()},noOpener:!1,dragndrop:{draggable:!1,droppable:!1}}},function(t,e,n){"use strict";n(9)},function(t,e,n){"use strict";n(10),n(21),n(22)},function(t,e,n){n(1).tag2("treeview",'<div class="{rootNode.mixCss(⁗TreeView⁗)}"> <input type="search" class="{rootNode.mixCss(⁗search⁗)}" if="{inputs.get().search}" placeholder="{inputs.get().labels[⁗search.placeholder⁗]}" onkeyup="{onSearch}"> <treeviewnode opts="{inputs.get()}" model="{inputs.get().sort ? inputs.get().model.sort(inputs.get().sort) : inputs.get().model}" filteredmodel="{filtered}" onselect="{rootNode.onSelect}" dragndrop="{rootNode.wrapDragNDrop()}" ancestors="{[]}" searched="{search.trim()}" depth="{+⁗0⁗}"> </TreeViewNode> </div>',"","",function(t){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r=this,i=n(0),o=n(4),s=n(2);this.mixin((0,s.optsMixin)()),this.mixin((0,s.listenerMixin)({eventType:"keyup",callback:function(t){return r.rootNode.onKey(t)},autoMount:!0})),this.mixin((0,s.listenerMixin)({eventType:"keydown",callback:function(t){return r.rootNode.onKey(t)},autoMount:!0})),this.filtered=null,this.search="",this.onSearch=function(t){var e=t.currentTarget.value;r.search=e,r.filtered=e.trim()?(0,i.tree)(r.inputs.get().model,r.inputs.get().category).treeFilter(r.inputs.get().search(e.trim())):null},this.inputs={get:function(){return e({},o.defaults,r.opts,{onSelect:r.opts.onselect})}},this.outputs={onSelect:this.inputs.get().onselect,onDrag:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.drag,onDrop:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.drop,onCancel:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.cancel},this.state={get:function(){return e({},r)},set:function(t){for(var e in t)e in r&&(r[e]=t[e])}},this.rootNode=new o.RootNode(this.inputs,this.outputs,this.state,this.update)})},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n.d(e,"a",function(){return o});var i=n(3),o=function(t,e){return{flatten:function(){for(var n=[],o=[t];o.length>0;){var s=o.pop();s instanceof Array&&(n=[].concat(r(Object(i.a)(n).notIn(s)),r(s)),o=[].concat(r(o),r(s.filter(function(t){return t[e]}).map(function(t){return t[e]}))))}return n},filter:function(n){var r=t.filter(n);return function t(r){r.forEach(function(r){r[e]&&r[e]instanceof Array&&(r[e]=r[e].filter(n),t(r[e]))})}(r),r},treeFilter:function(n){var r=new Map;return function t(r,i){r.forEach(function(r){if(r[e]&&r[e]instanceof Array){var o=new Map;t(r[e],o),o.size>0?i.set(r,o):n(r)&&i.set(r,new Map)}else n(r)&&i.set(r,null)})}(t,r),r},add:function(n,i){for(var o=[t];o.length>0;){var s=o.pop(),a=s.indexOf(n);if(a>=0&&s[a][e])return s[a][e]=s[a][e].slice(),s[a][e].push(i),t;o=[].concat(r(o),r(s.filter(function(t){return t[e]}).map(function(t){return t[e]})))}return t},visit:function(n){for(var r=[t];r.length>0;){var i=r.pop();n(i),i.forEach(function(t){return t[e]&&t[e]instanceof Array?r.push(t[e]):null})}}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return{contains:function(e){return!!t&&!!t.match(new RegExp(".*"+e+".*","gi"))}}}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n.d(e,"a",function(){return a});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":s(t)},a=function t(e,n){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!n||"object"!==(void 0===e?"undefined":o(e))||"object"!==(void 0===n?"undefined":o(n)))return e;var a=i({},e,n);for(var u in n)n.hasOwnProperty(u)&&(n[u]instanceof Array&&e[u]instanceof Array?a[u]=s?[].concat(r(e[u]),r(n[u])):a[u]=n[u]:"object"===o(n[u])&&"object"===o(e[u])&&(a[u]=t(e[u],n[u],s)));return a}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={classes:function(t){var e=[];for(var n in t)t[n]&&e.push(n);return e.join(" ")},addClass:function(t,e){t instanceof HTMLElement&&(t.className=t.className.split(" ").filter(function(t){return t!==e}).join(" ")+" "+e)},removeClass:function(t,e){t instanceof HTMLElement&&(t.className=t.className.split(" ").filter(function(t){return t!==e}).join(" "))},hasClass:function(t,e){return t instanceof HTMLElement&&t.className.indexOf(e)>=0}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={debug:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;n("%cDEBUG%c "+t,"background-color: red; color: white; font-size: 1.1em; font-weight: bold; padding: 3px 10px; border-radius: 5px","color: #444; font-weight: bold; font-size: 1.1em"),n("%c"+e,"color: #222; font-weight: bold")}}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return o});var i=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(t){if(!(t&&t instanceof Object))throw new Error("Bad object format");return{shallowCompare:function(e,n){var r=!0;for(var i in t)if(t.hasOwnProperty(i)&&!(n&&n.indexOf(i)>=0)&&e[i]!==t[i])return void(r=!1);return r},filter:function(e){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},map:function(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n},fullMap:function(e){var n={};for(var r in t)if(t.hasOwnProperty(r)){var o=e(r,t[r]),s=i(o,2),a=s[0],u=s[1];n[a]=u}return n},nestPrefix:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},i=r({},e,{});for(var o in t)t.hasOwnProperty(o)&&o.startsWith(e)?i[e][n(o.substring(e.length))]=t[o]:i[o]=t[o];return i}}}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=(void 0===e?"undefined":s(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":s(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"b",function(){return h}),n.d(e,"a",function(){return g});var u=n(0),c=n(5),l=n(6),f=n(7),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=function t(e,n,r,i){a(this,t),this.inputs=e,this.outputs=n,this.state=r,this.refresh=i},h=function(t){function e(){var t,n,o,s;a(this,e);for(var d=arguments.length,p=Array(d),h=0;h<d;h++)p[h]=arguments[h];return n=o=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(p))),o.isSelected=function(t){return Object(u.array)(o.inputs.get().selection).contains(t)},o.isFolded=function(t){var e=o.inputs.get().strategies;return(!o.inputs.get().searched||o.isAsync(t))&&(e&&e.fold||[]).map(function(t){return(l.b[t]||t).bind(o)}).reduce(function(e,n){return e&&n(t,e)},!0)},o.hasChildren=function(t){return t[o.inputs.get().category]&&t[o.inputs.get().category]instanceof Array},o.isAsync=function(t){return!!t&&[o.inputs.get().category]&&"function"==typeof t[o.inputs.get().category]},o.isDisabled=function(t){var e=o.inputs.get().disabled;return!!e&&e(t)},o.isDraggable=function(t){return t&&o.inputs.get().dragndrop.draggable&&("function"!=typeof o.inputs.get().dragndrop.draggable||o.inputs.get().dragndrop.draggable(t))},o.isDroppable=function(t){return o.inputs.get().dragndrop.droppable&&("function"!=typeof o.inputs.get().dragndrop.droppable||o.inputs.get().dragndrop.droppable(t))},o.mixCss=function(t){return o.inputs.get().css[t]||f.a.css[t]},o.ulCss=function(){return u.css.classes(r({},o.mixCss("depth")+"-"+(o.inputs.get().depth||0),!0))},o.liCss=function(t){var e;return u.css.classes((e={},r(e,o.mixCss("selected"),o.isSelected(t)),r(e,o.mixCss("category"),o.hasChildren(t)||o.isAsync(t)),r(e,o.mixCss("folded"),o.hasChildren(t)||o.isAsync(t)?o.isFolded(t):null),r(e,o.mixCss("disabled"),o.isDisabled(t)),r(e,o.mixCss("async"),o.isAsync(t)&&o.isFolded(t)),r(e,o.mixCss("loading"),o.isAsync(t)&&!o.isFolded(t)),e))},o.pending=[],o.unwrapPromise=function(t){o.pending.push(t);var e=o.inputs.get().async;return e?e(t[o.inputs.get().category]).then(function(e){t[o.inputs.get().category]=e,o.refresh()}).catch(function(t){throw t}).then(function(){return o.pending=o.pending.filter(function(e){return e!==t})}):Promise.reject(new Error("Missing async function."))},o.onClick=function(t){return function(e){if(!o.isDisabled(t)){var n=o.inputs.get().strategies;(n&&n.click||[]).map(function(t){return(l.a[t]||t).bind(o)}).forEach(function(n){return n(t,e,o.inputs.get().ancestors,o.inputs.get().model)}),o.inputs.get().onSelect(t,o.inputs.get().ancestors,o.inputs.get().model),e.stopPropagation()}}},o.getDragEvents=function(t){if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1])return{};var e={draggable:o.isDraggable(t),onDragStart:o.isDraggable(t)&&c.b.onDragStart(t).bind(o),onDragOver:o.isDroppable(t)&&c.b.onDragOver(t).bind(o),onDragEnter:o.isDroppable(t)&&c.b.onDragEnter(t).bind(o),onDragLeave:o.isDroppable(t)&&c.b.onDragLeave.bind(o),onDrop:o.isDroppable(t)&&c.b.onDrop(t).bind(o),onDragEnd:o.isDraggable(t)&&c.b.onDragEnd(t).bind(o)};for(var n in e)e[n]||delete e[n];return e},s=n,i(o,s)}return o(e,t),d(e,[{key:"onOpener",value:function(t){var e=this;return function(n){var r=e.state.get().unfolded.filter(function(e){return e!==t});r.length===e.state.get().unfolded.length&&r.push(t),e.state.set({unfolded:r}),n.stopPropagation()}}}]),e}(p),g=function(t){function e(){var t,n,r,o;a(this,e);for(var s=arguments.length,d=Array(s),p=0;p<s;p++)d[p]=arguments[p];return n=r=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(d))),r.modifiers={},r.onKey=function(t){r.modifiers={control:t.getModifierState("Control"),meta:t.getModifierState("Meta"),shift:t.getModifierState("Shift")}},r.onSelect=function(t,e,n){var i=r.inputs.get().strategies.selection||[],o=i.map(function(t){return(l.c[t]||t).bind(r)}).reduce(function(r,i){return i(t,r,n,e)},r.inputs.get().selection);return r.outputs.onSelect(o,t,e,n),o},r.wrapDragNDrop=c.d.bind(r),r.mixCss=function(t){return r.inputs.get().css[t]||f.a.css[t]},r.filterTree=function(t){var e=r.inputs.get().search;return e&&t.trim()?Object(u.tree)(r.inputs.get().model,r.inputs.get().category).treeFilter(e(t.trim())):null},o=n,i(r,o)}return o(e,t),e}(p)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optsMixin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"opts";return{init:function(){this.on("update",this.updateOpts),this._originalOpts=Object.keys(this.opts),this.updateOpts()},updateOpts:function(){if(this.opts)for(var e in this.opts[t])~this._originalOpts.indexOf(e)||(this.opts[e]=this.opts[t][e])}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transitionMixin=function(t){return{init:function(){var e=this;if("transition"in this.opts){var n=this.opts.transition.name,r=this.unmount,i=function(){var r=(t||function(){return e.root})();r&&(r.classList.add(n),r.classList.add(n+"-mount"),setTimeout(function(){r.classList.remove(n+"-mount")},10))},o=!1,s=function(){if(!o){o=!0;var i=(t||function(){return e.root})();if(!i)return r.call(e);i.addEventListener("transitionend",function(){r.call(e)}),i.classList.add(n+"-unmount")}};this.one("mount",i),Object.defineProperty(this,"unmount",{value:s})}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.listenerMixin=function(t){var e=t.eventType,n=void 0===e?"click":e,r=t.callback,i=t.regulate,o=void 0!==i&&i;return{init:function(){var t=!1,e=function(e){r&&(o?(t||window.requestAnimationFrame(function(){return r(e,function(){return t=!1})}),t=!0):r(e))};this.one("mount",function(){document.addEventListener(n,e)}),this.one("unmount",function(){document.removeEventListener(n,e)})}}}},function(t,e,n){n(1).tag2("treeviewnode",'<ul if="{!opts.folded && !opts.loading}" data-is="with-transition" transition="{opts.transition}" class="{node.ulCss()}" ondragover="{!opts.depth ? rootEvents.onDragOver : null}" ondragenter="{!opts.depth ? rootEvents.onDragEnter : null}" ondragleave="{!opts.depth ? rootEvents.onDragLeave : null}" ondrop="{!opts.depth ? rootEvents.onDrop : null}"> <li each="{item in getModel()}" class="{node.liCss(item)}" draggable="{node.getDragEvents(item).draggable}" ondragstart="{node.getDragEvents(item).onDragStart}" ondragover="{node.getDragEvents(item).onDragOver}" ondragenter="{node.getDragEvents(item).onDragEnter}" ondragleave="{node.getDragEvents(item).onDragLeave}" ondragend="{node.getDragEvents(item).onDragEnd}" ondrop="{node.getDragEvents(item).onDrop}"> <span class="{parent.node.mixCss(⁗item⁗)}" onclick="{parent.node.onClick(item)}"> <virtual if="{!parent.opts.displaytag}"> {parent.opts.display(item, parent.opts)} </virtual> <virtual if="{parent.opts.displaytag}" data-is="{parent.opts.displaytag(item, parent.opts)}" item="{item}"></virtual> <span if="{node.hasChildren(item) || node.isAsync(item) && !parent.opts.noopener}" class="{node.mixCss(⁗opener⁗)}" onclick="{node.onOpener(item)}"></span> </span> <treeviewnode if="{node.hasChildren(item) || node.isAsync(item)}" opts="{parent.opts}" model="{getChildModel(item)}" filteredmodel="{getChildFiltered(item)}" ancestors="{getAncestors(item)}" depth="{parent.opts.depth + 1}" folded="{node.isFolded(item)}" loading="{node.isAsync(item) && !node.isFolded(item)}"> </TreeViewNode> </li> </ul> <span if="{opts.loading}"></span>',"","",function(t){"use strict";var e=this,r=n(4),i=n(2);this.mixin((0,i.optsMixin)()),this.unfolded=[],this.getModel=function(){return e.opts.searched?e.opts.model.filter(function(t){return e.opts.filteredmodel.has(t)}):e.opts.model},this.getChildModel=function(t){var n=t[e.opts.category];return e.node.isAsync(t)&&!e.node.isFolded(t)&&e.node.pending.indexOf(t)<0&&e.node.unwrapPromise(t),e.node.isAsync(t)||(n=e.opts.sort?n.sort(e.opts.sort):n),n},this.getChildFiltered=function(t){return e.opts.searched?e.opts.filteredmodel.get(t):null},this.getAncestors=function(t){return[].concat(e.opts.ancestors,[t])};var o=function(){e.opts.onSelect=e.opts.onselect};this.on("update",o),o(),this.inputs={get:function(){return e.opts}},this.state={get:function(){return e},set:function(t){for(var n in t)n in e&&(e[n]=t[n])}},this.node=new r.TreeNode(this.inputs,null,this.state,this.update),this.rootEvents=this.node.getDragEvents()})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=n(2);e.default=i.default.tag("with-transition",!1,function(t){var e=this;this.mixin((0,o.transitionMixin)());var n=function(){for(var t in e.parent)e.parent.hasOwnProperty(t)&&(e[t]=e.parent[t])};n(),this.on("update",n)})}])})}).call(e,n(587)(t))},587:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},588:function(t,e,n){"use strict";n(589),n(590)},589:function(t,e,n){n(94).tag2("app",'<div class="App"> <div class="chapter"> <p> This page covers the <em class="highlight"><a href="http://riotjs.com/" target="_blank" rel="noopener noreferrer">Riot.js</a></em> implementation of the <em><a href="../#Introduction">Bosket library</a></em>.<br> Versatile and flexible, Bosket eases the creation and design of tree view components.<br><br> As a matter of fact <em><a href="https://github.com/elbywan/bosket/tree/master/docs/riot/plan" target="_blank" rel="noopener noreferrer">this whole documentation</a></em> is built around Bosket using <em><a href="https://github.com/elbywan/bosket/blob/master/docs/riot/components/Planner.tag" target="_blank" rel="noopener noreferrer">a custom component</a></em> which automatically creates the table of contents and the anchors.<br> <br> Multiple use case examples (including the source code and the css stylesheet) are provided alongside the documentation. </p> <treeviewdemo></treeviewdemo> </div> </div>',"","",function(t){"use strict";n(154)})},590:function(t,e,n){n(94).tag2("treeviewdemo",'<treeview opts="{options}"></treeview> <p> <span if="{options.selection.length === 0}">No elements are</span> <span if="{options.selection.length === 1}">One element is</span> <span if="{options.selection.length > 1}">{options.selection.length} elements are</span> selected. </p> <div class="select-blocks"> <button each="{item in options.selection}" onclick="{updateSelection(item)}"> {item.label} </button> </div>',"","",function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=this,o=n(11),s=n(34),a=n(94),u=e(a),c=n(156),l=e(c);n(591),this.dragImage=new Image,this.dragImage.src="../assets/drag-image.png",u.default.tag("wrapped-label","<a>{ opts.item.label }</a>"),this.options={files:["./components/Demos/TreeView/TreeViewDemo.js","./components/Demos/TreeView/TreeViewDemo.css","../common/models/TreeViewModel.js"],model:l.default,category:"items",selection:[],onselect:function(t){i.options.selection=t,i.update()},displaytag:function(t){return"wrapped-label"},sort:function(t,e){return t.label.localeCompare(e.label)},search:function(t){return function(e){return(0,o.string)(e.label).contains(t)}},strategies:{selection:["modifiers"],fold:["opener-control"]},css:{TreeView:"TreeViewDemo"},dragndrop:r({},s.dragndrop.selection(function(){return i.options.model},function(t){i.options.model=t,i.update()}),{drag:function(t,e){e.dataTransfer.setDragImage(i.dragImage,0,0),e.dataTransfer.setData("application/json",JSON.stringify(i.options.selection))},droppable:function(t){return!t||t.items&&t.items instanceof Array}}),transition:{name:"TreeViewDemoTransition"}},this.updateSelection=function(t){return function(e){i.options.selection=i.options.selection.filter(function(e){return e!==t})}}})},591:function(t,e){},94:function(t,e,n){/* Riot v3.6.3, @license MIT */
!function(t,n){n(e)}(0,function(t){"use strict";function e(t){return Jt.test(t)}function n(t){return typeof t===It}function r(t){return t&&typeof t===Pt}function i(t){return typeof t===Lt}function o(t){return typeof t===kt}function s(t){return i(t)||null===t||""===t}function a(t){return Array.isArray(t)||t instanceof Array}function u(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return i(t[e])||n&&n.writable}function c(t,e){return Array.prototype.slice.call((e||document).querySelectorAll(t))}function l(t,e){return(e||document).querySelector(t)}function f(){return document.createDocumentFragment()}function d(){return document.createTextNode("")}function p(t){return!!t.ownerSVGElement}function h(t){return"svg"===t?document.createElementNS(Rt,t):document.createElement(t)}function g(t,e){if(i(t.innerHTML)){var n=(new DOMParser).parseFromString(e,"application/xml"),r=t.ownerDocument.importNode(n.documentElement,!0);t.appendChild(r)}else t.innerHTML=e}function v(t,e){t.style.display=e?"":"none",t.hidden=!e}function m(t,e){t.removeAttribute(e)}function y(t){return Object.keys(t).reduce(function(e,n){return e+" "+n+": "+t[n]+";"},"")}function b(t,e){return t.getAttribute(e)}function x(t,e,n){var r=Ft.exec(e);r&&r[1]?t.setAttributeNS(Vt,r[1],n):t.setAttribute(e,n)}function w(t,e,n){t.insertBefore(e,n.parentNode&&n)}function O(t,e){if(t)for(var n;n=zt.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function _(t,e,n){if(t){var r,i=e(t,n);if(!1===i)return;for(t=t.firstChild;t;)r=t.nextSibling,_(t,e,i),t=r}}function j(t,e){for(var n=t?t.length:0,r=0;r<n;++r)e(t[r],r);return t}function C(t,e){return-1!==t.indexOf(e)}function T(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function E(t,e){return t.slice(0,e.length)===e}function A(t,e,n,r){return Object.defineProperty(t,e,D({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function D(t){for(var e,n=arguments,r=1;r<n.length;++r)if(e=n[r])for(var i in e)u(t,i)&&(t[i]=e[i]);return t}function S(t,e,n){var r=this.__.parent,i=this.__.item;if(!i)for(;r&&!i;)i=r.__.item,r=r.__.parent;if(u(n,"currentTarget")&&(n.currentTarget=t),u(n,"target")&&(n.target=n.srcElement),u(n,"which")&&(n.which=n.charCode||n.keyCode),n.item=i,e.call(this,n),oe.autoUpdate&&!n.preventUpdate){var o=ct(this);o.isMounted&&o.update()}}function N(t,e,n,r){var i,o=S.bind(r,n,e);n[t]=null,i=t.replace(Ut,""),C(r.__.listeners,n)||r.__.listeners.push(n),n[Mt]||(n[Mt]={}),n[Mt][t]&&n.removeEventListener(i,n[Mt][t]),n[Mt][t]=o,n.addEventListener(i,o,!1)}function M(t,e,n){var r,i=t.tag||t.dom._tag,s=i?i.__:{},a=s.head,u="VIRTUAL"===t.dom.tagName;if(i&&t.tagName===n)return void i.update();i&&(u&&(r=d(),a.parentNode.insertBefore(r,a)),i.unmount(!0)),o(n)&&(t.impl=Ot[n],t.impl&&(t.tag=i=ut(t.impl,{root:t.dom,parent:e,tagName:n},t.dom.innerHTML,e),j(t.attrs,function(t){return x(i.root,t.name,t.value)}),t.tagName=n,i.mount(),u&&gt(i,r||i.root),e.__.onUnmount=function(){var t=i.opts.dataIs;pt(i.parent.tags,t,i),pt(i.__.parent.tags,t,i),i.unmount()}))}function k(t){return t?(t=t.replace(jt,""),Kt[t]&&(t=Kt[t]),t):null}function P(t){if(!this.root||!b(this.root,"virtualized")){var e,i,o,a=t.dom,u=k(t.attr),c=C([St,Nt],u),l=t.root&&"VIRTUAL"===t.root.tagName,f=a&&(t.parent||a.parentNode),d="style"===u,p="class"===u;if(t._riot_id)return void(t.__.wasCreated?t.update():(t.mount(),l&&gt(t,t.root)));if(t.update)return t.update();if(o=ne(t.expr,c?D({},Object.create(this.parent),this):this),e=!s(o),i=r(o),i&&(i=!p&&!d,p?o=ne(JSON.stringify(o),this):d&&(o=y(o))),!t.attr||t.isAttrRemoved&&e&&!1!==o||(m(a,t.attr),t.isAttrRemoved=!0),t.bool&&(o=!!o&&u),t.isRtag)return M(t,this,o);if((!t.wasParsedOnce||t.value!==o)&&(t.value=o,t.wasParsedOnce=!0,!i||c)){if(s(o)&&(o=""),!u)return o+="",void(f&&(t.parent=f,"TEXTAREA"===f.tagName?(f.value=o,qt||(a.nodeValue=o)):a.nodeValue=o));n(o)?N(u,o,a,this):c?v(a,u===Nt?!o:o):(t.bool&&(a[u]=o),"value"===u&&a.value!==o&&(a.value=o),e&&!1!==o&&x(a,u,o),d&&a.hidden&&v(a,!1))}}}function L(t){j(t,P.bind(this))}function I(t,e,n,r){var i=r?Object.create(r):{};return i[t.key]=e,t.pos&&(i[t.pos]=n),i}function V(t,e){for(var n=e.length,r=t.length;n>r;)n--,R.apply(e[n],[e,n])}function R(t,e){t.splice(e,1),this.unmount(),pt(this.parent,this,this.__.tagName,!0)}function F(t){var e=this;j(Object.keys(this.tags),function(n){at.apply(e.tags[n],[n,t])})}function H(t,e,n){n?mt.apply(this,[t,e]):w(t,this.root,e.root)}function B(t,e,n){n?vt.apply(this,[t,e]):w(t,this.root,e.root)}function $(t,e){e?vt.call(this,t):t.appendChild(this.root)}function U(t,e,n){var r,i=typeof b(t,Dt)!==kt||m(t,Dt),s=ft(t),u=Ot[s],c=t.parentNode,l=d(),p=ot(t),h=b(t,Et),g=[],v=!Ot[s],y="VIRTUAL"===t.tagName,x=[];return m(t,At),n=ne.loopKeys(n),n.isLoop=!0,h&&m(t,Et),c.insertBefore(l,t),c.removeChild(t),n.update=function(){n.value=ne(n.val,e);var c=n.value,d=f(),m=!a(c)&&!o(c),b=l.parentNode;b&&(m?(r=c||!1,c=r?Object.keys(c).map(function(t){return I(n,c[t],t)}):[]):r=!1,h&&(c=c.filter(function(t,r){return n.key&&!m?!!ne(h,I(n,t,r,e)):!!ne(h,D(Object.create(e),t))})),j(c,function(o,a){var l=i&&typeof o===Pt&&!r,f=x.indexOf(o),h=-1===f,m=!h&&l?f:a,w=g[m],O=a>=x.length,_=l&&h||!l&&!w;o=!r&&n.key?I(n,o,a):o,_?(w=new it(u,{parent:e,isLoop:!0,isAnonymous:v,tagName:s,root:t.cloneNode(v),item:o,index:a},t.innerHTML),w.mount(),O?$.apply(w,[d||b,y]):B.apply(w,[b,g[a],y]),O||x.splice(a,0,o),g.splice(a,0,w),p&&dt(e.tags,s,w,!0)):m!==a&&l&&(C(c,x[m])&&(H.apply(w,[b,g[a],y]),g.splice(a,0,g.splice(m,1)[0]),x.splice(a,0,x.splice(m,1)[0])),n.pos&&(w[n.pos]=a),!p&&w.tags&&F.call(w,a)),w.__.item=o,w.__.index=a,w.__.parent=e,_||w.update(o)}),V(c,g),x=c.slice(),b.insertBefore(d,l))},n.unmount=function(){j(g,function(t){t.unmount()})},n}function z(t,e,n){var r=this,i={parent:{children:e}};_(t,function(e,i){var o,s,a,u=e.nodeType,c=i.parent;if(!n&&e===t)return{parent:c};if(3===u&&"STYLE"!==e.parentNode.tagName&&ne.hasExpr(e.nodeValue)&&c.children.push({dom:e,expr:e.nodeValue}),1!==u)return i;var l="VIRTUAL"===e.tagName;if(o=b(e,At))return l&&x(e,"loopVirtual",!0),c.children.push(U(e,r,o)),!1;if(o=b(e,Et))return c.children.push(Object.create(se).init(e,r,o)),!1;if((s=b(e,Tt))&&ne.hasExpr(s))return c.children.push({isRtag:!0,expr:s,dom:e,attrs:[].slice.call(e.attributes)}),!1;if(a=ot(e),l&&(b(e,"virtualized")&&e.parentElement.removeChild(e),a||b(e,"virtualized")||b(e,"loopVirtual")||(a={tmpl:e.outerHTML})),a&&(e!==t||n)){if(!l||b(e,Tt))return c.children.push(ut(a,{root:e,parent:r},e.innerHTML,r)),!1;x(e,"virtualized",!0);var f=new it({tmpl:e.outerHTML},{root:e,parent:r},e.innerHTML);c.children.push(f)}return K.apply(r,[e,e.attributes,function(t,e){e&&c.children.push(e)}]),{parent:c}},i)}function K(t,n,r){var i=this;j(n,function(n){if(!n)return!1;var o,s=n.name,a=e(s);C(Ct,s)?o=Object.create(ae).init(t,i,s,n.value):ne.hasExpr(n.value)&&(o={dom:t,expr:n.value,attr:s,bool:a}),r(n,o)})}function J(t,e,n){var r="o"===n[0],i=r?"select>":"table>";if(t.innerHTML="<"+i+e.trim()+"</"+i,i=t.firstChild,r)i.selectedIndex=-1;else{var o=de[n];o&&1===i.childElementCount&&(i=l(o,i))}return i}function q(t,e){if(!ue.test(t))return t;var n={};return e=e&&e.replace(le,function(t,e,r){return n[e]=n[e]||r,""}).trim(),t.replace(fe,function(t,e,r){return n[e]||r||""}).replace(ce,function(t,n){return e||n||""})}function G(t,e,n){var r=t&&t.match(/^\s*<([-\w]+)/),i=r&&r[1].toLowerCase(),o=h(n?ge:he);return t=q(t,e),pe.test(i)?o=J(o,t,i):g(o,t),o}function W(t,e){var n=this,r=n.name,i=n.tmpl,o=n.css,s=n.attrs,a=n.onCreate;return Ot[r]||(Z(r,i,o,s,a),Ot[r].class=this.constructor),ht(t,r,e,this),o&&Yt.inject(),this}function Z(t,e,r,i,o){return n(i)&&(o=i,/^[\w-]+\s?=/.test(r)?(i=r,r=""):i=""),r&&(n(r)?o=r:Yt.add(r)),t=t.toLowerCase(),Ot[t]={name:t,tmpl:e,attrs:i,fn:o},t}function Q(t,e,n,r,i){return n&&Yt.add(n,t),Ot[t]={name:t,tmpl:e,attrs:r,fn:i},t}function X(t,e,n){function i(t){if(t.tagName){var r,o=b(t,Tt);e&&o!==e&&(o=e,x(t,Tt,e)),r=ht(t,o||t.tagName.toLowerCase(),n),r&&u.push(r)}else t.length&&j(t,i)}var s,a,u=[];if(Yt.inject(),r(e)&&(n=e,e=0),o(t)?(t="*"===t?a=yt():t+yt(t.split(/, */)),s=t?c(t):[]):s=t,"*"===e){if(e=a||yt(),s.tagName)s=c(e,s);else{var l=[];j(s,function(t){return l.push(c(e,t))}),s=l}e=0}return i(s),u}function Y(t,e,o){if(r(t))return void Y("__"+ye+++"__",t,!0);var s=o?me:ve;if(!e){if(i(s[t]))throw new Error("Unregistered mixin: "+t);return s[t]}s[t]=n(e)?D(e.prototype,s[t]||{})&&e:D(s[t]||{},e)}function tt(){return j(wt,function(t){return t.update()})}function et(t){Ot[t]=null}function nt(t,e,n,r,i){if(!t||!n){var o=!n&&t?this:e||this;j(i,function(t){t.expr&&L.call(o,[t.expr]),r[T(t.name).replace(jt,"")]=t.expr?t.expr.value:t.value})}}function rt(t){A(this,"isMounted",t)}function it(t,e,r){void 0===t&&(t={}),void 0===e&&(e={});var i,s=D({},e.opts),a=e.parent,u=e.isLoop,c=!!e.isAnonymous,l=oe.skipAnonymousTags&&c,f=e.item,d=e.index,h=[],v=[],y=[],b=e.root,w=e.tagName||ft(b),_="virtual"===w,T=!_&&!t.tmpl,S=[];l||re(this),t.name&&b._tag&&b._tag.unmount(!0),rt.call(this,!1),A(this,"__",{isAnonymous:c,instAttrs:h,innerHTML:r,tagName:w,index:d,isLoop:u,isInline:T,listeners:[],virts:[],wasCreated:!1,tail:null,head:null,parent:null,item:null}),A(this,"_riot_id",++xe),A(this,"root",b),D(this,{opts:s},f),A(this,"parent",a||null),A(this,"tags",{}),A(this,"refs",{}),T||u&&c?i=b:(_||(b.innerHTML=""),i=G(t.tmpl,r,p(b))),A(this,"update",function(t){var e={},r=this.isMounted&&!l;return D(this,t),nt.apply(this,[u,a,c,e,h]),r&&this.isMounted&&n(this.shouldUpdate)&&!this.shouldUpdate(t,e)?this:(u&&c&&st.apply(this,[this.parent,S]),D(s,e),r&&this.trigger("update",t),L.call(this,y),r&&this.trigger("updated"),this)}.bind(this)),A(this,"mixin",function(){var t=this;return j(arguments,function(e){var r,i,s=[],a=["init","__proto__"];e=o(e)?Y(e):e,r=n(e)?new e:e;var u=Object.getPrototypeOf(r);do{s=s.concat(Object.getOwnPropertyNames(i||r))}while(i=Object.getPrototypeOf(i||r));j(s,function(e){if(!C(a,e)){var i=Object.getOwnPropertyDescriptor(r,e)||Object.getOwnPropertyDescriptor(u,e),o=i&&(i.get||i.set);!t.hasOwnProperty(e)&&o?Object.defineProperty(t,e,i):t[e]=n(r[e])?r[e].bind(t):r[e]}}),r.init&&r.init.bind(t)()}),this}.bind(this)),A(this,"mount",function(){var e=this;b._tag=this,K.apply(a,[b,b.attributes,function(t,n){!c&&ae.isPrototypeOf(n)&&(n.tag=e),t.expr=n,h.push(t)}]),v=[],O(t.attrs,function(t,e){v.push({name:t,value:e})}),K.apply(this,[b,v,function(t,e){e?y.push(e):x(b,t.name,t.value)}]),nt.apply(this,[u,a,c,s,h]);var n=Y(_t);if(n&&!l)for(var r in n)n.hasOwnProperty(r)&&e.mixin(n[r]);if(t.fn&&t.fn.call(this,s),l||this.trigger("before-mount"),z.apply(this,[i,y,c]),this.update(f),!c&&!T)for(;i.firstChild;)b.appendChild(i.firstChild);if(A(this,"root",b),!l&&this.parent){var o=ct(this.parent);o.one(o.isMounted?"updated":"mount",function(){rt.call(e,!0),e.trigger("mount")})}else rt.call(this,!0),l||this.trigger("mount");return this.__.wasCreated=!0,this}.bind(this)),A(this,"unmount",function(e){var n,r=this,i=this.root,o=i.parentNode,s=wt.indexOf(this);return l||this.trigger("before-unmount"),O(t.attrs,function(t){E(t,jt)&&(t=t.slice(jt.length)),m(b,t)}),this.__.listeners.forEach(function(t){Object.keys(t[Mt]).forEach(function(e){t.removeEventListener(e,t[Mt][e])})}),-1!==s&&wt.splice(s,1),(o||_)&&(a?(n=ct(a),_?Object.keys(this.tags).forEach(function(t){pt(n.tags,t,r.tags[t])}):(pt(n.tags,w,this),a!==n&&pt(a.tags,w,this))):g(i,""),o&&!e&&o.removeChild(i)),this.__.virts&&j(this.__.virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),lt(y),j(h,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()}),this.__.onUnmount&&this.__.onUnmount(),l||(this.isMounted||this.trigger("mount"),this.trigger("unmount"),this.off("*")),A(this,"isMounted",!1),this.__.wasCreated=!1,delete this.root._tag,this}.bind(this))}function ot(t){return t.tagName&&Ot[b(t,Tt)||b(t,Tt)||t.tagName.toLowerCase()]}function st(t,e){var n=this;j(Object.keys(t),function(r){var o=C(e,r);(i(n[r])||o)&&(o||e.push(r),n[r]=t[r])})}function at(t,e){var n,r=this.parent;r&&(n=r.tags[t],a(n)?n.splice(e,0,n.splice(n.indexOf(this),1)[0]):dt(r.tags,t,this))}function ut(t,e,n,r){var i=new it(t,e,n),o=e.tagName||ft(e.root,!0),s=ct(r);return A(i,"parent",s),i.__.parent=r,dt(s.tags,o,i),s!==r&&dt(r.tags,o,i),i}function ct(t){for(var e=t;e.__.isAnonymous&&e.parent;)e=e.parent;return e}function lt(t){j(t,function(t){t instanceof it?t.unmount(!0):t.tagName?t.tag.unmount(!0):t.unmount&&t.unmount()})}function ft(t,e){var n=ot(t),r=!e&&b(t,Tt);return r&&!ne.hasExpr(r)?r:n?n.name:t.tagName.toLowerCase()}function dt(t,e,n,r,o){var s=t[e],u=a(s),c=!i(o);if(!s||s!==n)if(!s&&r)t[e]=[n];else if(s)if(u){var l=s.indexOf(n);if(l===o)return;-1!==l&&s.splice(l,1),c?s.splice(o,0,n):s.push(n)}else t[e]=[s,n];else t[e]=n}function pt(t,e,n,r){if(a(t[e])){var i=t[e].indexOf(n);-1!==i&&t[e].splice(i,1),t[e].length?1!==t[e].length||r||(t[e]=t[e][0]):delete t[e]}else delete t[e]}function ht(t,e,n,r){var i=Ot[e],o=Ot[e].class,s=r||(o?Object.create(o.prototype):{}),a=t._innerHTML=t._innerHTML||t.innerHTML,u=D({root:t,opts:n},{parent:n?n.parent:null});return i&&t&&it.apply(s,[i,u,a]),s&&s.mount&&(s.mount(!0),C(wt,s)||wt.push(s)),s}function gt(t,e){var n=f();vt.call(t,n),e.parentNode.replaceChild(n,e)}function vt(t,e){var n,r,i=this,o=d(),s=d(),a=f();for(this.root.insertBefore(o,this.root.firstChild),this.root.appendChild(s),this.__.head=r=o,this.__.tail=s;r;)n=r.nextSibling,a.appendChild(r),i.__.virts.push(r),r=n;e?t.insertBefore(a,e.__.head):t.appendChild(a)}function mt(t,e){for(var n,r=this,i=this.__.head,o=f();i;)if(n=i.nextSibling,o.appendChild(i),(i=n)===r.__.tail){o.appendChild(i),t.insertBefore(o,e.__.head);break}}function yt(t){if(!t){var e=Object.keys(Ot);return e+yt(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var n=e.trim().toLowerCase();return t+",["+Tt+'="'+n+'"]'},"")}var bt,xt,wt=[],Ot={},_t="__global_mixin",jt="riot-",Ct=["ref","data-ref"],Tt="data-is",Et="if",At="each",Dt="no-reorder",St="show",Nt="hide",Mt="__riot-events__",kt="string",Pt="object",Lt="undefined",It="function",Vt="http://www.w3.org/1999/xlink",Rt="http://www.w3.org/2000/svg",Ft=/^xlink:(\w+)/,Ht=typeof window===Lt?void 0:window,Bt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,$t=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Ut=/^on/,zt=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Kt={viewbox:"viewBox"},Jt=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,qt=0|(Ht&&Ht.document||{}).documentMode,Gt=Object.freeze({isBoolAttr:e,isFunction:n,isObject:r,isUndefined:i,isString:o,isBlank:s,isArray:a,isWritable:u}),Wt=Object.freeze({$$:c,$:l,createFrag:f,createDOMPlaceholder:d,isSvg:p,mkEl:h,setInnerHTML:g,toggleVisibility:v,remAttr:m,styleObjectToString:y,getAttr:b,setAttr:x,safeInsert:w,walkAttrs:O,walkNodes:_}),Zt={},Qt=[],Xt=!1;Ht&&(bt=function(){var t=h("style");x(t,"type","text/css");var e=l("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),xt=bt.styleSheet);var Yt={styleNode:bt,add:function(t,e){e?Zt[e]=t:Qt.push(t),Xt=!0},inject:function(){if(Ht&&Xt){Xt=!1;var t=Object.keys(Zt).map(function(t){return Zt[t]}).concat(Qt).join("\n");xt?xt.cssText=t:bt.innerHTML=t}}},te=function(){function t(t,e){for(;--e>=0&&/\s/.test(t[e]););return e}function e(e,a){var u=/.*/g,c=u.lastIndex=a++,l=u.exec(e)[0].match(o);if(l){var f=c+l[0].length;c=t(e,c);var d=e[c];if(c<0||~n.indexOf(d))return f;if("."===d)"."===e[c-1]&&(a=f);else if("+"===d||"-"===d)(e[--c]!==d||(c=t(e,c))<0||!s.test(e[c]))&&(a=f);else if(~i.indexOf(d)){for(var p=c+1;--c>=0&&s.test(e[c]););~r.indexOf(e.slice(c+1,p))&&(a=f)}}return a}var n="[{(,;:?=|&!^~>%*/",r=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],i=r.reduce(function(t,e){return t+e.slice(-1)},""),o=/^\/(?=[^*>\/])[^[\/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\\/]*)*?\/[gimuy]*/,s=/[$\w]/;return e}(),ee=function(t){function e(t){return t}function n(t,e){return e||(e=x),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?c:"")}function r(t){if(t===m)return y;var e=t.split(" ");if(2!==e.length||p.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(h,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:y[4],e),e[5]=n(t.length>3?/\\({|})/g:y[5],e),e[6]=n(y[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+g,c),e[8]=t,e}function i(t){return t instanceof RegExp?a(t):x[t]}function o(t){(t||(t=m))!==x[8]&&(x=r(t),a=t===m?e:n,x[9]=a(y[9])),b=t}function s(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:o,get:function(){return b},enumerable:!0}),u=t,o(e)}var a,u,c="g",l=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,f=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,d=f.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,p=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),h=/(?=[[\]()*+?.^$|])/g,g=f.source+"|"+/(\/)(?![*\/])/.source,v={"(":RegExp("([()])|"+g,c),"[":RegExp("([[\\]])|"+g,c),"{":RegExp("([{}])|"+g,c)},m="{ }",y=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+g,c),m,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],b=void 0,x=[];return i.split=function(t,e,n){function r(t){h&&(t=h+t,h=""),e||s?f.push(t&&t.replace(n[5],"$1")):f.push(t)}function i(n,r,i){return i&&(r=te(t,n)),e&&r>n+2&&(c="⁗"+p.length+"~",p.push(t.slice(n,r)),h+=t.slice(a,n)+c,a=r),r}n||(n=x);var o,s,a,u,c,l,f=[],d=n[6],p=[],h="";for(s=a=d.lastIndex=0;o=d.exec(t);){if(l=d.lastIndex,u=o.index,s){if(o[2]){var g=o[2],m=v[g],y=1;for(m.lastIndex=l;o=m.exec(t);)if(o[1]){if(o[1]===g)++y;else if(!--y)break}else m.lastIndex=i(o.index,m.lastIndex,o[2]);d.lastIndex=y?t.length:m.lastIndex;continue}if(!o[3]){d.lastIndex=i(u,l,o[4]);continue}}o[1]||(r(t.slice(a,u)),a=d.lastIndex,d=n[6+(s^=1)],d.lastIndex=a)}return t&&a<t.length&&r(t.slice(a)),f.qblocks=p,f},i.hasExpr=function(t){return x[4].test(t)},i.loopKeys=function(t){var e=t.match(x[9]);return e?{key:e[1],pos:e[2],val:x[0]+e[3].trim()+x[1]}:{val:t.trim()}},i.array=function(t){return t?r(t):x},Object.defineProperty(i,"settings",{set:s,get:function(){return u}}),i.settings="undefined"!=typeof riot&&riot.settings||{},i.set=o,i.skipRegex=te,i.R_STRINGS=f,i.R_MLCOMMS=l,i.S_QBLOCKS=d,i.S_QBLOCK2=g,i}(),ne=function(){function t(t,r){return t?(s[t]||(s[t]=n(t))).call(r,e.bind({data:r,tmpl:t})):t}function e(e,n){e.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id},t.errorHandler?t.errorHandler(e):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(e.message),console.log("<%s> %s",e.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}function n(t){var e=r(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function r(t){var e,n=ee.split(t.replace(a,'"'),1),r=n.qblocks;if(n.length>2||n[0]){var o,s,c=[];for(o=s=0;o<n.length;++o)(e=n[o])&&(e=1&o?i(e,1,r):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(c[s++]=e);e=s<2?c[0]:"["+c.join(",")+'].join("")'}else e=i(n[1],0,r);return r.length&&(e=e.replace(u,function(t,e){return r[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function i(t,e,n){if(t=t.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r,i=[],s=0;t&&(r=t.match(c))&&!r.index;){var a,u,f=/,|([[{(])|$/g;for(t=RegExp.rightContext,a=r[2]?n[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];u=(r=f.exec(t))[1];)!function(e,n){var r,i=1,o=l[e];for(o.lastIndex=n.lastIndex;r=o.exec(t);)if(r[0]===e)++i;else if(!--i)break;n.lastIndex=i?t.length:o.lastIndex}(u,f);u=t.slice(0,r.index),t=RegExp.rightContext,i[s++]=o(u,1,a)}t=s?s>1?"["+i.join(",")+'].join(" ").trim()':i[0]:o(t,e)}return t}function o(t,e,n){var r;return t=t.replace(d,function(t,e,n,i,o){return n&&(i=r?0:i+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+f+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!p.test(o.slice(i)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var s={};t.hasExpr=ee.hasExpr,t.loopKeys=ee.loopKeys,t.clearCache=function(){s={}},t.errorHandler=null;var a=/\u2057/g,u=/\u2057(\d+)~/g,c=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,l={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},f='"in this?this:'+("object"!=typeof window?"global":"window")+").",d=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,p=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.version=ee.version="v3.0.8",t}(),re=function(t){t=t||{};var e={},n=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(n,r){return"function"==typeof r&&(e[n]=e[n]||[]).push(r),t},enumerable:!1,writable:!1,configurable:!1},off:{value:function(n,r){if("*"!=n||r)if(r)for(var i,o=e[n],s=0;i=o&&o[s];++s)i==r&&o.splice(s--,1);else delete e[n];else e={};return t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(r){var i,o,s,a=arguments,u=arguments.length-1,c=new Array(u);for(s=0;s<u;s++)c[s]=a[s+1];for(i=n.call(e[r]||[],0),s=0;o=i[s];++s)o.apply(t,c);return e["*"]&&"*"!=r&&t.trigger.apply(t,["*",r].concat(c)),t},enumerable:!1,writable:!1,configurable:!1}}),t},ie=Object.freeze({each:j,contains:C,toCamel:T,startsWith:E,defineProperty:A,extend:D}),oe=D(Object.create(ee.settings),{skipAnonymousTags:!0,autoUpdate:!0}),se={init:function(t,e,n){m(t,Et),this.tag=e,this.expr=n,this.stub=d(),this.pristine=t;var r=t.parentNode;return r.insertBefore(this.stub,t),r.removeChild(t),this},update:function(){this.value=ne(this.expr,this.tag),this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=[],z.apply(this.tag,[this.current,this.expressions,!0])):!this.value&&this.current&&(lt(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),this.value&&L.call(this.tag,this.expressions)},unmount:function(){lt(this.expressions||[])}},ae={init:function(t,e,n,r){return this.dom=t,this.attr=n,this.rawValue=r,this.parent=e,this.hasExp=ne.hasExpr(r),this},update:function(){var t=this.value,e=this.parent&&ct(this.parent),n=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?ne(this.rawValue,this.parent):this.rawValue,!s(t)&&e&&pt(e.refs,t,n),!s(this.value)&&o(this.value)?(e&&dt(e.refs,this.value,n,null,this.parent.__.index),this.value!==t&&x(this.dom,this.attr,this.value)):m(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=n)},unmount:function(){var t=this.tag||this.dom,e=this.parent&&ct(this.parent);!s(this.value)&&e&&pt(e.refs,this.value,t)}},ue=/<yield\b/i,ce=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,le=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,fe=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,de={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},pe=qt&&qt<10?Bt:$t,he="div",ge="svg",ve={},me=ve[_t]={},ye=0,be=Object.freeze({Tag:W,tag:Z,tag2:Q,mount:X,mixin:Y,update:tt,unregister:et,version:"v3.6.3"}),xe=0,we=Object.freeze({getTag:ot,inheritFrom:st,moveChildTag:at,initChildTag:ut,getImmediateCustomParentTag:ct,unmountAll:lt,getTagName:ft,arrayishAdd:dt,arrayishRemove:pt,mountTo:ht,makeReplaceVirtual:gt,makeVirtual:vt,moveVirtual:mt,selectTags:yt}),Oe=oe,_e={tmpl:ne,brackets:ee,styleManager:Yt,vdom:wt,styleNode:Yt.styleNode,dom:Wt,check:Gt,misc:ie,tags:we},je=W,Ce=Z,Te=Q,Ee=X,Ae=Y,De=tt,Se=et,Ne=re,Me=D({},be,{observable:re,settings:Oe,util:_e});t.settings=Oe,t.util=_e,t.Tag=je,t.tag=Ce,t.tag2=Te,t.mount=Ee,t.mixin=Ae,t.update=De,t.unregister=Se,t.version="v3.6.3",t.observable=Ne,t.default=Me,Object.defineProperty(t,"__esModule",{value:!0})})}},[585]);
//# sourceMappingURL=riot.js.map