!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r=window.webpackJsonp;window.webpackJsonp=function(n,i,a){for(var s,u,c,f=0,l=[];f<n.length;f++)u=n[f],o[u]&&l.push(o[u][0]),o[u]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);for(r&&r(n,i,a);l.length;)l.shift()();if(a)for(f=0;f<a.length;f++)c=e(e.s=a[f]);return c};var n={},o={4:0};e.e=function(t){function r(){s.onerror=s.onload=null,clearTimeout(u);var e=o[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),o[t]=void 0)}var n=o[t];if(0===n)return new Promise(function(t){t()});if(n)return n[2];var i=new Promise(function(e,r){n=o[t]=[e,r]});n[2]=i;var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,e.nc&&s.setAttribute("nonce",e.nc),s.src=e.p+""+t+"/build/"+({0:"angular",1:"react",2:"vue",3:"riot"}[t]||t)+".js";var u=setTimeout(r,12e4);return s.onerror=s.onload=r,a.appendChild(s),i},e.m=t,e.c=n,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e.oe=function(t){throw console.error(t),t},e(e.s=592)}({11:function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=r(245),i=r(244),a=function(t){return{contains:function(e){return!!t&&!!t.match(new RegExp(".*"+e+".*","gi"))}}},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":s(t)},f=function t(e,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!r||"object"!==(void 0===e?"undefined":c(e))||"object"!==(void 0===r?"undefined":c(r)))return e;var i=u({},e,r);for(var a in r)r.hasOwnProperty(a)&&(r[a]instanceof Array&&e[a]instanceof Array?i[a]=o?[].concat(n(e[a]),n(r[a])):i[a]=r[a]:"object"===c(r[a])&&"object"===c(e[a])&&(i[a]=t(e[a],r[a],o)));return i},l=r(246),h=r(243),d=r(247);r.d(e,"array",function(){return o.a}),r.d(e,"tree",function(){return i.a}),r.d(e,"string",function(){return a}),r.d(e,"deepMix",function(){return f}),r.d(e,"css",function(){return l.a}),r.d(e,"printer",function(){return h.a}),r.d(e,"object",function(){return d.object})},154:function(t,e){},156:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return new Promise(function(r){return setTimeout(function(){return r(t)},e)})};e.default=[{label:"Vegetables",items:[{label:"Potato"},{label:"Carrot"},{label:"Tomato"}]},{label:"Fruits",items:[{label:"Orange"},{label:"Watermelon"},{label:"Banana"},{label:"Kumquat"},{label:"Strawberry"},{label:"Raspberry"},{label:"Cherry"}]},{label:"Animals",items:[{label:"Mammals",items:[{label:"Tiger"},{label:"Platypus"},{label:"Bear"}]},{label:"Reptiles",items:[{label:"Turtle"},{label:"Crocodile"}]},{label:"Insects",items:[{label:"Bee"},{label:"Fly"},{label:"Ant"}]}]},{label:"Durations",items:function(){return n([{label:"0.5 second",items:function(){return n([{label:"Brief"}],500)}},{label:"2 seconds",items:function(){return n([{label:"Enduring"}],2e3)}},{label:"4 seconds",items:function(){return n([{label:"Everlasting"}],4e3)}}],1e3)}}]},243:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n={debug:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;r("%cDEBUG%c "+t,"background-color: red; color: white; font-size: 1.1em; font-weight: bold; padding: 3px 10px; border-radius: 5px","color: #444; font-weight: bold; font-size: 1.1em"),r("%c"+e,"color: #222; font-weight: bold")}}},244:function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}r.d(e,"a",function(){return i});var o=r(245),i=function(t,e){return{flatten:function(){for(var r=[],i=[t];i.length>0;){var a=i.pop();a instanceof Array&&(r=[].concat(n(Object(o.a)(r).notIn(a)),n(a)),i=[].concat(n(i),n(a.filter(function(t){return t[e]}).map(function(t){return t[e]}))))}return r},filter:function(r){var n=t.filter(r);return function t(n){n.forEach(function(n){n[e]&&n[e]instanceof Array&&(n[e]=n[e].filter(r),t(n[e]))})}(n),n},treeFilter:function(r){var n=new Map;return function t(n,o){n.forEach(function(n){if(n[e]&&n[e]instanceof Array){var i=new Map;t(n[e],i),i.size>0?o.set(n,i):r(n)&&o.set(n,new Map)}else r(n)&&o.set(n,null)})}(t,n),n},add:function(r,o){for(var i=[t];i.length>0;){var a=i.pop(),s=a.indexOf(r);if(s>=0&&a[s][e])return a[s][e]=a[s][e].slice(),a[s][e].push(o),t;i=[].concat(n(i),n(a.filter(function(t){return t[e]}).map(function(t){return t[e]})))}return t},visit:function(r){for(var n=[t];n.length>0;){var o=n.pop();r(o),o.forEach(function(t){return t[e]&&t[e]instanceof Array?n.push(t[e]):null})}}}}},245:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){return{last:function(){return t.length>0?t[t.length-1]:null},in:function(e,r){return t.filter(function(t){return e.indexOf(t)>=0&&(!r||r(t))})},notIn:function(e,r){return t.filter(function(t){return e.indexOf(t)<0&&(!r||r(t))})},is:function(e,r){var n=e.isIn,o=void 0===n?[]:n,i=e.notIn,a=void 0===i?[]:i;return t.filter(function(t){return o.reduce(function(e,r){return r.indexOf(t)>=0&&e},!0)&&a.reduce(function(e,r){return r.indexOf(t)<0&&e},!0)&&(!r||r(t))})},contains:function(e){return t.indexOf(e)>=0},allIn:function(e){return t.every(function(t){return e.indexOf(t)>=0})}}}},246:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n={classes:function(t){var e=[];for(var r in t)t[r]&&e.push(r);return e.join(" ")},addClass:function(t,e){t instanceof HTMLElement&&(t.className=t.className.split(" ").filter(function(t){return t!==e}).join(" ")+" "+e)},removeClass:function(t,e){t instanceof HTMLElement&&(t.className=t.className.split(" ").filter(function(t){return t!==e}).join(" "))},hasClass:function(t,e){return t instanceof HTMLElement&&t.className.indexOf(e)>=0}}},247:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"object",function(){return i});var o=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(t){if(!(t&&t instanceof Object))throw new Error("Bad object format");return{shallowCompare:function(e,r){var n=!0;for(var o in t)if(t.hasOwnProperty(o)&&!(r&&r.indexOf(o)>=0)&&e[o]!==t[o])return void(n=!1);return n},filter:function(e){var r={};for(var n in t)t.hasOwnProperty(n)&&e(t[n])&&(r[n]=t[n]);return r},map:function(e){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r},fullMap:function(e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e(n,t[n]),a=o(i,2),s=a[0],u=a[1];r[s]=u}return r},nestPrefix:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},o=n({},e,{});for(var i in t)t.hasOwnProperty(i)&&i.startsWith(e)?o[e][r(i.substring(e.length))]=t[i]:o[i]=t[i];return o}}}},34:function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"dragndrop",function(){return a}),r.d(e,"utils",function(){return u}),r.d(e,"nodeEvents",function(){return f}),r.d(e,"wrapEvents",function(){return l});var o=r(11),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a={selection:function(t,e){return{draggable:!0,droppable:!0,drag:function(t,e,r){e.dataTransfer&&e.dataTransfer.setData("application/json",JSON.stringify(r.selection))},guard:function(t,e,r){if(e&&e.dataTransfer&&e.dataTransfer.types.indexOf("application/json")<0)return!1;return function(){return t&&Object(o.array)(r.selection).contains(t)}()||function(){return r.ancestors&&r.ancestors.reduce(function(t,e){return t||Object(o.array)(r.selection).contains(e)},!1)}()},drop:function(r,i,a){var s=Object(o.tree)(t(),a.category).filter(function(t){return a.selection.indexOf(t)<0}),u=r?r[a.category]&&r[a.category]instanceof Array?r:Object(o.array)(a.ancestors).last():null;u?u[a.category]=[].concat(n(u[a.category]),n(a.selection)):s=[].concat(n(s),n(a.selection)),e(s)}}},pluck:function(t,e){return{draggable:!0,backup:[],drag:function(r,n,i){s=JSON.stringify(t()),n.dataTransfer&&n.dataTransfer.setData("application/json",JSON.stringify(r)),setTimeout(function(){return e(Object(o.tree)(t(),i.category).filter(function(t){return t!==r}))},20)},cancel:function(){e(JSON.parse(s))}}},paste:function(t,e){return{droppable:!0,drop:function(r,i,a){if(i.dataTransfer&&i.dataTransfer.types.indexOf("application/json")>-1){var s=JSON.parse(i.dataTransfer.getData("application/json")),u=[].concat(n(t())),c=r?r[a.category]&&r[a.category]instanceof Array?r:Object(o.array)(a.ancestors).last():null;c?c[a.category]=[].concat(n(c[a.category]),[s]):u=[].concat(n(u),[s]),e(u)}}}}},s="[]",u={filesystem:function(t){var e=t.dataTransfer?t.dataTransfer.items:null;if(e&&e.length>0&&"file"===e[0].kind){for(var r=[],n=0;n<e.length;n++){var o=e[n].webkitGetAsEntry()||e[n].getAsFile();o&&r.push(o)}return r}return null}},c=!1,f={onDragStart:function(t){return function(e){e.stopPropagation(),this.inputs.get().dragndrop.onDrag(t,e,this.inputs.get())}},onDragOver:function(t){return function(e){e.preventDefault(),e.stopPropagation(),c||(c=!0,this.inputs.get().dragndrop.guard&&this.inputs.get().dragndrop.guard(t,e,this.inputs.get())?(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),o.css.addClass(e.currentTarget,this.mixCss("nodrop"))):o.css.addClass(e.currentTarget,this.mixCss("dragover")),requestAnimationFrame(function(){c=!1}))}},onDragEnter:function(t){return function(e){if(e.preventDefault(),e.stopPropagation(),t&&(this.hasChildren(t)||this.isAsync(t))&&o.css.hasClass(e.target,this.mixCss("opener"))){var r=this.state.get().unfolded.filter(function(e){return e!==t});r.push(t),this.state.set({unfolded:r})}}},onDragLeave:function(t){t.stopPropagation(),o.css.removeClass(t.currentTarget,this.mixCss("dragover")),o.css.removeClass(t.currentTarget,this.mixCss("nodrop"))},onDrop:function(t){return function(e){e.stopPropagation(),o.css.removeClass(e.currentTarget,this.mixCss("dragover")),o.css.removeClass(e.currentTarget,this.mixCss("nodrop")),this.inputs.get().dragndrop.onDrop(t,e,this.inputs.get())}},onDragEnd:function(t){return function(e){e.stopPropagation(),e.dataTransfer&&"none"===e.dataTransfer.dropEffect&&this.inputs.get().dragndrop.onCancel(t,e,this.inputs.get())}}},l=function(){var t=this;return i({},this.inputs.get().dragndrop,{onDrag:function(e,r,n){Object(o.array)(t.inputs.get().selection).contains(e)||t.onSelect(e,n.ancestors,n.neighbours),t.outputs.onDrag&&t.outputs.onDrag(e,r,n)},onDrop:function(e,r,n){r.preventDefault(),t.outputs.onDrop&&t.outputs.onDrop(e,r,n)},onCancel:function(e,r,n){r.preventDefault(),r.dataTransfer&&"none"===r.dataTransfer.dropEffect&&t.outputs.onCancel&&t.outputs.onCancel(e,r,n)}})}},592:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(593),o=(r.n(n),r(594)),i=(r.n(o),r(595));r.n(i)},593:function(t,e){},594:function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return b.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function s(t){var e=new FileReader,r=a(e);return e.readAsArrayBuffer(t),r}function u(t){var e=new FileReader,r=a(e);return e.readAsText(t),r}function c(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(b.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(b.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(b.arrayBuffer&&b.blob&&v(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var r=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function y(t){var e=new o;return t.split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}}),e}function g(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var b={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(b.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&m.indexOf(Object.prototype.toString.call(t))>-1};o.prototype.append=function(t,n){t=e(t),n=r(n);var o=this.map[t];this.map[t]=o?o+","+n:n},o.prototype.delete=function(t){delete this.map[e(t)]},o.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,n){this.map[e(t)]=r(n)},o.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),n(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),n(t)},b.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var T=[301,302,303,307,308];g.redirect=function(t,e){if(-1===T.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=d,t.Response=g,t.fetch=function(t,e){return new Promise(function(r,n){var o=new d(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:y(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;r(new g(e,t))},i.onerror=function(){n(new TypeError("Network request failed"))},i.ontimeout=function(){n(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&b.blob&&(i.responseType="blob"),o.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},595:function(t,e){var r;!function(t){"use strict";var e=function(){function t(){this._dropEffect="move",this._effectAllowed="all",this._data={}}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this._dropEffect},set:function(t){this._dropEffect=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this._effectAllowed},set:function(t){this._effectAllowed=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){return Object.keys(this._data)},enumerable:!0,configurable:!0}),t.prototype.clearData=function(t){null!=t?delete this._data[t]:this._data=null},t.prototype.getData=function(t){return this._data[t]||""},t.prototype.setData=function(t,e){this._data[t]=e},t.prototype.setDragImage=function(t,e,n){var o=r._instance;o._imgCustom=t,o._imgOffset={x:e,y:n}},t}();t.DataTransfer=e;var r=function(){function t(){if(this._lastClick=0,t._instance)throw"DragDropTouch instance already created.";var e=!1;if(document.addEventListener("test",null,{get passive(){return e=!0,!0}}),"ontouchstart"in document){var r=document,n=this._touchstart.bind(this),o=this._touchmove.bind(this),i=this._touchend.bind(this),a=!!e&&{passive:!1,capture:!1};r.addEventListener("touchstart",n,a),r.addEventListener("touchmove",o,a),r.addEventListener("touchend",i),r.addEventListener("touchcancel",i)}}return t.getInstance=function(){return t._instance},t.prototype._touchstart=function(e){var r=this;if(this._shouldHandle(e)){if(Date.now()-this._lastClick<t._DBLCLICK&&this._dispatchEvent(e,"dblclick",e.target))return e.preventDefault(),void this._reset();this._reset();var n=this._closestDraggable(e.target);n&&(this._dispatchEvent(e,"mousemove",e.target)||this._dispatchEvent(e,"mousedown",e.target)||(this._dragSource=n,this._ptDown=this._getPoint(e),this._lastTouch=e,e.preventDefault(),setTimeout(function(){r._dragSource==n&&null==r._img&&r._dispatchEvent(e,"contextmenu",n)&&r._reset()},t._CTXMENU)))}},t.prototype._touchmove=function(e){if(this._shouldHandle(e)){var r=this._getTarget(e);if(this._dispatchEvent(e,"mousemove",r))return this._lastTouch=e,void e.preventDefault();if(this._dragSource&&!this._img){this._getDelta(e)>t._THRESHOLD&&(this._dispatchEvent(e,"dragstart",this._dragSource),this._createImage(e),this._dispatchEvent(e,"dragenter",r))}this._img&&(this._lastTouch=e,e.preventDefault(),r!=this._lastTarget&&(this._dispatchEvent(this._lastTouch,"dragleave",this._lastTarget),this._dispatchEvent(e,"dragenter",r),this._lastTarget=r),this._moveImage(e),this._dispatchEvent(e,"dragover",r))}},t.prototype._touchend=function(t){if(this._shouldHandle(t)){if(this._dispatchEvent(this._lastTouch,"mouseup",t.target))return void t.preventDefault();this._img||(this._dragSource=null,this._dispatchEvent(this._lastTouch,"click",t.target),this._lastClick=Date.now()),this._destroyImage(),this._dragSource&&(t.type.indexOf("cancel")<0&&this._dispatchEvent(this._lastTouch,"drop",this._lastTarget),this._dispatchEvent(this._lastTouch,"dragend",this._dragSource),this._reset())}},t.prototype._shouldHandle=function(t){return t&&!t.defaultPrevented&&t.touches&&t.touches.length<2},t.prototype._reset=function(){this._destroyImage(),this._dragSource=null,this._lastTouch=null,this._lastTarget=null,this._ptDown=null,this._dataTransfer=new e},t.prototype._getPoint=function(t,e){return t&&t.touches&&(t=t.touches[0]),{x:e?t.pageX:t.clientX,y:e?t.pageY:t.clientY}},t.prototype._getDelta=function(t){var e=this._getPoint(t);return Math.abs(e.x-this._ptDown.x)+Math.abs(e.y-this._ptDown.y)},t.prototype._getTarget=function(t){for(var e=this._getPoint(t),r=document.elementFromPoint(e.x,e.y);r&&"none"==getComputedStyle(r).pointerEvents;)r=r.parentElement;return r},t.prototype._createImage=function(e){this._img&&this._destroyImage();var r=this._imgCustom||this._dragSource;if(this._img=r.cloneNode(!0),this._copyStyle(r,this._img),this._img.style.top=this._img.style.left="-9999px",!this._imgCustom){var n=r.getBoundingClientRect(),o=this._getPoint(e);this._imgOffset={x:o.x-n.left,y:o.y-n.top},this._img.style.opacity=t._OPACITY.toString()}this._moveImage(e),document.body.appendChild(this._img)},t.prototype._destroyImage=function(){this._img&&this._img.parentElement&&this._img.parentElement.removeChild(this._img),this._img=null,this._imgCustom=null},t.prototype._moveImage=function(t){var e=this;this._img&&requestAnimationFrame(function(){var r=e._getPoint(t,!0),n=e._img.style;n.position="absolute",n.pointerEvents="none",n.zIndex="999999",n.left=Math.round(r.x-e._imgOffset.x)+"px",n.top=Math.round(r.y-e._imgOffset.y)+"px"})},t.prototype._copyProps=function(t,e,r){for(var n=0;n<r.length;n++){var o=r[n];t[o]=e[o]}},t.prototype._copyStyle=function(e,r){if(t._rmvAtts.forEach(function(t){r.removeAttribute(t)}),e instanceof HTMLCanvasElement){var n=e,o=r;o.width=n.width,o.height=n.height,o.getContext("2d").drawImage(n,0,0)}for(var i=getComputedStyle(e),a=0;a<i.length;a++){var s=i[a];s.indexOf("transition")<0&&(r.style[s]=i[s])}r.style.pointerEvents="none";for(var a=0;a<e.children.length;a++)this._copyStyle(e.children[a],r.children[a])},t.prototype._dispatchEvent=function(e,r,n){if(e&&n){var o=document.createEvent("Event"),i=e.touches?e.touches[0]:e;return o.initEvent(r,!0,!0),o.button=0,o.which=o.buttons=1,this._copyProps(o,e,t._kbdProps),this._copyProps(o,i,t._ptProps),o.dataTransfer=this._dataTransfer,n.dispatchEvent(o),o.defaultPrevented}return!1},t.prototype._closestDraggable=function(t){for(;t;t=t.parentElement)if(t.hasAttribute("draggable")&&t.draggable)return t;return null},t}();r._instance=new r,r._THRESHOLD=5,r._OPACITY=.5,r._DBLCLICK=500,r._CTXMENU=900,r._rmvAtts="id,class,style,draggable".split(","),r._kbdProps="altKey,ctrlKey,metaKey,shiftKey".split(","),r._ptProps="pageX,pageY,clientX,clientY,screenX,screenY".split(","),t.DragDropTouch=r}(r||(r={}))}});
//# sourceMappingURL=common.js.map