{"version":3,"sources":["webpack:///common/build/common.js","webpack:///webpack/bootstrap 8ea0b61688b2f2a19610","webpack:///./docs/common/models/TreeViewModel.js","webpack:///./build/tools/mixin.js","webpack:///./build/tools/strings.js","webpack:///./build/tools/printer.js","webpack:///./build/tools/trees.js","webpack:///./build/tools/arrays.js","webpack:///./build/tools/css.js","webpack:///./build/tools/objects.js","webpack:///./build/core/strategies.js","webpack:///./build/core/logic.js","webpack:///./build/core/defaults.js","webpack:///./docs/common/libs/dragDropTouch.js","webpack:///./build/core/dragndrop.js","webpack:///(webpack)/buildin/global.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","parentJsonpFunction","window","chunkIds","moreModules","executeModules","chunkId","result","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","shift","s","3","e","onScriptComplete","script","onerror","onload","clearTimeout","timeout","chunk","Error","undefined","installedChunkData","Promise","resolve","promise","reject","head","document","getElementsByTagName","createElement","type","charset","async","nc","setAttribute","src","p","0","1","2","setTimeout","appendChild","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","n","__esModule","object","property","oe","err","console","error","111","__webpack_exports__","timeoutPromise","value","duration","label","items","16","_toConsumableArray","arr","Array","isArray","arr2","from","string","str","contains","input","match","RegExp","_typeof2","Symbol","iterator","obj","constructor","_extends","assign","target","arguments","source","key","_typeof","deepMix","one","two","mergeArrays","clone","prop","concat","__WEBPACK_IMPORTED_MODULE_0__arrays__","__WEBPACK_IMPORTED_MODULE_1__trees__","__WEBPACK_IMPORTED_MODULE_4__css__","__WEBPACK_IMPORTED_MODULE_6__objects__","173","printer","debug","title","msg","logger","log","174","tree","t","flatten","flattened","fifo","_tree","pop","notIn","filter","item","map","filterFun","copy","recurse","list","forEach","treeFilter","finalMap","Map","childMap","size","set","add","parent","elt","_tree2","idx","indexOf","slice","visit","visitor","_tree3","child","175","array","self","last","in","otherCondition","is","_ref","_ref$isIn","isIn","_ref$notIn","reduce","acc","curr","element","allIn","every","176","css","classes","_classes","_key","join","addClass","cname","HTMLElement","className","split","removeClass","hasClass","177","_defineProperty","writable","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","TypeError","shallowCompare","excludes","equals","fun","fullMap","_fun","_fun2","newProp","newVal","nestPrefix","prefix","transform","_","startsWith","substring","40","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","__WEBPACK_IMPORTED_MODULE_0__tools__","singleSelect","selection","neighbours","ancestors","multiSelect","alreadySelected","newSelection","this","inputs","category","children","selectionStrategies","single","multiple","modifiers","_this","control","meta","lastSelection","lastIndex","lastPivot","bind","originIndex","endIndex","_newSelection","_ref2","_smaller","_higher","deletions","_ref3","_ref4","smaller","higher","additions","disabled","apply","_ancestors","_x","_x2","_x3","_x4","toString","clickStrategies","unfold-on-selection","isSelected","newUnfolded","state","unfolded","toggle-fold","foldStrategies","opener-control","not-selected","no-child-selection","_this2","recurseCheck","node","some","max-depth","maxDepth","isNaN","parseInt","depth","defaults","labels","search.placeholder","TreeView","opener","selected","folded","loading","nodrop","dragover","search","strategies","click","fold","display","noOpener","dragndrop","draggable","droppable","logic___WEBPACK_IMPORTED_MODULE_0__tools__","__WEBPACK_IMPORTED_MODULE_1__dragndrop__","_createClass","defineProperties","props","descriptor","protoProps","staticProps","Core","outputs","refresh","logic_TreeNode","_Core","TreeNode","_temp","_ret","_len","args","getPrototypeOf","isFolded","strats","searched","isAsync","strat","hasChildren","isDisabled","disabledFun","isDraggable","isDroppable","mixCss","ulCss","liCss","_css$classes2","pending","unwrapPromise","asyncFun","then","res","catch","onClick","event","model","onSelect","stopPropagation","getDragEvents","onDragStart","onDragOver","onDragEnter","onDragLeave","onDrop","onDragEnd","_key2","logic_RootNode","_Core2","RootNode","_temp2","_this3","_ret2","_len2","_key3","onKey","getModifierState","selectionStrategy","wrapDragNDrop","filterTree","trim","__WEBPACK_IMPORTED_MODULE_3__dragndrop__","525","__WEBPACK_IMPORTED_MODULE_0__index_css__","__WEBPACK_IMPORTED_MODULE_1__libs_dragDropTouch_js__","526","527","DragDropTouch","DragDropTouch_1","DataTransfer","_dropEffect","_effectAllowed","_data","keys","clearData","getData","setData","setDragImage","img","offsetX","offsetY","ddt","_instance","_imgCustom","_imgOffset","x","y","_lastClick","supportsPassive","addEventListener","passive","ts","_touchstart","tm","_touchmove","te","_touchend","opt","capture","getInstance","_shouldHandle","Date","now","_DBLCLICK","_dispatchEvent","preventDefault","_reset","_closestDraggable","_dragSource","_ptDown","_getPoint","_lastTouch","_img","_CTXMENU","_getTarget","_getDelta","_THRESHOLD","_createImage","_lastTarget","_moveImage","_destroyImage","defaultPrevented","touches","_dataTransfer","page","pageX","clientX","pageY","clientY","Math","abs","pt","el","elementFromPoint","getComputedStyle","pointerEvents","parentElement","cloneNode","_copyStyle","style","top","left","rc","getBoundingClientRect","opacity","_OPACITY","body","removeChild","requestAnimationFrame","position","zIndex","round","_copyProps","dst","_rmvAtts","att","removeAttribute","HTMLCanvasElement","cSrc","cDst","width","height","getContext","drawImage","cs","evt","createEvent","initEvent","button","which","buttons","_kbdProps","_ptProps","dataTransfer","dispatchEvent","hasAttribute","57","utils","nodeEvents","wrapEvents","cb","drag","JSON","stringify","guard","types","prev","drop","updatedModel","adjustedTarget","pluck","backup","bak","cancel","parse","paste","data","filesystem","kind","files","webkitGetAsEntry","getAsFile","onDrag","dropEffect","currentTarget","onCancel","70","g","Function","eval"],"mappings":"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","file":"common/build/common.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// install a JSONP callback for chunk loading\n/******/ \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n/******/ \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n/******/ \t\t// add \"moreModules\" to the modules object,\n/******/ \t\t// then flag all \"chunkIds\" as loaded and fire callback\n/******/ \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n/******/ \t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\tchunkId = chunkIds[i];\n/******/ \t\t\tif(installedChunks[chunkId]) {\n/******/ \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n/******/ \t\t\t}\n/******/ \t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t}\n/******/ \t\tfor(moduleId in moreModules) {\n/******/ \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n/******/ \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n/******/ \t\twhile(resolves.length) {\n/******/ \t\t\tresolves.shift()();\n/******/ \t\t}\n/******/ \t\tif(executeModules) {\n/******/ \t\t\tfor(i=0; i < executeModules.length; i++) {\n/******/ \t\t\t\tresult = __webpack_require__(__webpack_require__.s = executeModules[i]);\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\treturn result;\n/******/ \t};\n/******/\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// objects to store loaded and loading chunks\n/******/ \tvar installedChunks = {\n/******/ \t\t3: 0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId) {\n/******/ \t\tvar installedChunkData = installedChunks[chunkId];\n/******/ \t\tif(installedChunkData === 0) {\n/******/ \t\t\treturn new Promise(function(resolve) { resolve(); });\n/******/ \t\t}\n/******/\n/******/ \t\t// a Promise means \"currently loading\".\n/******/ \t\tif(installedChunkData) {\n/******/ \t\t\treturn installedChunkData[2];\n/******/ \t\t}\n/******/\n/******/ \t\t// setup Promise in chunk cache\n/******/ \t\tvar promise = new Promise(function(resolve, reject) {\n/******/ \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n/******/ \t\t});\n/******/ \t\tinstalledChunkData[2] = promise;\n/******/\n/******/ \t\t// start chunk loading\n/******/ \t\tvar head = document.getElementsByTagName('head')[0];\n/******/ \t\tvar script = document.createElement('script');\n/******/ \t\tscript.type = 'text/javascript';\n/******/ \t\tscript.charset = 'utf-8';\n/******/ \t\tscript.async = true;\n/******/ \t\tscript.timeout = 120000;\n/******/\n/******/ \t\tif (__webpack_require__.nc) {\n/******/ \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n/******/ \t\t}\n/******/ \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \"/build/\" + ({\"0\":\"angular\",\"1\":\"react\",\"2\":\"vue\"}[chunkId]||chunkId) + \".js\";\n/******/ \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n/******/ \t\tscript.onerror = script.onload = onScriptComplete;\n/******/ \t\tfunction onScriptComplete() {\n/******/ \t\t\t// avoid mem leaks in IE.\n/******/ \t\t\tscript.onerror = script.onload = null;\n/******/ \t\t\tclearTimeout(timeout);\n/******/ \t\t\tvar chunk = installedChunks[chunkId];\n/******/ \t\t\tif(chunk !== 0) {\n/******/ \t\t\t\tif(chunk) {\n/******/ \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n/******/ \t\t\t\t}\n/******/ \t\t\t\tinstalledChunks[chunkId] = undefined;\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t\thead.appendChild(script);\n/******/\n/******/ \t\treturn promise;\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// on error function for async loading\n/******/ \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 525);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 111:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar timeoutPromise = function timeoutPromise(value, duration) {\n    return new Promise(function (resolve) {\n        return setTimeout(function () {\n            return resolve(value);\n        }, duration);\n    });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ([{\n    label: \"Vegetables\",\n    items: [{ label: \"Potato\" }, { label: \"Carrot\" }, { label: \"Tomato\" }]\n}, {\n    label: \"Fruits\",\n    items: [{ label: \"Orange\" }, { label: \"Watermelon\" }, { label: \"Banana\" }, { label: \"Kumquat\" }, { label: \"Strawberry\" }, { label: \"Raspberry\" }, { label: \"Cherry\" }]\n}, {\n    label: \"Animals\",\n    items: [{\n        label: \"Mammals\",\n        items: [{ label: \"Tiger\" }, { label: \"Platypus\" }, { label: \"Bear\" }]\n    }, {\n        label: \"Reptiles\",\n        items: [{ label: \"Turtle\" }, { label: \"Crocodile\" }]\n    }, {\n        label: \"Insects\",\n        items: [{ label: \"Bee\" }, { label: \"Fly\" }, { label: \"Ant\" }]\n    }]\n}, {\n    label: \"Durations\",\n    items: function items() {\n        return timeoutPromise([{ label: \"0.5 second\", items: function items() {\n                return timeoutPromise([{ label: \"Brief\" }], 500);\n            } }, { label: \"2 seconds\", items: function items() {\n                return timeoutPromise([{ label: \"Enduring\" }], 2000);\n            } }, { label: \"4 seconds\", items: function items() {\n                return timeoutPromise([{ label: \"Everlasting\" }], 4000);\n            } }], 1000);\n    }\n}]);\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./build/tools/strings.js\nvar string = function string(str) {\n    return {\n        contains: function contains(input) {\n            return !!str.match(new RegExp(\".*\" + input + \".*\", \"gi\"));\n        }\n    };\n};\n//# sourceMappingURL=strings.js.map\n// CONCATENATED MODULE: ./build/tools/mixin.js\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n            }\n        }\n    }return target;\n};\n\nvar _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n    return typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n} : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n};\n\nfunction _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n        }return arr2;\n    } else {\n        return Array.from(arr);\n    }\n}\n\nvar deepMix = function deepMix(one, two) {\n    var mergeArrays = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (!one || !two || (typeof one === \"undefined\" ? \"undefined\" : _typeof(one)) !== \"object\" || (typeof two === \"undefined\" ? \"undefined\" : _typeof(two)) !== \"object\") return one;\n\n    var clone = _extends({}, one, two);\n    for (var prop in two) {\n        if (two.hasOwnProperty(prop)) {\n            if (two[prop] instanceof Array && one[prop] instanceof Array) {\n                clone[prop] = mergeArrays ? [].concat(_toConsumableArray(one[prop]), _toConsumableArray(two[prop])) : clone[prop] = two[prop];\n            } else if (_typeof(two[prop]) === \"object\" && _typeof(one[prop]) === \"object\") {\n                clone[prop] = deepMix(one[prop], two[prop], mergeArrays);\n            }\n        }\n    }\n\n    return clone;\n};\n//# sourceMappingURL=mixin.js.map\n// CONCATENATED MODULE: ./build/tools/index.js\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__arrays__ = __webpack_require__(175);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return __WEBPACK_IMPORTED_MODULE_0__arrays__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__trees__ = __webpack_require__(174);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return __WEBPACK_IMPORTED_MODULE_1__trees__[\"a\"]; });\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, \"e\", function() { return string; });\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, \"c\", function() { return deepMix; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__css__ = __webpack_require__(176);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return __WEBPACK_IMPORTED_MODULE_4__css__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__printer__ = __webpack_require__(173);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__objects__ = __webpack_require__(177);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_6__objects__[\"object\"]; });\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ 173:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return printer; });\nvar printer = {\n    debug: function debug(title, msg /* eslint-enable */) {\n        var logger = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : console.log;\n\n        var headerStyle = \"background-color: red; color: white; font-size: 1.1em; font-weight: bold; padding: 3px 10px; border-radius: 5px\";\n        var titleStyle = \"color: #444; font-weight: bold; font-size: 1.1em\";\n        var msgStyle = \"color: #222; font-weight: bold\";\n\n        logger(\"%cDEBUG%c \" + title, headerStyle, titleStyle);\n        logger(\"%c\" + msg, msgStyle);\n    }\n};\n//# sourceMappingURL=printer.js.map\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return tree; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__arrays__ = __webpack_require__(175);\nfunction _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n        }return arr2;\n    } else {\n        return Array.from(arr);\n    }\n}\n\n\n\nvar tree = function tree(t, prop) {\n    return {\n        flatten: function flatten() {\n            var flattened = [];\n            var fifo = [t];\n            while (fifo.length > 0) {\n                var _tree = fifo.pop();\n                if (!(_tree instanceof Array)) continue;\n                flattened = [].concat(_toConsumableArray(__WEBPACK_IMPORTED_MODULE_0__arrays__[\"a\" /* array */](flattened).notIn(_tree)), _toConsumableArray(_tree));\n                fifo = [].concat(_toConsumableArray(fifo), _toConsumableArray(_tree.filter(function (item) {\n                    return item[prop];\n                }).map(function (item) {\n                    return item[prop];\n                })));\n            }\n\n            return flattened;\n        },\n        filter: function filter(filterFun) {\n            var copy = t.filter(filterFun);\n            var recurse = function recurse(list) {\n                list.forEach(function (item) {\n                    if (item[prop] && item[prop] instanceof Array) {\n                        item[prop] = item[prop].filter(filterFun);\n                        recurse(item[prop]);\n                    }\n                });\n            };\n            recurse(copy);\n            return copy;\n        },\n        treeFilter: function treeFilter(filterFun) {\n            var finalMap = new Map();\n\n            var recurse = function recurse(list, map) {\n                list.forEach(function (item) {\n                    if (item[prop] && item[prop] instanceof Array) {\n                        var childMap = new Map();\n                        recurse(item[prop], childMap);\n                        if (childMap.size > 0) {\n                            map.set(item, childMap);\n                        } else if (filterFun(item)) {\n                            map.set(item, new Map());\n                        }\n                    } else if (filterFun(item)) {\n                        map.set(item, null);\n                    }\n                });\n            };\n            recurse(t, finalMap);\n            return finalMap;\n        },\n        add: function add(parent, elt) {\n            var fifo = [t];\n            while (fifo.length > 0) {\n                var _tree2 = fifo.pop();\n                var idx = _tree2.indexOf(parent);\n                if (idx >= 0 && _tree2[idx][prop]) {\n                    _tree2[idx][prop] = _tree2[idx][prop].slice();\n                    _tree2[idx][prop].push(elt);\n                    return t;\n                }\n                fifo = [].concat(_toConsumableArray(fifo), _toConsumableArray(_tree2.filter(function (item) {\n                    return item[prop];\n                }).map(function (item) {\n                    return item[prop];\n                })));\n            }\n            return t;\n        },\n        visit: function visit(visitor) {\n            var fifo = [t];\n            while (fifo.length > 0) {\n                var _tree3 = fifo.pop();\n                visitor(_tree3);\n                _tree3.forEach(function (child) {\n                    return child[prop] && child[prop] instanceof Array ? fifo.push(child[prop]) : null;\n                });\n            }\n        }\n    };\n};\n//# sourceMappingURL=trees.js.map\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return array; });\n\n\nvar array = function array(self) {\n    return {\n        last: function last() {\n            return self.length > 0 ? self[self.length - 1] : null;\n        },\n        \"in\": function _in(arr, otherCondition) {\n            return self.filter(function (elt) {\n                return arr.indexOf(elt) >= 0 && (!otherCondition || otherCondition(elt));\n            });\n        },\n        notIn: function notIn(arr, otherCondition) {\n            return self.filter(function (elt) {\n                return arr.indexOf(elt) < 0 && (!otherCondition || otherCondition(elt));\n            });\n        },\n        is: function is(_ref, otherCondition) {\n            var _ref$isIn = _ref.isIn,\n                isIn = _ref$isIn === undefined ? [] : _ref$isIn,\n                _ref$notIn = _ref.notIn,\n                notIn = _ref$notIn === undefined ? [] : _ref$notIn;\n            return self.filter(function (elt) {\n                return isIn.reduce(function (acc, curr) {\n                    return curr.indexOf(elt) >= 0 && acc;\n                }, true) && notIn.reduce(function (acc, curr) {\n                    return curr.indexOf(elt) < 0 && acc;\n                }, true) && (!otherCondition || otherCondition(elt));\n            });\n        },\n        contains: function contains(element) {\n            return self.indexOf(element) >= 0;\n        },\n        allIn: function allIn(arr) {\n            return self.every(function (elt) {\n                return arr.indexOf(elt) >= 0;\n            });\n        }\n    };\n};\n//# sourceMappingURL=arrays.js.map\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return css; });\nvar css = {\n    classes: function classes(_classes) {\n        var css = [];\n        for (var _key in _classes) {\n            if (_classes[_key]) {\n                css.push(_key);\n            }\n        }\n        return css.join(\" \");\n    },\n    addClass: function addClass(elt, cname) {\n        if (elt instanceof HTMLElement) elt.className = elt.className.split(\" \").filter(function (c) {\n            return c !== cname;\n        }).join(\" \") + \" \" + cname;\n    },\n    removeClass: function removeClass(elt, cname) {\n        if (elt instanceof HTMLElement) elt.className = elt.className.split(\" \").filter(function (c) {\n            return c !== cname;\n        }).join(\" \");\n    },\n    hasClass: function hasClass(elt, cname) {\n        return elt instanceof HTMLElement ? elt.className.indexOf(cname) >= 0 : false;\n    }\n};\n\n//# sourceMappingURL=css.js.map\n\n/***/ }),\n\n/***/ 177:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"object\", function() { return object; });\nvar _slicedToArray = function () {\n    function sliceIterator(arr, i) {\n        var _arr = [];var _n = true;var _d = false;var _e = undefined;try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);if (i && _arr.length === i) break;\n            }\n        } catch (err) {\n            _d = true;_e = err;\n        } finally {\n            try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n                if (_d) throw _e;\n            }\n        }return _arr;\n    }return function (arr, i) {\n        if (Array.isArray(arr)) {\n            return arr;\n        } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n        } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n        }\n    };\n}();\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n    } else {\n        obj[key] = value;\n    }return obj;\n}\n\nvar object = function object(self) {\n    if (!self || !(self instanceof Object)) {\n        throw new Error(\"Bad object format\");\n    }\n\n    return {\n        shallowCompare: function shallowCompare(obj, excludes) {\n            var equals = true;\n            for (var key in self) {\n                if (self.hasOwnProperty(key)) {\n                    if (!(excludes && excludes.indexOf(key) >= 0) && obj[key] !== self[key]) {\n                        equals = false;\n                        return;\n                    }\n                }\n            }\n            return equals;\n        },\n        filter: function filter(fun) {\n            var copy = {};\n            for (var prop in self) {\n                if (self.hasOwnProperty(prop) && fun(self[prop])) copy[prop] = self[prop];\n            }\n            return copy;\n        },\n        map: function map(fun) {\n            var copy = {};\n            for (var prop in self) {\n                if (self.hasOwnProperty(prop)) copy[prop] = fun(self[prop]);\n            }\n            return copy;\n        },\n        fullMap: function fullMap(fun) {\n            var copy = {};\n            for (var prop in self) {\n                if (self.hasOwnProperty(prop)) {\n                    var _fun = fun(prop, self[prop]),\n                        _fun2 = _slicedToArray(_fun, 2),\n                        newProp = _fun2[0],\n                        newVal = _fun2[1];\n\n                    copy[newProp] = newVal;\n                }\n            }\n            return copy;\n        },\n        nestPrefix: function nestPrefix(prefix) {\n            var transform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (_) {\n                return _;\n            };\n\n            var copy = _defineProperty({}, prefix, {});\n            for (var prop in self) {\n                if (self.hasOwnProperty(prop) && prop.startsWith(prefix)) {\n                    copy[prefix][transform(prop.substring(prefix.length))] = self[prop];\n                } else {\n                    copy[prop] = self[prop];\n                }\n            }\n            return copy;\n        }\n    };\n};\n//# sourceMappingURL=objects.js.map\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./build/core/strategies.js\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__tools__ = __webpack_require__(16);\nvar _slicedToArray = function () {\n    function sliceIterator(arr, i) {\n        var _arr = [];var _n = true;var _d = false;var _e = undefined;try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);if (i && _arr.length === i) break;\n            }\n        } catch (err) {\n            _d = true;_e = err;\n        } finally {\n            try {\n                if (!_n && _i[\"return\"]) _i[\"return\"]();\n            } finally {\n                if (_d) throw _e;\n            }\n        }return _arr;\n    }return function (arr, i) {\n        if (Array.isArray(arr)) {\n            return arr;\n        } else if (Symbol.iterator in Object(arr)) {\n            return sliceIterator(arr, i);\n        } else {\n            throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n        }\n    };\n}();\n\nfunction _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n        }return arr2;\n    } else {\n        return Array.from(arr);\n    }\n}\n\n\n\n// Selection strategies are triggered while updating the selection\nvar singleSelect = function singleSelect(item, selection, neighbours, ancestors) {\n    return __WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](selection).contains(item) ? [] : [item];\n};\nvar multiSelect = function multiSelect(item, selection, neighbours, ancestors) {\n    var alreadySelected = false;\n    var newSelection = selection.filter(function (i) {\n        // Mark if the item was already selected\n        if (!alreadySelected) alreadySelected = i === item;\n        // Deselect all ancestors\n        return i !== item && ancestors.indexOf(i) < 0;\n    }\n    // Categories : deselect all children\n    );if (!alreadySelected && item[this.inputs.get().category] && item[this.inputs.get().category] instanceof Array) {\n        __WEBPACK_IMPORTED_MODULE_0__tools__[\"f\" /* tree */](item[this.inputs.get().category], this.inputs.get().category).visit(function (children) {\n            newSelection = __WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](newSelection).notIn(children);\n        });\n    }\n    if (!alreadySelected) newSelection.push(item);\n    return newSelection;\n};\n\nvar selectionStrategies = {\n    single: singleSelect,\n    multiple: multiSelect,\n    modifiers: function modifiers(item, selection, neighbours, ancestors) {\n        var _this = this;\n\n        if (this.modifiers.control || this.modifiers.meta) {\n            this.lastSelection = item;\n            delete this.lastIndex;\n            delete this.lastPivot;\n            return multiSelect.bind(this)(item, selection, neighbours, ancestors);\n        } else if (this.modifiers.shift) {\n            if (!this.lastSelection) return selection;\n\n            var originIndex = neighbours.indexOf(this.lastSelection);\n            if (originIndex < 0) return selection;\n\n            var newSelection = selection.slice();\n            var endIndex = neighbours.indexOf(item);\n\n            if (originIndex >= 0) {\n                var _newSelection;\n\n                if (this.lastPivot) {\n                    var lastIndex = neighbours.indexOf(this.lastPivot);\n\n                    var _ref = originIndex > lastIndex ? [lastIndex, originIndex] : [originIndex, lastIndex],\n                        _ref2 = _slicedToArray(_ref, 2),\n                        _smaller = _ref2[0],\n                        _higher = _ref2[1];\n\n                    var deletions = neighbours.slice(_smaller, _higher + 1);\n                    newSelection = __WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](newSelection).notIn(deletions);\n                }\n                this.lastPivot = item;\n\n                var _ref3 = originIndex > endIndex ? [endIndex, originIndex] : [originIndex, endIndex],\n                    _ref4 = _slicedToArray(_ref3, 2),\n                    smaller = _ref4[0],\n                    higher = _ref4[1];\n\n                var additions = !this.inputs.get().disabled ? neighbours.slice(smaller, higher + 1) : neighbours.slice(smaller, higher + 1).filter(function (i) {\n                    return !_this.inputs.get().disabled(i);\n                });\n                newSelection = __WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](newSelection).notIn(additions);\n                (_newSelection = newSelection).push.apply(_newSelection, _toConsumableArray(additions));\n            }\n\n            return newSelection;\n        } else {\n            this.lastSelection = item;\n            delete this.lastIndex;\n            delete this.lastPivot;\n            return singleSelect.bind(this)(item, selection.length > 1 ? [] : selection, neighbours, ancestors);\n        }\n    },\n    ancestors: function (_ancestors) {\n        function ancestors(_x, _x2, _x3, _x4) {\n            return _ancestors.apply(this, arguments);\n        }\n\n        ancestors.toString = function () {\n            return _ancestors.toString();\n        };\n\n        return ancestors;\n    }(function (item, selection, neighbours, ancestors) {\n        return selection.length === 0 ? [item] : __WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](selection).contains(item) ? [].concat(_toConsumableArray(ancestors)) : [].concat(_toConsumableArray(ancestors), [item]);\n    }\n\n    // Click strategies are triggered on item click\n    ) };var clickStrategies = {\n    \"unfold-on-selection\": function unfoldOnSelection(item) {\n        if (!this.isSelected(item)) {\n            var newUnfolded = this.state.get().unfolded.filter(function (i) {\n                return i !== item;\n            });\n            newUnfolded.push(item);\n            this.state.set({ unfolded: newUnfolded });\n        }\n    },\n    \"toggle-fold\": function toggleFold(item) {\n        var newUnfolded = this.state.get().unfolded.filter(function (i) {\n            return i !== item;\n        });\n        if (newUnfolded.length === this.state.get().unfolded.length) {\n            newUnfolded.push(item);\n        }\n        this.state.set({ unfolded: newUnfolded });\n    }\n\n    // Fold strategies are triggered during render to fold / unfold children\n};var foldStrategies = {\n    \"opener-control\": function openerControl(item) {\n        return !__WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](this.state.get().unfolded).contains(item);\n    },\n    \"not-selected\": function notSelected(item) {\n        return !this.isSelected(item);\n    },\n    \"no-child-selection\": function noChildSelection(item) {\n        var _this2 = this;\n\n        // naive ...\n        var recurseCheck = function recurseCheck(node) {\n            return _this2.isSelected(node) || node[_this2.inputs.get().category] && node[_this2.inputs.get().category] instanceof Array && node[_this2.inputs.get().category].some(recurseCheck);\n        };\n        return !recurseCheck(item);\n    },\n    \"max-depth\": function maxDepth() {\n        return this.inputs.get().maxDepth && !isNaN(parseInt(this.inputs.get().maxDepth, 10)) ? this.inputs.get().depth >= parseInt(this.inputs.get().maxDepth, 10) : false;\n    }\n};\n//# sourceMappingURL=strategies.js.map\n// CONCATENATED MODULE: ./build/core/defaults.js\nvar defaults = {\n    labels: {\n        \"search.placeholder\": \"Search ...\"\n    },\n    css: {\n        TreeView: \"TreeView\",\n        opener: \"opener\",\n        depth: \"depth\",\n        selected: \"selected\",\n        category: \"category\",\n        folded: \"folded\",\n        disabled: \"disabled\",\n        async: \"async\",\n        loading: \"loading\",\n        nodrop: \"nodrop\",\n        dragover: \"dragover\",\n        search: \"search\",\n        item: \"item\"\n    },\n    strategies: {\n        selection: [\"single\"],\n        click: [],\n        fold: [\"not-selected\", \"no-child-selection\"]\n    },\n    display: function display(_) {\n        return _.toString();\n    },\n    async: function async(_) {\n        return _();\n    },\n    noOpener: false,\n    dragndrop: {\n        draggable: false,\n        droppable: false\n    }\n};\n//# sourceMappingURL=defaults.js.map\n// CONCATENATED MODULE: ./build/core/logic.js\n/* harmony import */ var logic___WEBPACK_IMPORTED_MODULE_0__tools__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__dragndrop__ = __webpack_require__(57);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}();\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });\n    } else {\n        obj[key] = value;\n    }return obj;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }return call && ((typeof call === \"undefined\" ? \"undefined\" : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : _typeof(superClass)));\n    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\n\n\n\n\n\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\n//  Boilerplate  for framework class adapters\n\nvar Core = function Core(inputs, outputs, state, refresh) {\n    _classCallCheck(this, Core);\n\n    this.inputs = inputs;\n    this.outputs = outputs;\n    this.state = state;\n    this.refresh = refresh;\n};\n\n/* -------------------------------------------------------------------------- */\n/* TREE NODE */\n\nvar logic_TreeNode = function (_Core) {\n    _inherits(TreeNode, _Core);\n\n    function TreeNode() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, TreeNode);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = TreeNode.__proto__ || Object.getPrototypeOf(TreeNode)).call.apply(_ref, [this].concat(args))), _this), _this.isSelected = function (item) {\n            return logic___WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](_this.inputs.get().selection).contains(item);\n        }, _this.isFolded = function (item) {\n            var strats = _this.inputs.get().strategies;\n            return (!_this.inputs.get().searched || _this.isAsync(item)) && (strats && strats.fold || []).map(function (strat) {\n                return (foldStrategies[strat] || strat).bind(_this);\n            }).reduce(function (last, curr) {\n                return last && curr(item, last);\n            }, true);\n        }, _this.hasChildren = function (item) {\n            return item[_this.inputs.get().category] && item[_this.inputs.get().category] instanceof Array;\n        }, _this.isAsync = function (item) {\n            return !!item && [_this.inputs.get().category] && typeof item[_this.inputs.get().category] === \"function\";\n        }, _this.isDisabled = function (item) {\n            var disabledFun = _this.inputs.get().disabled;\n            return disabledFun ? disabledFun(item) : false;\n        }, _this.isDraggable = function (item) {\n            return item && _this.inputs.get().dragndrop.draggable && (typeof _this.inputs.get().dragndrop.draggable === \"function\" ? _this.inputs.get().dragndrop.draggable(item) : true);\n        }, _this.isDroppable = function (item) {\n            return _this.inputs.get().dragndrop.droppable && (typeof _this.inputs.get().dragndrop.droppable === \"function\" ? _this.inputs.get().dragndrop.droppable(item) : true);\n        }, _this.mixCss = function (prop) {\n            return _this.inputs.get().css[prop] || defaults.css[prop];\n        }, _this.ulCss = function () {\n            return logic___WEBPACK_IMPORTED_MODULE_0__tools__[\"b\" /* css */].classes(_defineProperty({}, _this.mixCss(\"depth\") + \"-\" + (_this.inputs.get().depth || 0), true));\n        }, _this.liCss = function (item) {\n            var _css$classes2;\n\n            return logic___WEBPACK_IMPORTED_MODULE_0__tools__[\"b\" /* css */].classes((_css$classes2 = {}, _defineProperty(_css$classes2, _this.mixCss(\"selected\"), _this.isSelected(item)), _defineProperty(_css$classes2, _this.mixCss(\"category\"), _this.hasChildren(item) || _this.isAsync(item)), _defineProperty(_css$classes2, _this.mixCss(\"folded\"), _this.hasChildren(item) || _this.isAsync(item) ? _this.isFolded(item) : null), _defineProperty(_css$classes2, _this.mixCss(\"disabled\"), _this.isDisabled(item)), _defineProperty(_css$classes2, _this.mixCss(\"async\"), _this.isAsync(item) && _this.isFolded(item)), _defineProperty(_css$classes2, _this.mixCss(\"loading\"), _this.isAsync(item) && !_this.isFolded(item)), _css$classes2));\n        }, _this.pending = [], _this.unwrapPromise = function (item) {\n            _this.pending.push(item);\n            var asyncFun = _this.inputs.get().async;\n            if (!asyncFun) return Promise.reject(new Error(\"No asyn prop.\"));else return asyncFun(item[_this.inputs.get().category]).then(function (res) {\n                item[_this.inputs.get().category] = res;\n                _this.refresh();\n            }).catch(function (err) {\n                /* eslint-disable */\n                throw err;\n                /* eslint-enable */\n            }).then(function () {\n                return _this.pending = _this.pending.filter(function (e) {\n                    return e !== item;\n                });\n            });\n        }, _this.onClick = function (item) {\n            return function (event) {\n                if (_this.isDisabled(item)) return;\n                var strats = _this.inputs.get().strategies;\n                (strats && strats.click || []).map(function (strat) {\n                    return (clickStrategies[strat] || strat).bind(_this);\n                }).forEach(function (strat) {\n                    return strat(item, event, _this.inputs.get().ancestors, _this.inputs.get().model);\n                });\n                _this.inputs.get().onSelect(item, _this.inputs.get().ancestors, _this.inputs.get().model);\n                event.stopPropagation();\n            };\n        }, _this.getDragEvents = function (item) {\n            var condition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            if (!condition) return {};\n            var result = {\n                draggable: _this.isDraggable(item),\n                onDragStart: _this.isDraggable(item) && __WEBPACK_IMPORTED_MODULE_1__dragndrop__[\"b\" /* nodeEvents */].onDragStart(item).bind(_this),\n                onDragOver: _this.isDroppable(item) && __WEBPACK_IMPORTED_MODULE_1__dragndrop__[\"b\" /* nodeEvents */].onDragOver(item).bind(_this),\n                onDragEnter: _this.isDroppable(item) && __WEBPACK_IMPORTED_MODULE_1__dragndrop__[\"b\" /* nodeEvents */].onDragEnter(item).bind(_this),\n                onDragLeave: _this.isDroppable(item) && __WEBPACK_IMPORTED_MODULE_1__dragndrop__[\"b\" /* nodeEvents */].onDragLeave.bind(_this),\n                onDrop: _this.isDroppable(item) && __WEBPACK_IMPORTED_MODULE_1__dragndrop__[\"b\" /* nodeEvents */].onDrop(item).bind(_this),\n                onDragEnd: _this.isDraggable(item) && __WEBPACK_IMPORTED_MODULE_1__dragndrop__[\"b\" /* nodeEvents */].onDragEnd(item).bind(_this)\n            };\n            for (var _key2 in result) {\n                if (!result[_key2]) delete result[_key2];\n            }return result;\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    /* Various checks */\n\n    /* Styles calculation */\n\n    // Css mixin helper\n\n\n    /* Promises */\n\n    // Pending promises\n\n\n    // Unwrap a promise and mutate the model to add the results\n\n\n    /* Events */\n\n    // On item click\n\n\n    _createClass(TreeNode, [{\n        key: \"onOpener\",\n\n        // On opener click\n        value: function onOpener(item) {\n            var _this2 = this;\n\n            return function (event) {\n                var newVal = _this2.state.get().unfolded.filter(function (i) {\n                    return i !== item;\n                });\n                if (newVal.length === _this2.state.get().unfolded.length) newVal.push(item);\n                _this2.state.set({ unfolded: newVal });\n                event.stopPropagation();\n            };\n        }\n\n        // Drag'n'drop //\n\n    }]);\n\n    return TreeNode;\n}(Core);\n\n/* -------------------------------------------------------------------------- */\n/* Root node of the tree */\n\nvar logic_RootNode = function (_Core2) {\n    _inherits(RootNode, _Core2);\n\n    function RootNode() {\n        var _ref2;\n\n        var _temp2, _this3\n\n        // When new element(s) are selected\n\n\n        // Css mixin helper\n        , _ret2;\n\n        _classCallCheck(this, RootNode);\n\n        for (var _len2 = arguments.length, args = Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\n            args[_key3] = arguments[_key3];\n        }\n\n        return _ret2 = (_temp2 = (_this3 = _possibleConstructorReturn(this, (_ref2 = RootNode.__proto__ || Object.getPrototypeOf(RootNode)).call.apply(_ref2, [this].concat(args))), _this3), _this3.modifiers = {}, _this3.onKey = function (event) {\n            this.modifiers = {\n                control: event.getModifierState(\"Control\"),\n                meta: event.getModifierState(\"Meta\"),\n                shift: event.getModifierState(\"Shift\")\n            };\n        }.bind(_this3), _this3.onSelect = function (item, ancestors, neighbours) {\n            var selectionStrategy = _this3.inputs.get().strategies.selection || [];\n            var newSelection = selectionStrategy.map(function (strat) {\n                return (selectionStrategies[strat] || strat).bind(_this3);\n            }).reduce(function (last, curr) {\n                return curr(item, last, neighbours, ancestors);\n            }, _this3.inputs.get().selection);\n            _this3.outputs.onSelect(newSelection, item, ancestors, neighbours);\n            return newSelection;\n        }, _this3.wrapDragNDrop = __WEBPACK_IMPORTED_MODULE_1__dragndrop__[\"d\" /* wrapEvents */].bind(_this3), _this3.mixCss = function (prop) {\n            return _this3.inputs.get().css[prop] || defaults.css[prop];\n        }, _this3.filterTree = function (input) {\n            var search = _this3.inputs.get().search;\n            return !search ? null : !input.trim() ? null : logic___WEBPACK_IMPORTED_MODULE_0__tools__[\"f\" /* tree */](_this3.inputs.get().model, _this3.inputs.get().category).treeFilter(search(input.trim()));\n        }, _temp2), _possibleConstructorReturn(_this3, _ret2);\n    }\n\n    /* Events */\n\n    // Keyboard modifiers list\n\n\n    // Framework input wrapper\n\n\n    // Filters the tree on a search\n\n\n    return RootNode;\n}(Core);\n//# sourceMappingURL=logic.js.map\n// CONCATENATED MODULE: ./build/core/index.js\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, \"b\", function() { return logic_TreeNode; });\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, \"a\", function() { return logic_RootNode; });\n/* unused concated harmony import null */\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, false, function() { return selectionStrategies; });\n/* unused concated harmony import null */\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, false, function() { return clickStrategies; });\n/* unused concated harmony import null */\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, false, function() { return foldStrategies; });\n/* concated harmony reexport */__webpack_require__.d(__webpack_exports__, \"c\", function() { return defaults; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dragndrop__ = __webpack_require__(57);\n/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return __WEBPACK_IMPORTED_MODULE_3__dragndrop__[\"a\"]; });\n\n\n\n\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ 525:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index_css__ = __webpack_require__(526);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__index_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__libs_dragDropTouch_js__ = __webpack_require__(527);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__libs_dragDropTouch_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__libs_dragDropTouch_js__);\n\n\n\n/***/ }),\n\n/***/ 526:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 527:\n/***/ (function(module, exports) {\n\nvar DragDropTouch;\n(function (DragDropTouch_1) {\n    'use strict';\n    /**\n     * Object used to hold the data that is being dragged during drag and drop operations.\n     *\n     * It may hold one or more data items of different types. For more information about\n     * drag and drop operations and data transfer objects, see\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer\">HTML Drag and Drop API</a>.\n     *\n     * This object is created automatically by the @see:DragDropTouch singleton and is\n     * accessible through the @see:dataTransfer property of all drag events.\n     */\n\n    var DataTransfer = function () {\n        function DataTransfer() {\n            this._dropEffect = 'move';\n            this._effectAllowed = 'all';\n            this._data = {};\n        }\n        Object.defineProperty(DataTransfer.prototype, \"dropEffect\", {\n            /**\n             * Gets or sets the type of drag-and-drop operation currently selected.\n             * The value must be 'none',  'copy',  'link', or 'move'.\n             */\n            get: function get() {\n                return this._dropEffect;\n            },\n            set: function set(value) {\n                this._dropEffect = value;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DataTransfer.prototype, \"effectAllowed\", {\n            /**\n             * Gets or sets the types of operations that are possible.\n             * Must be one of 'none', 'copy', 'copyLink', 'copyMove', 'link',\n             * 'linkMove', 'move', 'all' or 'uninitialized'.\n             */\n            get: function get() {\n                return this._effectAllowed;\n            },\n            set: function set(value) {\n                this._effectAllowed = value;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DataTransfer.prototype, \"types\", {\n            /**\n             * Gets an array of strings giving the formats that were set in the @see:dragstart event.\n             */\n            get: function get() {\n                return Object.keys(this._data);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Removes the data associated with a given type.\n         *\n         * The type argument is optional. If the type is empty or not specified, the data\n         * associated with all types is removed. If data for the specified type does not exist,\n         * or the data transfer contains no data, this method will have no effect.\n         *\n         * @param type Type of data to remove.\n         */\n        DataTransfer.prototype.clearData = function (type) {\n            if (type != null) {\n                delete this._data[type];\n            } else {\n                this._data = null;\n            }\n        };\n        /**\n         * Retrieves the data for a given type, or an empty string if data for that type does\n         * not exist or the data transfer contains no data.\n         *\n         * @param type Type of data to retrieve.\n         */\n        DataTransfer.prototype.getData = function (type) {\n            return this._data[type] || '';\n        };\n        /**\n         * Set the data for a given type.\n         *\n         * For a list of recommended drag types, please see\n         * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Recommended_Drag_Types.\n         *\n         * @param type Type of data to add.\n         * @param value Data to add.\n         */\n        DataTransfer.prototype.setData = function (type, value) {\n            this._data[type] = value;\n        };\n        /**\n         * Set the image to be used for dragging if a custom one is desired.\n         *\n         * @param img An image element to use as the drag feedback image.\n         * @param offsetX The horizontal offset within the image.\n         * @param offsetY The vertical offset within the image.\n         */\n        DataTransfer.prototype.setDragImage = function (img, offsetX, offsetY) {\n            var ddt = DragDropTouch._instance;\n            ddt._imgCustom = img;\n            ddt._imgOffset = { x: offsetX, y: offsetY };\n        };\n        return DataTransfer;\n    }();\n    DragDropTouch_1.DataTransfer = DataTransfer;\n    /**\n     * Defines a class that adds support for touch-based HTML5 drag/drop operations.\n     *\n     * The @see:DragDropTouch class listens to touch events and raises the\n     * appropriate HTML5 drag/drop events as if the events had been caused\n     * by mouse actions.\n     *\n     * The purpose of this class is to enable using existing, standard HTML5\n     * drag/drop code on mobile devices running IOS or Android.\n     *\n     * To use, include the DragDropTouch.js file on the page. The class will\n     * automatically start monitoring touch events and will raise the HTML5\n     * drag drop events (dragstart, dragenter, dragleave, drop, dragend) which\n     * should be handled by the application.\n     *\n     * For details and examples on HTML drag and drop, see\n     * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Drag_operations.\n     */\n    var DragDropTouch = function () {\n        /**\n         * Initializes the single instance of the @see:DragDropTouch class.\n         */\n        function DragDropTouch() {\n            this._lastClick = 0;\n            // enforce singleton pattern\n            if (DragDropTouch._instance) {\n                throw 'DragDropTouch instance already created.';\n            }\n            // detect passive event support\n            // https://github.com/Modernizr/Modernizr/issues/1894\n            var supportsPassive = false;\n            document.addEventListener('test', null, {\n                get passive() {\n                    supportsPassive = true;\n                    return true;\n                }\n            });\n            // listen to touch events\n            if ('ontouchstart' in document) {\n                var d = document,\n                    ts = this._touchstart.bind(this),\n                    tm = this._touchmove.bind(this),\n                    te = this._touchend.bind(this),\n                    opt = supportsPassive ? { passive: false, capture: false } : false;\n                d.addEventListener('touchstart', ts, opt);\n                d.addEventListener('touchmove', tm, opt);\n                d.addEventListener('touchend', te);\n                d.addEventListener('touchcancel', te);\n            }\n        }\n        /**\n         * Gets a reference to the @see:DragDropTouch singleton.\n         */\n        DragDropTouch.getInstance = function () {\n            return DragDropTouch._instance;\n        };\n        // ** event handlers\n        DragDropTouch.prototype._touchstart = function (e) {\n            var _this = this;\n            if (this._shouldHandle(e)) {\n                // raise double-click and prevent zooming\n                if (Date.now() - this._lastClick < DragDropTouch._DBLCLICK) {\n                    if (this._dispatchEvent(e, 'dblclick', e.target)) {\n                        e.preventDefault();\n                        this._reset();\n                        return;\n                    }\n                }\n                // clear all variables\n                this._reset();\n                // get nearest draggable element\n                var src = this._closestDraggable(e.target);\n                if (src) {\n                    // give caller a chance to handle the hover/move events\n                    if (!this._dispatchEvent(e, 'mousemove', e.target) && !this._dispatchEvent(e, 'mousedown', e.target)) {\n                        // get ready to start dragging\n                        this._dragSource = src;\n                        this._ptDown = this._getPoint(e);\n                        this._lastTouch = e;\n                        e.preventDefault();\n                        // show context menu if the user hasn't started dragging after a while\n                        setTimeout(function () {\n                            if (_this._dragSource == src && _this._img == null) {\n                                if (_this._dispatchEvent(e, 'contextmenu', src)) {\n                                    _this._reset();\n                                }\n                            }\n                        }, DragDropTouch._CTXMENU);\n                    }\n                }\n            }\n        };\n        DragDropTouch.prototype._touchmove = function (e) {\n            if (this._shouldHandle(e)) {\n                // see if target wants to handle move\n                var target = this._getTarget(e);\n                if (this._dispatchEvent(e, 'mousemove', target)) {\n                    this._lastTouch = e;\n                    e.preventDefault();\n                    return;\n                }\n                // start dragging\n                if (this._dragSource && !this._img) {\n                    var delta = this._getDelta(e);\n                    if (delta > DragDropTouch._THRESHOLD) {\n                        this._dispatchEvent(e, 'dragstart', this._dragSource);\n                        this._createImage(e);\n                        this._dispatchEvent(e, 'dragenter', target);\n                    }\n                }\n                // continue dragging\n                if (this._img) {\n                    this._lastTouch = e;\n                    e.preventDefault(); // prevent scrolling\n                    if (target != this._lastTarget) {\n                        this._dispatchEvent(this._lastTouch, 'dragleave', this._lastTarget);\n                        this._dispatchEvent(e, 'dragenter', target);\n                        this._lastTarget = target;\n                    }\n                    this._moveImage(e);\n                    this._dispatchEvent(e, 'dragover', target);\n                }\n            }\n        };\n        DragDropTouch.prototype._touchend = function (e) {\n            if (this._shouldHandle(e)) {\n                // see if target wants to handle up\n                if (this._dispatchEvent(this._lastTouch, 'mouseup', e.target)) {\n                    e.preventDefault();\n                    return;\n                }\n                // user clicked the element but didn't drag, so clear the source and simulate a click\n                if (!this._img) {\n                    this._dragSource = null;\n                    this._dispatchEvent(this._lastTouch, 'click', e.target);\n                    this._lastClick = Date.now();\n                }\n                // finish dragging\n                this._destroyImage();\n                if (this._dragSource) {\n                    if (e.type.indexOf('cancel') < 0) {\n                        this._dispatchEvent(this._lastTouch, 'drop', this._lastTarget);\n                    }\n                    this._dispatchEvent(this._lastTouch, 'dragend', this._dragSource);\n                    this._reset();\n                }\n            }\n        };\n        // ** utilities\n        // ignore events that have been handled or that involve more than one touch\n        DragDropTouch.prototype._shouldHandle = function (e) {\n            return e && !e.defaultPrevented && e.touches && e.touches.length < 2;\n        };\n        // clear all members\n        DragDropTouch.prototype._reset = function () {\n            this._destroyImage();\n            this._dragSource = null;\n            this._lastTouch = null;\n            this._lastTarget = null;\n            this._ptDown = null;\n            this._dataTransfer = new DataTransfer();\n        };\n        // get point for a touch event\n        DragDropTouch.prototype._getPoint = function (e, page) {\n            if (e && e.touches) {\n                e = e.touches[0];\n            }\n            return { x: page ? e.pageX : e.clientX, y: page ? e.pageY : e.clientY };\n        };\n        // get distance between the current touch event and the first one\n        DragDropTouch.prototype._getDelta = function (e) {\n            var p = this._getPoint(e);\n            return Math.abs(p.x - this._ptDown.x) + Math.abs(p.y - this._ptDown.y);\n        };\n        // get the element at a given touch event\n        DragDropTouch.prototype._getTarget = function (e) {\n            var pt = this._getPoint(e),\n                el = document.elementFromPoint(pt.x, pt.y);\n            while (el && getComputedStyle(el).pointerEvents == 'none') {\n                el = el.parentElement;\n            }\n            return el;\n        };\n        // create drag image from source element\n        DragDropTouch.prototype._createImage = function (e) {\n            // just in case...\n            if (this._img) {\n                this._destroyImage();\n            }\n            // create drag image from custom element or drag source\n            var src = this._imgCustom || this._dragSource;\n            this._img = src.cloneNode(true);\n            this._copyStyle(src, this._img);\n            this._img.style.top = this._img.style.left = '-9999px';\n            // if creating from drag source, apply offset and opacity\n            if (!this._imgCustom) {\n                var rc = src.getBoundingClientRect(),\n                    pt = this._getPoint(e);\n                this._imgOffset = { x: pt.x - rc.left, y: pt.y - rc.top };\n                this._img.style.opacity = DragDropTouch._OPACITY.toString();\n            }\n            // add image to document\n            this._moveImage(e);\n            document.body.appendChild(this._img);\n        };\n        // dispose of drag image element\n        DragDropTouch.prototype._destroyImage = function () {\n            if (this._img && this._img.parentElement) {\n                this._img.parentElement.removeChild(this._img);\n            }\n            this._img = null;\n            this._imgCustom = null;\n        };\n        // move the drag image element\n        DragDropTouch.prototype._moveImage = function (e) {\n            var _this = this;\n            if (this._img) {\n                requestAnimationFrame(function () {\n                    var pt = _this._getPoint(e, true),\n                        s = _this._img.style;\n                    s.position = 'absolute';\n                    s.pointerEvents = 'none';\n                    s.zIndex = '999999';\n                    s.left = Math.round(pt.x - _this._imgOffset.x) + 'px';\n                    s.top = Math.round(pt.y - _this._imgOffset.y) + 'px';\n                });\n            }\n        };\n        // copy properties from an object to another\n        DragDropTouch.prototype._copyProps = function (dst, src, props) {\n            for (var i = 0; i < props.length; i++) {\n                var p = props[i];\n                dst[p] = src[p];\n            }\n        };\n        DragDropTouch.prototype._copyStyle = function (src, dst) {\n            // remove potentially troublesome attributes\n            DragDropTouch._rmvAtts.forEach(function (att) {\n                dst.removeAttribute(att);\n            });\n            // copy canvas content\n            if (src instanceof HTMLCanvasElement) {\n                var cSrc = src,\n                    cDst = dst;\n                cDst.width = cSrc.width;\n                cDst.height = cSrc.height;\n                cDst.getContext('2d').drawImage(cSrc, 0, 0);\n            }\n            // copy style (without transitions)\n            var cs = getComputedStyle(src);\n            for (var i = 0; i < cs.length; i++) {\n                var key = cs[i];\n                if (key.indexOf('transition') < 0) {\n                    dst.style[key] = cs[key];\n                }\n            }\n            dst.style.pointerEvents = 'none';\n            // and repeat for all children\n            for (var i = 0; i < src.children.length; i++) {\n                this._copyStyle(src.children[i], dst.children[i]);\n            }\n        };\n        DragDropTouch.prototype._dispatchEvent = function (e, type, target) {\n            if (e && target) {\n                var evt = document.createEvent('Event'),\n                    t = e.touches ? e.touches[0] : e;\n                evt.initEvent(type, true, true);\n                evt.button = 0;\n                evt.which = evt.buttons = 1;\n                this._copyProps(evt, e, DragDropTouch._kbdProps);\n                this._copyProps(evt, t, DragDropTouch._ptProps);\n                evt.dataTransfer = this._dataTransfer;\n                target.dispatchEvent(evt);\n                return evt.defaultPrevented;\n            }\n            return false;\n        };\n        // gets an element's closest draggable ancestor\n        DragDropTouch.prototype._closestDraggable = function (e) {\n            for (; e; e = e.parentElement) {\n                if (e.hasAttribute('draggable') && e.draggable) {\n                    return e;\n                }\n            }\n            return null;\n        };\n        return DragDropTouch;\n    }();\n    /*private*/DragDropTouch._instance = new DragDropTouch(); // singleton\n    // constants\n    DragDropTouch._THRESHOLD = 5; // pixels to move before drag starts\n    DragDropTouch._OPACITY = 0.5; // drag image opacity\n    DragDropTouch._DBLCLICK = 500; // max ms between clicks in a double click\n    DragDropTouch._CTXMENU = 900; // ms to hold before raising 'contextmenu' event\n    // copy styles/attributes from drag source to drag image element\n    DragDropTouch._rmvAtts = 'id,class,style,draggable'.split(',');\n    // synthesize and dispatch an event\n    // returns true if the event has been handled (e.preventDefault == true)\n    DragDropTouch._kbdProps = 'altKey,ctrlKey,metaKey,shiftKey'.split(',');\n    DragDropTouch._ptProps = 'pageX,pageY,clientX,clientY,screenX,screenY'.split(',');\n    DragDropTouch_1.DragDropTouch = DragDropTouch;\n})(DragDropTouch || (DragDropTouch = {}));\n\n/***/ }),\n\n/***/ 57:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return dragndrop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return utils; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return nodeEvents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return wrapEvents; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__tools__ = __webpack_require__(16);\nvar _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n            }\n        }\n    }return target;\n};\n\nfunction _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n        }return arr2;\n    } else {\n        return Array.from(arr);\n    }\n}\n\n\n\n// Drag and drop presets //\n\nvar dragndrop = {\n    // Moves the selection //\n    selection: function selection(model, cb) {\n        return {\n            draggable: true,\n            droppable: true,\n            drag: function drag(item, event, inputs) {\n                event.dataTransfer && event.dataTransfer.setData(\"application/json\", JSON.stringify(inputs.selection));\n            },\n            guard: function guard(target, event, inputs) {\n                // Other data types\n                if (event && event.dataTransfer && event.dataTransfer.types.indexOf(\"application/json\") < 0) return false;\n                // Prevent drop on self\n                var selfDrop = function selfDrop() {\n                    return target && __WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](inputs.selection).contains(target\n                    // Prevent drop on child\n                    );\n                };var childDrop = function childDrop() {\n                    return inputs.ancestors && inputs.ancestors.reduce(function (prev, curr) {\n                        return prev || __WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](inputs.selection).contains(curr);\n                    }, false);\n                };\n\n                return selfDrop() || childDrop();\n            },\n            drop: function drop(target, event, inputs) {\n                var updatedModel = __WEBPACK_IMPORTED_MODULE_0__tools__[\"f\" /* tree */](model(), inputs.category).filter(function (e) {\n                    return inputs.selection.indexOf(e) < 0;\n                });\n                var adjustedTarget = target ? target[inputs.category] && target[inputs.category] instanceof Array ? target : __WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](inputs.ancestors).last() : null;\n                if (adjustedTarget) adjustedTarget[inputs.category] = [].concat(_toConsumableArray(adjustedTarget[inputs.category]), _toConsumableArray(inputs.selection));else updatedModel = [].concat(_toConsumableArray(updatedModel), _toConsumableArray(inputs.selection));\n                cb(updatedModel);\n            }\n        };\n    },\n    // Plucks an item on drag\n    pluck: function pluck(model, cb) {\n        return {\n            draggable: true,\n            backup: [],\n            drag: function drag(item, event, inputs) {\n                bak = JSON.stringify(model());\n                event.dataTransfer && event.dataTransfer.setData(\"application/json\", JSON.stringify(item));\n                setTimeout(function () {\n                    return cb(__WEBPACK_IMPORTED_MODULE_0__tools__[\"f\" /* tree */](model(), inputs.category).filter(function (e) {\n                        return e !== item;\n                    }));\n                }, 20);\n            },\n            cancel: function cancel() {\n                setTimeout(function () {\n                    return cb(JSON.parse(bak));\n                }, 20);\n            }\n        };\n    },\n    // Pastes item(s) on drop\n    paste: function paste(model, cb) {\n        return {\n            droppable: true,\n            drop: function drop(target, event, inputs) {\n                if (event.dataTransfer && event.dataTransfer.types.indexOf(\"application/json\") > -1) {\n                    var data = JSON.parse(event.dataTransfer.getData(\"application/json\"));\n                    var updatedModel = [].concat(_toConsumableArray(model()));\n                    var adjustedTarget = target ? target[inputs.category] && target[inputs.category] instanceof Array ? target : __WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](inputs.ancestors).last() : null;\n                    if (adjustedTarget) adjustedTarget[inputs.category] = [].concat(_toConsumableArray(adjustedTarget[inputs.category]), [data]);else updatedModel = [].concat(_toConsumableArray(updatedModel), [data]);\n                    cb(updatedModel);\n                }\n            }\n        };\n    }\n};\nvar bak = \"[]\";\n\n// Utils\n\nvar utils = {\n    // Returns a list of local files/folders dropped\n    filesystem: function filesystem(event) {\n        var items = event.dataTransfer ? event.dataTransfer.items : null;\n        if (items && items.length > 0 && items[0].kind === \"file\") {\n            var files = [];\n            for (var i = 0; i < items.length; i++) {\n                /* eslint-disable */\n                var item = items[i].webkitGetAsEntry() || items[i].getAsFile\n                /* eslint-enable */\n                ();if (item) {\n                    files.push(item);\n                }\n            }\n            return files;\n        }\n        return null;\n    }\n\n    // Internal use //\n\n};var nodeEvents = {\n    onDragStart: function onDragStart(item) {\n        return function (event) {\n            event.stopPropagation();\n            this.inputs.get().dragndrop.onDrag(item, event, this.inputs.get());\n        };\n    },\n    onDragOver: function onDragOver(item) {\n        return function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            if (this.inputs.get().dragndrop.guard && this.inputs.get().dragndrop.guard(item, event, this.inputs.get())) {\n                event.dataTransfer && (event.dataTransfer.dropEffect = \"none\");\n                __WEBPACK_IMPORTED_MODULE_0__tools__[\"b\" /* css */].addClass(event.currentTarget, this.mixCss(\"nodrop\"));\n                return;\n            }\n\n            __WEBPACK_IMPORTED_MODULE_0__tools__[\"b\" /* css */].addClass(event.currentTarget, this.mixCss(\"dragover\"));\n        };\n    },\n    onDragEnter: function onDragEnter(item) {\n        return function (event) {\n            event.preventDefault();\n            event.stopPropagation\n            // If dragging over an opener\n            ();if (item && (this.hasChildren(item) || this.isAsync(item)) && __WEBPACK_IMPORTED_MODULE_0__tools__[\"b\" /* css */].hasClass(event.target, this.mixCss(\"opener\"))) {\n                var newVal = this.state.get().unfolded.filter(function (i) {\n                    return i !== item;\n                });\n                newVal.push(item);\n                this.state.set({ unfolded: newVal });\n            }\n        };\n    },\n    onDragLeave: function onDragLeave(event) {\n        event.stopPropagation();\n        __WEBPACK_IMPORTED_MODULE_0__tools__[\"b\" /* css */].removeClass(event.currentTarget, this.mixCss(\"dragover\"));\n        __WEBPACK_IMPORTED_MODULE_0__tools__[\"b\" /* css */].removeClass(event.currentTarget, this.mixCss(\"nodrop\"));\n    },\n    onDrop: function onDrop(item) {\n        return function (event) {\n            event.stopPropagation();\n            __WEBPACK_IMPORTED_MODULE_0__tools__[\"b\" /* css */].removeClass(event.currentTarget, this.mixCss(\"dragover\"));\n            __WEBPACK_IMPORTED_MODULE_0__tools__[\"b\" /* css */].removeClass(event.currentTarget, this.mixCss(\"nodrop\"));\n            this.inputs.get().dragndrop.onDrop(item, event, this.inputs.get());\n        };\n    },\n    onDragEnd: function onDragEnd(item) {\n        return function (event) {\n            event.stopPropagation();\n            if (event.dataTransfer && event.dataTransfer.dropEffect === \"none\") this.inputs.get().dragndrop.onCancel(item, event, this.inputs.get());\n        };\n    }\n};\n\nvar wrapEvents = function wrapEvents() {\n    var _this = this;\n\n    return _extends({}, this.inputs.get().dragndrop, {\n        onDrag: function onDrag(target, event, inputs) {\n            if (!__WEBPACK_IMPORTED_MODULE_0__tools__[\"a\" /* array */](_this.inputs.get().selection).contains(target)) {\n                _this.onSelect(target, inputs.ancestors, inputs.neighbours);\n            }\n\n            _this.outputs.onDrag && _this.outputs.onDrag(target, event, inputs);\n        },\n        onDrop: function onDrop(target, event, inputs) {\n            event.preventDefault();\n            _this.outputs.onDrop && _this.outputs.onDrop(target, event, inputs);\n        },\n        onCancel: function onCancel(target, event, inputs) {\n            event.preventDefault();\n            if (event.dataTransfer && event.dataTransfer.dropEffect === \"none\") _this.outputs.onCancel && _this.outputs.onCancel(target, event, inputs);\n        }\n    });\n};\n//# sourceMappingURL=dragndrop.js.map\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// common/build/common.js"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n \t\tif(executeModules) {\n \t\t\tfor(i=0; i < executeModules.length; i++) {\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = executeModules[i]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \"/build/\" + ({\"0\":\"angular\",\"1\":\"react\",\"2\":\"vue\"}[chunkId]||chunkId) + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 525);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8ea0b61688b2f2a19610","const timeoutPromise = (value, duration) => new Promise(resolve => setTimeout(() => resolve(value), duration))\n\nexport default [\n    {\n        label: \"Vegetables\",\n        items: [\n            { label: \"Potato\" },\n            { label: \"Carrot\" },\n            { label: \"Tomato\" }\n        ]\n    },\n    {\n        label: \"Fruits\",\n        items: [\n            { label: \"Orange\" },\n            { label: \"Watermelon\" },\n            { label: \"Banana\" },\n            { label: \"Kumquat\" },\n            { label: \"Strawberry\" },\n            { label: \"Raspberry\" },\n            { label: \"Cherry\" }\n        ]\n    },\n    {\n        label: \"Animals\",\n        items: [\n            {\n                label: \"Mammals\",\n                items: [\n                    { label: \"Tiger\" },\n                    { label: \"Platypus\" },\n                    { label: \"Bear\" }\n                ]\n            },\n            {\n                label: \"Reptiles\",\n                items: [\n                    { label: \"Turtle\" },\n                    { label: \"Crocodile\" }\n                ]\n            },\n            {\n                label: \"Insects\",\n                items: [\n                    { label: \"Bee\" },\n                    { label: \"Fly\" },\n                    { label: \"Ant\" }\n                ]\n            }\n        ]\n    },\n    {\n        label: \"Durations\",\n        items: () => timeoutPromise([\n            { label: \"0.5 second\",  items: () => timeoutPromise([{ label: \"Brief\" }], 500) },\n            { label: \"2 seconds\",   items: () => timeoutPromise([{ label: \"Enduring\" }], 2000) },\n            { label: \"4 seconds\",   items: () => timeoutPromise([{ label: \"Everlasting\" }], 4000) }\n        ], 1000)\n    }\n]\n\n\n\n// WEBPACK FOOTER //\n// ./docs/common/models/TreeViewModel.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexport var deepMix = function deepMix(one, two) {\n    var mergeArrays = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (!one || !two || (typeof one === \"undefined\" ? \"undefined\" : _typeof(one)) !== \"object\" || (typeof two === \"undefined\" ? \"undefined\" : _typeof(two)) !== \"object\") return one;\n\n    var clone = _extends({}, one, two);\n    for (var prop in two) {\n        if (two.hasOwnProperty(prop)) {\n            if (two[prop] instanceof Array && one[prop] instanceof Array) {\n                clone[prop] = mergeArrays ? [].concat(_toConsumableArray(one[prop]), _toConsumableArray(two[prop])) : clone[prop] = two[prop];\n            } else if (_typeof(two[prop]) === \"object\" && _typeof(one[prop]) === \"object\") {\n                clone[prop] = deepMix(one[prop], two[prop], mergeArrays);\n            }\n        }\n    }\n\n    return clone;\n};\n//# sourceMappingURL=mixin.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/tools/mixin.js","export var string = function string(str) {\n    return {\n        contains: function contains(input) {\n            return !!str.match(new RegExp(\".*\" + input + \".*\", \"gi\"));\n        }\n    };\n};\n//# sourceMappingURL=strings.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/tools/strings.js","export var printer = {\n    debug: function debug(title, msg /* eslint-enable */) {\n        var logger = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : console.log;\n\n        var headerStyle = \"background-color: red; color: white; font-size: 1.1em; font-weight: bold; padding: 3px 10px; border-radius: 5px\";\n        var titleStyle = \"color: #444; font-weight: bold; font-size: 1.1em\";\n        var msgStyle = \"color: #222; font-weight: bold\";\n\n        logger(\"%cDEBUG%c \" + title, headerStyle, titleStyle);\n        logger(\"%c\" + msg, msgStyle);\n    }\n};\n//# sourceMappingURL=printer.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/tools/printer.js","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport { array } from \"./arrays\";\n\nexport var tree = function tree(t, prop) {\n    return {\n        flatten: function flatten() {\n            var flattened = [];\n            var fifo = [t];\n            while (fifo.length > 0) {\n                var _tree = fifo.pop();\n                if (!(_tree instanceof Array)) continue;\n                flattened = [].concat(_toConsumableArray(array(flattened).notIn(_tree)), _toConsumableArray(_tree));\n                fifo = [].concat(_toConsumableArray(fifo), _toConsumableArray(_tree.filter(function (item) {\n                    return item[prop];\n                }).map(function (item) {\n                    return item[prop];\n                })));\n            }\n\n            return flattened;\n        },\n        filter: function filter(filterFun) {\n            var copy = t.filter(filterFun);\n            var recurse = function recurse(list) {\n                list.forEach(function (item) {\n                    if (item[prop] && item[prop] instanceof Array) {\n                        item[prop] = item[prop].filter(filterFun);\n                        recurse(item[prop]);\n                    }\n                });\n            };\n            recurse(copy);\n            return copy;\n        },\n        treeFilter: function treeFilter(filterFun) {\n            var finalMap = new Map();\n\n            var recurse = function recurse(list, map) {\n                list.forEach(function (item) {\n                    if (item[prop] && item[prop] instanceof Array) {\n                        var childMap = new Map();\n                        recurse(item[prop], childMap);\n                        if (childMap.size > 0) {\n                            map.set(item, childMap);\n                        } else if (filterFun(item)) {\n                            map.set(item, new Map());\n                        }\n                    } else if (filterFun(item)) {\n                        map.set(item, null);\n                    }\n                });\n            };\n            recurse(t, finalMap);\n            return finalMap;\n        },\n        add: function add(parent, elt) {\n            var fifo = [t];\n            while (fifo.length > 0) {\n                var _tree2 = fifo.pop();\n                var idx = _tree2.indexOf(parent);\n                if (idx >= 0 && _tree2[idx][prop]) {\n                    _tree2[idx][prop] = _tree2[idx][prop].slice();\n                    _tree2[idx][prop].push(elt);\n                    return t;\n                }\n                fifo = [].concat(_toConsumableArray(fifo), _toConsumableArray(_tree2.filter(function (item) {\n                    return item[prop];\n                }).map(function (item) {\n                    return item[prop];\n                })));\n            }\n            return t;\n        },\n        visit: function visit(visitor) {\n            var fifo = [t];\n            while (fifo.length > 0) {\n                var _tree3 = fifo.pop();\n                visitor(_tree3);\n                _tree3.forEach(function (child) {\n                    return child[prop] && child[prop] instanceof Array ? fifo.push(child[prop]) : null;\n                });\n            }\n        }\n    };\n};\n//# sourceMappingURL=trees.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/tools/trees.js","\n\nexport var array = function array(self) {\n    return {\n        last: function last() {\n            return self.length > 0 ? self[self.length - 1] : null;\n        },\n        \"in\": function _in(arr, otherCondition) {\n            return self.filter(function (elt) {\n                return arr.indexOf(elt) >= 0 && (!otherCondition || otherCondition(elt));\n            });\n        },\n        notIn: function notIn(arr, otherCondition) {\n            return self.filter(function (elt) {\n                return arr.indexOf(elt) < 0 && (!otherCondition || otherCondition(elt));\n            });\n        },\n        is: function is(_ref, otherCondition) {\n            var _ref$isIn = _ref.isIn,\n                isIn = _ref$isIn === undefined ? [] : _ref$isIn,\n                _ref$notIn = _ref.notIn,\n                notIn = _ref$notIn === undefined ? [] : _ref$notIn;\n            return self.filter(function (elt) {\n                return isIn.reduce(function (acc, curr) {\n                    return curr.indexOf(elt) >= 0 && acc;\n                }, true) && notIn.reduce(function (acc, curr) {\n                    return curr.indexOf(elt) < 0 && acc;\n                }, true) && (!otherCondition || otherCondition(elt));\n            });\n        },\n        contains: function contains(element) {\n            return self.indexOf(element) >= 0;\n        },\n        allIn: function allIn(arr) {\n            return self.every(function (elt) {\n                return arr.indexOf(elt) >= 0;\n            });\n        }\n    };\n};\n//# sourceMappingURL=arrays.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/tools/arrays.js","var css = {\n    classes: function classes(_classes) {\n        var css = [];\n        for (var _key in _classes) {\n            if (_classes[_key]) {\n                css.push(_key);\n            }\n        }\n        return css.join(\" \");\n    },\n    addClass: function addClass(elt, cname) {\n        if (elt instanceof HTMLElement) elt.className = elt.className.split(\" \").filter(function (c) {\n            return c !== cname;\n        }).join(\" \") + \" \" + cname;\n    },\n    removeClass: function removeClass(elt, cname) {\n        if (elt instanceof HTMLElement) elt.className = elt.className.split(\" \").filter(function (c) {\n            return c !== cname;\n        }).join(\" \");\n    },\n    hasClass: function hasClass(elt, cname) {\n        return elt instanceof HTMLElement ? elt.className.indexOf(cname) >= 0 : false;\n    }\n};\nexport { css };\n//# sourceMappingURL=css.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/tools/css.js","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport var object = function object(self) {\n    if (!self || !(self instanceof Object)) {\n        throw new Error(\"Bad object format\");\n    }\n\n    return {\n        shallowCompare: function shallowCompare(obj, excludes) {\n            var equals = true;\n            for (var key in self) {\n                if (self.hasOwnProperty(key)) {\n                    if (!(excludes && excludes.indexOf(key) >= 0) && obj[key] !== self[key]) {\n                        equals = false;\n                        return;\n                    }\n                }\n            }\n            return equals;\n        },\n        filter: function filter(fun) {\n            var copy = {};\n            for (var prop in self) {\n                if (self.hasOwnProperty(prop) && fun(self[prop])) copy[prop] = self[prop];\n            }\n            return copy;\n        },\n        map: function map(fun) {\n            var copy = {};\n            for (var prop in self) {\n                if (self.hasOwnProperty(prop)) copy[prop] = fun(self[prop]);\n            }\n            return copy;\n        },\n        fullMap: function fullMap(fun) {\n            var copy = {};\n            for (var prop in self) {\n                if (self.hasOwnProperty(prop)) {\n                    var _fun = fun(prop, self[prop]),\n                        _fun2 = _slicedToArray(_fun, 2),\n                        newProp = _fun2[0],\n                        newVal = _fun2[1];\n\n                    copy[newProp] = newVal;\n                }\n            }\n            return copy;\n        },\n        nestPrefix: function nestPrefix(prefix) {\n            var transform = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (_) {\n                return _;\n            };\n\n            var copy = _defineProperty({}, prefix, {});\n            for (var prop in self) {\n                if (self.hasOwnProperty(prop) && prop.startsWith(prefix)) {\n                    copy[prefix][transform(prop.substring(prefix.length))] = self[prop];\n                } else {\n                    copy[prop] = self[prop];\n                }\n            }\n            return copy;\n        }\n    };\n};\n//# sourceMappingURL=objects.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/tools/objects.js","var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport { array, tree } from \"../tools\";\n\n// Selection strategies are triggered while updating the selection\nvar singleSelect = function singleSelect(item, selection, neighbours, ancestors) {\n    return array(selection).contains(item) ? [] : [item];\n};\nvar multiSelect = function multiSelect(item, selection, neighbours, ancestors) {\n    var alreadySelected = false;\n    var newSelection = selection.filter(function (i) {\n        // Mark if the item was already selected\n        if (!alreadySelected) alreadySelected = i === item;\n        // Deselect all ancestors\n        return i !== item && ancestors.indexOf(i) < 0;\n    }\n    // Categories : deselect all children\n    );if (!alreadySelected && item[this.inputs.get().category] && item[this.inputs.get().category] instanceof Array) {\n        tree(item[this.inputs.get().category], this.inputs.get().category).visit(function (children) {\n            newSelection = array(newSelection).notIn(children);\n        });\n    }\n    if (!alreadySelected) newSelection.push(item);\n    return newSelection;\n};\n\nexport var selectionStrategies = {\n    single: singleSelect,\n    multiple: multiSelect,\n    modifiers: function modifiers(item, selection, neighbours, ancestors) {\n        var _this = this;\n\n        if (this.modifiers.control || this.modifiers.meta) {\n            this.lastSelection = item;\n            delete this.lastIndex;\n            delete this.lastPivot;\n            return multiSelect.bind(this)(item, selection, neighbours, ancestors);\n        } else if (this.modifiers.shift) {\n            if (!this.lastSelection) return selection;\n\n            var originIndex = neighbours.indexOf(this.lastSelection);\n            if (originIndex < 0) return selection;\n\n            var newSelection = selection.slice();\n            var endIndex = neighbours.indexOf(item);\n\n            if (originIndex >= 0) {\n                var _newSelection;\n\n                if (this.lastPivot) {\n                    var lastIndex = neighbours.indexOf(this.lastPivot);\n\n                    var _ref = originIndex > lastIndex ? [lastIndex, originIndex] : [originIndex, lastIndex],\n                        _ref2 = _slicedToArray(_ref, 2),\n                        _smaller = _ref2[0],\n                        _higher = _ref2[1];\n\n                    var deletions = neighbours.slice(_smaller, _higher + 1);\n                    newSelection = array(newSelection).notIn(deletions);\n                }\n                this.lastPivot = item;\n\n                var _ref3 = originIndex > endIndex ? [endIndex, originIndex] : [originIndex, endIndex],\n                    _ref4 = _slicedToArray(_ref3, 2),\n                    smaller = _ref4[0],\n                    higher = _ref4[1];\n\n                var additions = !this.inputs.get().disabled ? neighbours.slice(smaller, higher + 1) : neighbours.slice(smaller, higher + 1).filter(function (i) {\n                    return !_this.inputs.get().disabled(i);\n                });\n                newSelection = array(newSelection).notIn(additions);\n                (_newSelection = newSelection).push.apply(_newSelection, _toConsumableArray(additions));\n            }\n\n            return newSelection;\n        } else {\n            this.lastSelection = item;\n            delete this.lastIndex;\n            delete this.lastPivot;\n            return singleSelect.bind(this)(item, selection.length > 1 ? [] : selection, neighbours, ancestors);\n        }\n    },\n    ancestors: function (_ancestors) {\n        function ancestors(_x, _x2, _x3, _x4) {\n            return _ancestors.apply(this, arguments);\n        }\n\n        ancestors.toString = function () {\n            return _ancestors.toString();\n        };\n\n        return ancestors;\n    }(function (item, selection, neighbours, ancestors) {\n        return selection.length === 0 ? [item] : array(selection).contains(item) ? [].concat(_toConsumableArray(ancestors)) : [].concat(_toConsumableArray(ancestors), [item]);\n    })\n\n    // Click strategies are triggered on item click\n};export var clickStrategies = {\n    \"unfold-on-selection\": function unfoldOnSelection(item) {\n        if (!this.isSelected(item)) {\n            var newUnfolded = this.state.get().unfolded.filter(function (i) {\n                return i !== item;\n            });\n            newUnfolded.push(item);\n            this.state.set({ unfolded: newUnfolded });\n        }\n    },\n    \"toggle-fold\": function toggleFold(item) {\n        var newUnfolded = this.state.get().unfolded.filter(function (i) {\n            return i !== item;\n        });\n        if (newUnfolded.length === this.state.get().unfolded.length) {\n            newUnfolded.push(item);\n        }\n        this.state.set({ unfolded: newUnfolded });\n    }\n\n    // Fold strategies are triggered during render to fold / unfold children\n};export var foldStrategies = {\n    \"opener-control\": function openerControl(item) {\n        return !array(this.state.get().unfolded).contains(item);\n    },\n    \"not-selected\": function notSelected(item) {\n        return !this.isSelected(item);\n    },\n    \"no-child-selection\": function noChildSelection(item) {\n        var _this2 = this;\n\n        // naive ...\n        var recurseCheck = function recurseCheck(node) {\n            return _this2.isSelected(node) || node[_this2.inputs.get().category] && node[_this2.inputs.get().category] instanceof Array && node[_this2.inputs.get().category].some(recurseCheck);\n        };\n        return !recurseCheck(item);\n    },\n    \"max-depth\": function maxDepth() {\n        return this.inputs.get().maxDepth && !isNaN(parseInt(this.inputs.get().maxDepth, 10)) ? this.inputs.get().depth >= parseInt(this.inputs.get().maxDepth, 10) : false;\n    }\n};\n//# sourceMappingURL=strategies.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/core/strategies.js","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { css, array, tree } from \"../tools\";\nimport { wrapEvents, nodeEvents } from \"./dragndrop\";\nimport { selectionStrategies, foldStrategies, clickStrategies } from \"./strategies\";\nimport { defaults } from \"./defaults\";\n\n// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //\n//  Boilerplate  for framework class adapters\n\nvar Core = function Core(inputs, outputs, state, refresh) {\n    _classCallCheck(this, Core);\n\n    this.inputs = inputs;\n    this.outputs = outputs;\n    this.state = state;\n    this.refresh = refresh;\n};\n\n/* -------------------------------------------------------------------------- */\n/* TREE NODE */\n\nexport var TreeNode = function (_Core) {\n    _inherits(TreeNode, _Core);\n\n    function TreeNode() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, TreeNode);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = TreeNode.__proto__ || Object.getPrototypeOf(TreeNode)).call.apply(_ref, [this].concat(args))), _this), _this.isSelected = function (item) {\n            return array(_this.inputs.get().selection).contains(item);\n        }, _this.isFolded = function (item) {\n            var strats = _this.inputs.get().strategies;\n            return (!_this.inputs.get().searched || _this.isAsync(item)) && (strats && strats.fold || []).map(function (strat) {\n                return (foldStrategies[strat] || strat).bind(_this);\n            }).reduce(function (last, curr) {\n                return last && curr(item, last);\n            }, true);\n        }, _this.hasChildren = function (item) {\n            return item[_this.inputs.get().category] && item[_this.inputs.get().category] instanceof Array;\n        }, _this.isAsync = function (item) {\n            return !!item && [_this.inputs.get().category] && typeof item[_this.inputs.get().category] === \"function\";\n        }, _this.isDisabled = function (item) {\n            var disabledFun = _this.inputs.get().disabled;\n            return disabledFun ? disabledFun(item) : false;\n        }, _this.isDraggable = function (item) {\n            return item && _this.inputs.get().dragndrop.draggable && (typeof _this.inputs.get().dragndrop.draggable === \"function\" ? _this.inputs.get().dragndrop.draggable(item) : true);\n        }, _this.isDroppable = function (item) {\n            return _this.inputs.get().dragndrop.droppable && (typeof _this.inputs.get().dragndrop.droppable === \"function\" ? _this.inputs.get().dragndrop.droppable(item) : true);\n        }, _this.mixCss = function (prop) {\n            return _this.inputs.get().css[prop] || defaults.css[prop];\n        }, _this.ulCss = function () {\n            return css.classes(_defineProperty({}, _this.mixCss(\"depth\") + \"-\" + (_this.inputs.get().depth || 0), true));\n        }, _this.liCss = function (item) {\n            var _css$classes2;\n\n            return css.classes((_css$classes2 = {}, _defineProperty(_css$classes2, _this.mixCss(\"selected\"), _this.isSelected(item)), _defineProperty(_css$classes2, _this.mixCss(\"category\"), _this.hasChildren(item) || _this.isAsync(item)), _defineProperty(_css$classes2, _this.mixCss(\"folded\"), _this.hasChildren(item) || _this.isAsync(item) ? _this.isFolded(item) : null), _defineProperty(_css$classes2, _this.mixCss(\"disabled\"), _this.isDisabled(item)), _defineProperty(_css$classes2, _this.mixCss(\"async\"), _this.isAsync(item) && _this.isFolded(item)), _defineProperty(_css$classes2, _this.mixCss(\"loading\"), _this.isAsync(item) && !_this.isFolded(item)), _css$classes2));\n        }, _this.pending = [], _this.unwrapPromise = function (item) {\n            _this.pending.push(item);\n            var asyncFun = _this.inputs.get().async;\n            if (!asyncFun) return Promise.reject(new Error(\"No asyn prop.\"));else return asyncFun(item[_this.inputs.get().category]).then(function (res) {\n                item[_this.inputs.get().category] = res;\n                _this.refresh();\n            }).catch(function (err) {\n                /* eslint-disable */\n                throw err;\n                /* eslint-enable */\n            }).then(function () {\n                return _this.pending = _this.pending.filter(function (e) {\n                    return e !== item;\n                });\n            });\n        }, _this.onClick = function (item) {\n            return function (event) {\n                if (_this.isDisabled(item)) return;\n                var strats = _this.inputs.get().strategies;\n                (strats && strats.click || []).map(function (strat) {\n                    return (clickStrategies[strat] || strat).bind(_this);\n                }).forEach(function (strat) {\n                    return strat(item, event, _this.inputs.get().ancestors, _this.inputs.get().model);\n                });\n                _this.inputs.get().onSelect(item, _this.inputs.get().ancestors, _this.inputs.get().model);\n                event.stopPropagation();\n            };\n        }, _this.getDragEvents = function (item) {\n            var condition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            if (!condition) return {};\n            var result = {\n                draggable: _this.isDraggable(item),\n                onDragStart: _this.isDraggable(item) && nodeEvents.onDragStart(item).bind(_this),\n                onDragOver: _this.isDroppable(item) && nodeEvents.onDragOver(item).bind(_this),\n                onDragEnter: _this.isDroppable(item) && nodeEvents.onDragEnter(item).bind(_this),\n                onDragLeave: _this.isDroppable(item) && nodeEvents.onDragLeave.bind(_this),\n                onDrop: _this.isDroppable(item) && nodeEvents.onDrop(item).bind(_this),\n                onDragEnd: _this.isDraggable(item) && nodeEvents.onDragEnd(item).bind(_this)\n            };\n            for (var _key2 in result) {\n                if (!result[_key2]) delete result[_key2];\n            }return result;\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    /* Various checks */\n\n    /* Styles calculation */\n\n    // Css mixin helper\n\n\n    /* Promises */\n\n    // Pending promises\n\n\n    // Unwrap a promise and mutate the model to add the results\n\n\n    /* Events */\n\n    // On item click\n\n\n    _createClass(TreeNode, [{\n        key: \"onOpener\",\n\n\n        // On opener click\n        value: function onOpener(item) {\n            var _this2 = this;\n\n            return function (event) {\n                var newVal = _this2.state.get().unfolded.filter(function (i) {\n                    return i !== item;\n                });\n                if (newVal.length === _this2.state.get().unfolded.length) newVal.push(item);\n                _this2.state.set({ unfolded: newVal });\n                event.stopPropagation();\n            };\n        }\n\n        // Drag'n'drop //\n\n    }]);\n\n    return TreeNode;\n}(Core);\n\n/* -------------------------------------------------------------------------- */\n/* Root node of the tree */\n\nexport var RootNode = function (_Core2) {\n    _inherits(RootNode, _Core2);\n\n    function RootNode() {\n        var _ref2;\n\n        var _temp2, _this3\n\n        // When new element(s) are selected\n\n\n        // Css mixin helper\n        , _ret2;\n\n        _classCallCheck(this, RootNode);\n\n        for (var _len2 = arguments.length, args = Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\n            args[_key3] = arguments[_key3];\n        }\n\n        return _ret2 = (_temp2 = (_this3 = _possibleConstructorReturn(this, (_ref2 = RootNode.__proto__ || Object.getPrototypeOf(RootNode)).call.apply(_ref2, [this].concat(args))), _this3), _this3.modifiers = {}, _this3.onKey = function (event) {\n            this.modifiers = {\n                control: event.getModifierState(\"Control\"),\n                meta: event.getModifierState(\"Meta\"),\n                shift: event.getModifierState(\"Shift\")\n            };\n        }.bind(_this3), _this3.onSelect = function (item, ancestors, neighbours) {\n            var selectionStrategy = _this3.inputs.get().strategies.selection || [];\n            var newSelection = selectionStrategy.map(function (strat) {\n                return (selectionStrategies[strat] || strat).bind(_this3);\n            }).reduce(function (last, curr) {\n                return curr(item, last, neighbours, ancestors);\n            }, _this3.inputs.get().selection);\n            _this3.outputs.onSelect(newSelection, item, ancestors, neighbours);\n            return newSelection;\n        }, _this3.wrapDragNDrop = wrapEvents.bind(_this3), _this3.mixCss = function (prop) {\n            return _this3.inputs.get().css[prop] || defaults.css[prop];\n        }, _this3.filterTree = function (input) {\n            var search = _this3.inputs.get().search;\n            return !search ? null : !input.trim() ? null : tree(_this3.inputs.get().model, _this3.inputs.get().category).treeFilter(search(input.trim()));\n        }, _temp2), _possibleConstructorReturn(_this3, _ret2);\n    }\n\n    /* Events */\n\n    // Keyboard modifiers list\n\n\n    // Framework input wrapper\n\n\n    // Filters the tree on a search\n\n\n    return RootNode;\n}(Core);\n//# sourceMappingURL=logic.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/core/logic.js","export var defaults = {\n    labels: {\n        \"search.placeholder\": \"Search ...\"\n    },\n    css: {\n        TreeView: \"TreeView\",\n        opener: \"opener\",\n        depth: \"depth\",\n        selected: \"selected\",\n        category: \"category\",\n        folded: \"folded\",\n        disabled: \"disabled\",\n        async: \"async\",\n        loading: \"loading\",\n        nodrop: \"nodrop\",\n        dragover: \"dragover\",\n        search: \"search\",\n        item: \"item\"\n    },\n    strategies: {\n        selection: [\"single\"],\n        click: [],\n        fold: [\"not-selected\", \"no-child-selection\"]\n    },\n    display: function display(_) {\n        return _.toString();\n    },\n    async: function async(_) {\n        return _();\n    },\n    noOpener: false,\n    dragndrop: {\n        draggable: false,\n        droppable: false\n    }\n};\n//# sourceMappingURL=defaults.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/core/defaults.js","var DragDropTouch;\n(function (DragDropTouch_1) {\n    'use strict';\n    /**\n     * Object used to hold the data that is being dragged during drag and drop operations.\n     *\n     * It may hold one or more data items of different types. For more information about\n     * drag and drop operations and data transfer objects, see\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer\">HTML Drag and Drop API</a>.\n     *\n     * This object is created automatically by the @see:DragDropTouch singleton and is\n     * accessible through the @see:dataTransfer property of all drag events.\n     */\n    var DataTransfer = (function () {\n        function DataTransfer() {\n            this._dropEffect = 'move';\n            this._effectAllowed = 'all';\n            this._data = {};\n        }\n        Object.defineProperty(DataTransfer.prototype, \"dropEffect\", {\n            /**\n             * Gets or sets the type of drag-and-drop operation currently selected.\n             * The value must be 'none',  'copy',  'link', or 'move'.\n             */\n            get: function () {\n                return this._dropEffect;\n            },\n            set: function (value) {\n                this._dropEffect = value;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DataTransfer.prototype, \"effectAllowed\", {\n            /**\n             * Gets or sets the types of operations that are possible.\n             * Must be one of 'none', 'copy', 'copyLink', 'copyMove', 'link',\n             * 'linkMove', 'move', 'all' or 'uninitialized'.\n             */\n            get: function () {\n                return this._effectAllowed;\n            },\n            set: function (value) {\n                this._effectAllowed = value;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(DataTransfer.prototype, \"types\", {\n            /**\n             * Gets an array of strings giving the formats that were set in the @see:dragstart event.\n             */\n            get: function () {\n                return Object.keys(this._data);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        /**\n         * Removes the data associated with a given type.\n         *\n         * The type argument is optional. If the type is empty or not specified, the data\n         * associated with all types is removed. If data for the specified type does not exist,\n         * or the data transfer contains no data, this method will have no effect.\n         *\n         * @param type Type of data to remove.\n         */\n        DataTransfer.prototype.clearData = function (type) {\n            if (type != null) {\n                delete this._data[type];\n            }\n            else {\n                this._data = null;\n            }\n        };\n        /**\n         * Retrieves the data for a given type, or an empty string if data for that type does\n         * not exist or the data transfer contains no data.\n         *\n         * @param type Type of data to retrieve.\n         */\n        DataTransfer.prototype.getData = function (type) {\n            return this._data[type] || '';\n        };\n        /**\n         * Set the data for a given type.\n         *\n         * For a list of recommended drag types, please see\n         * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Recommended_Drag_Types.\n         *\n         * @param type Type of data to add.\n         * @param value Data to add.\n         */\n        DataTransfer.prototype.setData = function (type, value) {\n            this._data[type] = value;\n        };\n        /**\n         * Set the image to be used for dragging if a custom one is desired.\n         *\n         * @param img An image element to use as the drag feedback image.\n         * @param offsetX The horizontal offset within the image.\n         * @param offsetY The vertical offset within the image.\n         */\n        DataTransfer.prototype.setDragImage = function (img, offsetX, offsetY) {\n            var ddt = DragDropTouch._instance;\n            ddt._imgCustom = img;\n            ddt._imgOffset = { x: offsetX, y: offsetY };\n        };\n        return DataTransfer;\n    }());\n    DragDropTouch_1.DataTransfer = DataTransfer;\n    /**\n     * Defines a class that adds support for touch-based HTML5 drag/drop operations.\n     *\n     * The @see:DragDropTouch class listens to touch events and raises the\n     * appropriate HTML5 drag/drop events as if the events had been caused\n     * by mouse actions.\n     *\n     * The purpose of this class is to enable using existing, standard HTML5\n     * drag/drop code on mobile devices running IOS or Android.\n     *\n     * To use, include the DragDropTouch.js file on the page. The class will\n     * automatically start monitoring touch events and will raise the HTML5\n     * drag drop events (dragstart, dragenter, dragleave, drop, dragend) which\n     * should be handled by the application.\n     *\n     * For details and examples on HTML drag and drop, see\n     * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Drag_operations.\n     */\n    var DragDropTouch = (function () {\n        /**\n         * Initializes the single instance of the @see:DragDropTouch class.\n         */\n        function DragDropTouch() {\n            this._lastClick = 0;\n            // enforce singleton pattern\n            if (DragDropTouch._instance) {\n                throw 'DragDropTouch instance already created.';\n            }\n            // detect passive event support\n            // https://github.com/Modernizr/Modernizr/issues/1894\n            var supportsPassive = false;\n            document.addEventListener('test', null, {\n                get passive() {\n                    supportsPassive = true;\n                    return true;\n                }\n            });\n            // listen to touch events\n            if ('ontouchstart' in document) {\n                var d = document, ts = this._touchstart.bind(this), tm = this._touchmove.bind(this), te = this._touchend.bind(this), opt = supportsPassive ? { passive: false, capture: false } : false;\n                d.addEventListener('touchstart', ts, opt);\n                d.addEventListener('touchmove', tm, opt);\n                d.addEventListener('touchend', te);\n                d.addEventListener('touchcancel', te);\n            }\n        }\n        /**\n         * Gets a reference to the @see:DragDropTouch singleton.\n         */\n        DragDropTouch.getInstance = function () {\n            return DragDropTouch._instance;\n        };\n        // ** event handlers\n        DragDropTouch.prototype._touchstart = function (e) {\n            var _this = this;\n            if (this._shouldHandle(e)) {\n                // raise double-click and prevent zooming\n                if (Date.now() - this._lastClick < DragDropTouch._DBLCLICK) {\n                    if (this._dispatchEvent(e, 'dblclick', e.target)) {\n                        e.preventDefault();\n                        this._reset();\n                        return;\n                    }\n                }\n                // clear all variables\n                this._reset();\n                // get nearest draggable element\n                var src = this._closestDraggable(e.target);\n                if (src) {\n                    // give caller a chance to handle the hover/move events\n                    if (!this._dispatchEvent(e, 'mousemove', e.target) &&\n                        !this._dispatchEvent(e, 'mousedown', e.target)) {\n                        // get ready to start dragging\n                        this._dragSource = src;\n                        this._ptDown = this._getPoint(e);\n                        this._lastTouch = e;\n                        e.preventDefault();\n                        // show context menu if the user hasn't started dragging after a while\n                        setTimeout(function () {\n                            if (_this._dragSource == src && _this._img == null) {\n                                if (_this._dispatchEvent(e, 'contextmenu', src)) {\n                                    _this._reset();\n                                }\n                            }\n                        }, DragDropTouch._CTXMENU);\n                    }\n                }\n            }\n        };\n        DragDropTouch.prototype._touchmove = function (e) {\n            if (this._shouldHandle(e)) {\n                // see if target wants to handle move\n                var target = this._getTarget(e);\n                if (this._dispatchEvent(e, 'mousemove', target)) {\n                    this._lastTouch = e;\n                    e.preventDefault();\n                    return;\n                }\n                // start dragging\n                if (this._dragSource && !this._img) {\n                    var delta = this._getDelta(e);\n                    if (delta > DragDropTouch._THRESHOLD) {\n                        this._dispatchEvent(e, 'dragstart', this._dragSource);\n                        this._createImage(e);\n                        this._dispatchEvent(e, 'dragenter', target);\n                    }\n                }\n                // continue dragging\n                if (this._img) {\n                    this._lastTouch = e;\n                    e.preventDefault(); // prevent scrolling\n                    if (target != this._lastTarget) {\n                        this._dispatchEvent(this._lastTouch, 'dragleave', this._lastTarget);\n                        this._dispatchEvent(e, 'dragenter', target);\n                        this._lastTarget = target;\n                    }\n                    this._moveImage(e);\n                    this._dispatchEvent(e, 'dragover', target);\n                }\n            }\n        };\n        DragDropTouch.prototype._touchend = function (e) {\n            if (this._shouldHandle(e)) {\n                // see if target wants to handle up\n                if (this._dispatchEvent(this._lastTouch, 'mouseup', e.target)) {\n                    e.preventDefault();\n                    return;\n                }\n                // user clicked the element but didn't drag, so clear the source and simulate a click\n                if (!this._img) {\n                    this._dragSource = null;\n                    this._dispatchEvent(this._lastTouch, 'click', e.target);\n                    this._lastClick = Date.now();\n                }\n                // finish dragging\n                this._destroyImage();\n                if (this._dragSource) {\n                    if (e.type.indexOf('cancel') < 0) {\n                        this._dispatchEvent(this._lastTouch, 'drop', this._lastTarget);\n                    }\n                    this._dispatchEvent(this._lastTouch, 'dragend', this._dragSource);\n                    this._reset();\n                }\n            }\n        };\n        // ** utilities\n        // ignore events that have been handled or that involve more than one touch\n        DragDropTouch.prototype._shouldHandle = function (e) {\n            return e &&\n                !e.defaultPrevented &&\n                e.touches && e.touches.length < 2;\n        };\n        // clear all members\n        DragDropTouch.prototype._reset = function () {\n            this._destroyImage();\n            this._dragSource = null;\n            this._lastTouch = null;\n            this._lastTarget = null;\n            this._ptDown = null;\n            this._dataTransfer = new DataTransfer();\n        };\n        // get point for a touch event\n        DragDropTouch.prototype._getPoint = function (e, page) {\n            if (e && e.touches) {\n                e = e.touches[0];\n            }\n            return { x: page ? e.pageX : e.clientX, y: page ? e.pageY : e.clientY };\n        };\n        // get distance between the current touch event and the first one\n        DragDropTouch.prototype._getDelta = function (e) {\n            var p = this._getPoint(e);\n            return Math.abs(p.x - this._ptDown.x) + Math.abs(p.y - this._ptDown.y);\n        };\n        // get the element at a given touch event\n        DragDropTouch.prototype._getTarget = function (e) {\n            var pt = this._getPoint(e), el = document.elementFromPoint(pt.x, pt.y);\n            while (el && getComputedStyle(el).pointerEvents == 'none') {\n                el = el.parentElement;\n            }\n            return el;\n        };\n        // create drag image from source element\n        DragDropTouch.prototype._createImage = function (e) {\n            // just in case...\n            if (this._img) {\n                this._destroyImage();\n            }\n            // create drag image from custom element or drag source\n            var src = this._imgCustom || this._dragSource;\n            this._img = src.cloneNode(true);\n            this._copyStyle(src, this._img);\n            this._img.style.top = this._img.style.left = '-9999px';\n            // if creating from drag source, apply offset and opacity\n            if (!this._imgCustom) {\n                var rc = src.getBoundingClientRect(), pt = this._getPoint(e);\n                this._imgOffset = { x: pt.x - rc.left, y: pt.y - rc.top };\n                this._img.style.opacity = DragDropTouch._OPACITY.toString();\n            }\n            // add image to document\n            this._moveImage(e);\n            document.body.appendChild(this._img);\n        };\n        // dispose of drag image element\n        DragDropTouch.prototype._destroyImage = function () {\n            if (this._img && this._img.parentElement) {\n                this._img.parentElement.removeChild(this._img);\n            }\n            this._img = null;\n            this._imgCustom = null;\n        };\n        // move the drag image element\n        DragDropTouch.prototype._moveImage = function (e) {\n            var _this = this;\n            if (this._img) {\n                requestAnimationFrame(function () {\n                    var pt = _this._getPoint(e, true), s = _this._img.style;\n                    s.position = 'absolute';\n                    s.pointerEvents = 'none';\n                    s.zIndex = '999999';\n                    s.left = Math.round(pt.x - _this._imgOffset.x) + 'px';\n                    s.top = Math.round(pt.y - _this._imgOffset.y) + 'px';\n                });\n            }\n        };\n        // copy properties from an object to another\n        DragDropTouch.prototype._copyProps = function (dst, src, props) {\n            for (var i = 0; i < props.length; i++) {\n                var p = props[i];\n                dst[p] = src[p];\n            }\n        };\n        DragDropTouch.prototype._copyStyle = function (src, dst) {\n            // remove potentially troublesome attributes\n            DragDropTouch._rmvAtts.forEach(function (att) {\n                dst.removeAttribute(att);\n            });\n            // copy canvas content\n            if (src instanceof HTMLCanvasElement) {\n                var cSrc = src, cDst = dst;\n                cDst.width = cSrc.width;\n                cDst.height = cSrc.height;\n                cDst.getContext('2d').drawImage(cSrc, 0, 0);\n            }\n            // copy style (without transitions)\n            var cs = getComputedStyle(src);\n            for (var i = 0; i < cs.length; i++) {\n                var key = cs[i];\n               if (key.indexOf('transition') < 0) {\n                    dst.style[key] = cs[key];\n                }\n            }\n            dst.style.pointerEvents = 'none';\n            // and repeat for all children\n            for (var i = 0; i < src.children.length; i++) {\n                this._copyStyle(src.children[i], dst.children[i]);\n            }\n        };\n        DragDropTouch.prototype._dispatchEvent = function (e, type, target) {\n            if (e && target) {\n                var evt = document.createEvent('Event'), t = e.touches ? e.touches[0] : e;\n                evt.initEvent(type, true, true);\n                evt.button = 0;\n                evt.which = evt.buttons = 1;\n                this._copyProps(evt, e, DragDropTouch._kbdProps);\n                this._copyProps(evt, t, DragDropTouch._ptProps);\n                evt.dataTransfer = this._dataTransfer;\n                target.dispatchEvent(evt);\n                return evt.defaultPrevented;\n            }\n            return false;\n        };\n        // gets an element's closest draggable ancestor\n        DragDropTouch.prototype._closestDraggable = function (e) {\n            for (; e; e = e.parentElement) {\n                if (e.hasAttribute('draggable') && e.draggable) {\n                    return e;\n                }\n            }\n            return null;\n        };\n        return DragDropTouch;\n    }());\n    /*private*/ DragDropTouch._instance = new DragDropTouch(); // singleton\n    // constants\n    DragDropTouch._THRESHOLD = 5; // pixels to move before drag starts\n    DragDropTouch._OPACITY = 0.5; // drag image opacity\n    DragDropTouch._DBLCLICK = 500; // max ms between clicks in a double click\n    DragDropTouch._CTXMENU = 900; // ms to hold before raising 'contextmenu' event\n    // copy styles/attributes from drag source to drag image element\n    DragDropTouch._rmvAtts = 'id,class,style,draggable'.split(',');\n    // synthesize and dispatch an event\n    // returns true if the event has been handled (e.preventDefault == true)\n    DragDropTouch._kbdProps = 'altKey,ctrlKey,metaKey,shiftKey'.split(',');\n    DragDropTouch._ptProps = 'pageX,pageY,clientX,clientY,screenX,screenY'.split(',');\n    DragDropTouch_1.DragDropTouch = DragDropTouch;\n})(DragDropTouch || (DragDropTouch = {}));\n\n\n// WEBPACK FOOTER //\n// ./docs/common/libs/dragDropTouch.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport { css, array, tree } from \"../tools\";\n\n// Drag and drop presets //\n\nexport var dragndrop = {\n    // Moves the selection //\n    selection: function selection(model, cb) {\n        return {\n            draggable: true,\n            droppable: true,\n            drag: function drag(item, event, inputs) {\n                event.dataTransfer && event.dataTransfer.setData(\"application/json\", JSON.stringify(inputs.selection));\n            },\n            guard: function guard(target, event, inputs) {\n                // Other data types\n                if (event && event.dataTransfer && event.dataTransfer.types.indexOf(\"application/json\") < 0) return false;\n                // Prevent drop on self\n                var selfDrop = function selfDrop() {\n                    return target && array(inputs.selection).contains(target\n                    // Prevent drop on child\n                    );\n                };var childDrop = function childDrop() {\n                    return inputs.ancestors && inputs.ancestors.reduce(function (prev, curr) {\n                        return prev || array(inputs.selection).contains(curr);\n                    }, false);\n                };\n\n                return selfDrop() || childDrop();\n            },\n            drop: function drop(target, event, inputs) {\n                var updatedModel = tree(model(), inputs.category).filter(function (e) {\n                    return inputs.selection.indexOf(e) < 0;\n                });\n                var adjustedTarget = target ? target[inputs.category] && target[inputs.category] instanceof Array ? target : array(inputs.ancestors).last() : null;\n                if (adjustedTarget) adjustedTarget[inputs.category] = [].concat(_toConsumableArray(adjustedTarget[inputs.category]), _toConsumableArray(inputs.selection));else updatedModel = [].concat(_toConsumableArray(updatedModel), _toConsumableArray(inputs.selection));\n                cb(updatedModel);\n            }\n        };\n    },\n    // Plucks an item on drag\n    pluck: function pluck(model, cb) {\n        return {\n            draggable: true,\n            backup: [],\n            drag: function drag(item, event, inputs) {\n                bak = JSON.stringify(model());\n                event.dataTransfer && event.dataTransfer.setData(\"application/json\", JSON.stringify(item));\n                setTimeout(function () {\n                    return cb(tree(model(), inputs.category).filter(function (e) {\n                        return e !== item;\n                    }));\n                }, 20);\n            },\n            cancel: function cancel() {\n                setTimeout(function () {\n                    return cb(JSON.parse(bak));\n                }, 20);\n            }\n        };\n    },\n    // Pastes item(s) on drop\n    paste: function paste(model, cb) {\n        return {\n            droppable: true,\n            drop: function drop(target, event, inputs) {\n                if (event.dataTransfer && event.dataTransfer.types.indexOf(\"application/json\") > -1) {\n                    var data = JSON.parse(event.dataTransfer.getData(\"application/json\"));\n                    var updatedModel = [].concat(_toConsumableArray(model()));\n                    var adjustedTarget = target ? target[inputs.category] && target[inputs.category] instanceof Array ? target : array(inputs.ancestors).last() : null;\n                    if (adjustedTarget) adjustedTarget[inputs.category] = [].concat(_toConsumableArray(adjustedTarget[inputs.category]), [data]);else updatedModel = [].concat(_toConsumableArray(updatedModel), [data]);\n                    cb(updatedModel);\n                }\n            }\n        };\n    }\n};\nvar bak = \"[]\";\n\n// Utils\n\nexport var utils = {\n    // Returns a list of local files/folders dropped\n    filesystem: function filesystem(event) {\n        var items = event.dataTransfer ? event.dataTransfer.items : null;\n        if (items && items.length > 0 && items[0].kind === \"file\") {\n            var files = [];\n            for (var i = 0; i < items.length; i++) {\n                /* eslint-disable */\n                var item = items[i].webkitGetAsEntry() || items[i].getAsFile\n                /* eslint-enable */\n                ();if (item) {\n                    files.push(item);\n                }\n            }\n            return files;\n        }\n        return null;\n    }\n\n    // Internal use //\n\n};export var nodeEvents = {\n    onDragStart: function onDragStart(item) {\n        return function (event) {\n            event.stopPropagation();\n            this.inputs.get().dragndrop.onDrag(item, event, this.inputs.get());\n        };\n    },\n    onDragOver: function onDragOver(item) {\n        return function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            if (this.inputs.get().dragndrop.guard && this.inputs.get().dragndrop.guard(item, event, this.inputs.get())) {\n                event.dataTransfer && (event.dataTransfer.dropEffect = \"none\");\n                css.addClass(event.currentTarget, this.mixCss(\"nodrop\"));\n                return;\n            }\n\n            css.addClass(event.currentTarget, this.mixCss(\"dragover\"));\n        };\n    },\n    onDragEnter: function onDragEnter(item) {\n        return function (event) {\n            event.preventDefault();\n            event.stopPropagation\n            // If dragging over an opener\n            ();if (item && (this.hasChildren(item) || this.isAsync(item)) && css.hasClass(event.target, this.mixCss(\"opener\"))) {\n                var newVal = this.state.get().unfolded.filter(function (i) {\n                    return i !== item;\n                });\n                newVal.push(item);\n                this.state.set({ unfolded: newVal });\n            }\n        };\n    },\n    onDragLeave: function onDragLeave(event) {\n        event.stopPropagation();\n        css.removeClass(event.currentTarget, this.mixCss(\"dragover\"));\n        css.removeClass(event.currentTarget, this.mixCss(\"nodrop\"));\n    },\n    onDrop: function onDrop(item) {\n        return function (event) {\n            event.stopPropagation();\n            css.removeClass(event.currentTarget, this.mixCss(\"dragover\"));\n            css.removeClass(event.currentTarget, this.mixCss(\"nodrop\"));\n            this.inputs.get().dragndrop.onDrop(item, event, this.inputs.get());\n        };\n    },\n    onDragEnd: function onDragEnd(item) {\n        return function (event) {\n            event.stopPropagation();\n            if (event.dataTransfer && event.dataTransfer.dropEffect === \"none\") this.inputs.get().dragndrop.onCancel(item, event, this.inputs.get());\n        };\n    }\n};\n\nexport var wrapEvents = function wrapEvents() {\n    var _this = this;\n\n    return _extends({}, this.inputs.get().dragndrop, {\n        onDrag: function onDrag(target, event, inputs) {\n            if (!array(_this.inputs.get().selection).contains(target)) {\n                _this.onSelect(target, inputs.ancestors, inputs.neighbours);\n            }\n\n            _this.outputs.onDrag && _this.outputs.onDrag(target, event, inputs);\n        },\n        onDrop: function onDrop(target, event, inputs) {\n            event.preventDefault();\n            _this.outputs.onDrop && _this.outputs.onDrop(target, event, inputs);\n        },\n        onCancel: function onCancel(target, event, inputs) {\n            event.preventDefault();\n            if (event.dataTransfer && event.dataTransfer.dropEffect === \"none\") _this.outputs.onCancel && _this.outputs.onCancel(target, event, inputs);\n        }\n    });\n};\n//# sourceMappingURL=dragndrop.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/core/dragndrop.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 70\n// module chunks = 3"],"sourceRoot":""}